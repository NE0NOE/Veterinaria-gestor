function xI(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var lr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bI(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var JE={exports:{}},tp={},ZE={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td=Symbol.for("react.element"),wI=Symbol.for("react.portal"),_I=Symbol.for("react.fragment"),jI=Symbol.for("react.strict_mode"),SI=Symbol.for("react.profiler"),NI=Symbol.for("react.provider"),kI=Symbol.for("react.context"),CI=Symbol.for("react.forward_ref"),EI=Symbol.for("react.suspense"),PI=Symbol.for("react.memo"),OI=Symbol.for("react.lazy"),G1=Symbol.iterator;function AI(e){return e===null||typeof e!="object"?null:(e=G1&&e[G1]||e["@@iterator"],typeof e=="function"?e:null)}var QE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eP=Object.assign,tP={};function Fl(e,t,r){this.props=e,this.context=t,this.refs=tP,this.updater=r||QE}Fl.prototype.isReactComponent={};Fl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rP(){}rP.prototype=Fl.prototype;function Ab(e,t,r){this.props=e,this.context=t,this.refs=tP,this.updater=r||QE}var Tb=Ab.prototype=new rP;Tb.constructor=Ab;eP(Tb,Fl.prototype);Tb.isPureReactComponent=!0;var K1=Array.isArray,nP=Object.prototype.hasOwnProperty,Mb={current:null},iP={key:!0,ref:!0,__self:!0,__source:!0};function aP(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)nP.call(t,n)&&!iP.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Td,type:e,key:a,ref:s,props:i,_owner:Mb.current}}function TI(e,t){return{$$typeof:Td,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $b(e){return typeof e=="object"&&e!==null&&e.$$typeof===Td}function MI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var X1=/\/+/g;function Gg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?MI(""+e.key):t.toString(36)}function Gf(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Td:case wI:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Gg(s,0):n,K1(i)?(r="",e!=null&&(r=e.replace(X1,"$&/")+"/"),Gf(i,t,r,"",function(u){return u})):i!=null&&($b(i)&&(i=TI(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(X1,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",K1(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Gg(a,l);s+=Gf(a,t,r,c,i)}else if(c=AI(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Gg(a,l++),s+=Gf(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function nf(e,t,r){if(e==null)return e;var n=[],i=0;return Gf(e,n,"","",function(a){return t.call(r,a,i++)}),n}function $I(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ar={current:null},Kf={transition:null},DI={ReactCurrentDispatcher:Ar,ReactCurrentBatchConfig:Kf,ReactCurrentOwner:Mb};function sP(){throw Error("act(...) is not supported in production builds of React.")}We.Children={map:nf,forEach:function(e,t,r){nf(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return nf(e,function(){t++}),t},toArray:function(e){return nf(e,function(t){return t})||[]},only:function(e){if(!$b(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};We.Component=Fl;We.Fragment=_I;We.Profiler=SI;We.PureComponent=Ab;We.StrictMode=jI;We.Suspense=EI;We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DI;We.act=sP;We.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=eP({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Mb.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)nP.call(t,c)&&!iP.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Td,type:e.type,key:i,ref:a,props:n,_owner:s}};We.createContext=function(e){return e={$$typeof:kI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:NI,_context:e},e.Consumer=e};We.createElement=aP;We.createFactory=function(e){var t=aP.bind(null,e);return t.type=e,t};We.createRef=function(){return{current:null}};We.forwardRef=function(e){return{$$typeof:CI,render:e}};We.isValidElement=$b;We.lazy=function(e){return{$$typeof:OI,_payload:{_status:-1,_result:e},_init:$I}};We.memo=function(e,t){return{$$typeof:PI,type:e,compare:t===void 0?null:t}};We.startTransition=function(e){var t=Kf.transition;Kf.transition={};try{e()}finally{Kf.transition=t}};We.unstable_act=sP;We.useCallback=function(e,t){return Ar.current.useCallback(e,t)};We.useContext=function(e){return Ar.current.useContext(e)};We.useDebugValue=function(){};We.useDeferredValue=function(e){return Ar.current.useDeferredValue(e)};We.useEffect=function(e,t){return Ar.current.useEffect(e,t)};We.useId=function(){return Ar.current.useId()};We.useImperativeHandle=function(e,t,r){return Ar.current.useImperativeHandle(e,t,r)};We.useInsertionEffect=function(e,t){return Ar.current.useInsertionEffect(e,t)};We.useLayoutEffect=function(e,t){return Ar.current.useLayoutEffect(e,t)};We.useMemo=function(e,t){return Ar.current.useMemo(e,t)};We.useReducer=function(e,t,r){return Ar.current.useReducer(e,t,r)};We.useRef=function(e){return Ar.current.useRef(e)};We.useState=function(e){return Ar.current.useState(e)};We.useSyncExternalStore=function(e,t,r){return Ar.current.useSyncExternalStore(e,t,r)};We.useTransition=function(){return Ar.current.useTransition()};We.version="18.3.1";ZE.exports=We;var S=ZE.exports;const z=nt(S),II=xI({__proto__:null,default:z},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RI=S,LI=Symbol.for("react.element"),zI=Symbol.for("react.fragment"),FI=Object.prototype.hasOwnProperty,UI=RI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BI={key:!0,ref:!0,__self:!0,__source:!0};function oP(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)FI.call(t,n)&&!BI.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:LI,type:e,key:a,ref:s,props:i,_owner:UI.current}}tp.Fragment=zI;tp.jsx=oP;tp.jsxs=oP;JE.exports=tp;var o=JE.exports,lP={exports:{}},an={},cP={exports:{}},uP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,D){var X=R.length;R.push(D);e:for(;0<X;){var ne=X-1>>>1,Q=R[ne];if(0<i(Q,D))R[ne]=D,R[X]=Q,X=ne;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var D=R[0],X=R.pop();if(X!==D){R[0]=X;e:for(var ne=0,Q=R.length,K=Q>>>1;ne<K;){var ce=2*(ne+1)-1,me=R[ce],xe=ce+1,ue=R[xe];if(0>i(me,X))xe<Q&&0>i(ue,me)?(R[ne]=ue,R[xe]=X,ne=xe):(R[ne]=me,R[ce]=X,ne=ce);else if(xe<Q&&0>i(ue,X))R[ne]=ue,R[xe]=X,ne=xe;else break e}}return D}function i(R,D){var X=R.sortIndex-D.sortIndex;return X!==0?X:R.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,x=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=R)n(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(u)}}function _(R){if(g=!1,b(R),!x)if(r(c)!==null)x=!0,Y(w);else{var D=r(u);D!==null&&F(_,D.startTime-R)}}function w(R,D){x=!1,g&&(g=!1,p(k),k=-1),m=!0;var X=h;try{for(b(D),f=r(c);f!==null&&(!(f.expirationTime>D)||R&&!C());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,h=f.priorityLevel;var Q=ne(f.expirationTime<=D);D=e.unstable_now(),typeof Q=="function"?f.callback=Q:f===r(c)&&n(c),b(D)}else n(c);f=r(c)}if(f!==null)var K=!0;else{var ce=r(u);ce!==null&&F(_,ce.startTime-D),K=!1}return K}finally{f=null,h=X,m=!1}}var j=!1,N=null,k=-1,E=5,M=-1;function C(){return!(e.unstable_now()-M<E)}function O(){if(N!==null){var R=e.unstable_now();M=R;var D=!0;try{D=N(!0,R)}finally{D?L():(j=!1,N=null)}}else j=!1}var L;if(typeof y=="function")L=function(){y(O)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,B=$.port2;$.port1.onmessage=O,L=function(){B.postMessage(null)}}else L=function(){v(O,0)};function Y(R){N=R,j||(j=!0,L())}function F(R,D){k=v(function(){R(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,Y(w))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var X=h;h=D;try{return R()}finally{h=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,D){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var X=h;h=R;try{return D()}finally{h=X}},e.unstable_scheduleCallback=function(R,D,X){var ne=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ne+X:ne):X=ne,R){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=X+Q,R={id:d++,callback:D,priorityLevel:R,startTime:X,expirationTime:Q,sortIndex:-1},X>ne?(R.sortIndex=X,t(u,R),r(c)===null&&R===r(u)&&(g?(p(k),k=-1):g=!0,F(_,X-ne))):(R.sortIndex=Q,t(c,R),x||m||(x=!0,Y(w))),R},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(R){var D=h;return function(){var X=h;h=D;try{return R.apply(this,arguments)}finally{h=X}}}})(uP);cP.exports=uP;var VI=cP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qI=S,nn=VI;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dP=new Set,pu={};function Zs(e,t){nl(e,t),nl(e+"Capture",t)}function nl(e,t){for(pu[e]=t,e=0;e<t.length;e++)dP.add(t[e])}var Yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ny=Object.prototype.hasOwnProperty,WI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J1={},Z1={};function HI(e){return Ny.call(Z1,e)?!0:Ny.call(J1,e)?!1:WI.test(e)?Z1[e]=!0:(J1[e]=!0,!1)}function YI(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function GI(e,t,r,n){if(t===null||typeof t>"u"||YI(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Tr(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ur[e]=new Tr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ur[t]=new Tr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ur[e]=new Tr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ur[e]=new Tr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ur[e]=new Tr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ur[e]=new Tr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ur[e]=new Tr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ur[e]=new Tr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ur[e]=new Tr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Db=/[\-:]([a-z])/g;function Ib(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Db,Ib);ur[t]=new Tr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Db,Ib);ur[t]=new Tr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Db,Ib);ur[t]=new Tr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ur[e]=new Tr(e,1,!1,e.toLowerCase(),null,!1,!1)});ur.xlinkHref=new Tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ur[e]=new Tr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rb(e,t,r,n){var i=ur.hasOwnProperty(t)?ur[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(GI(t,r,i,n)&&(r=null),n||i===null?HI(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ia=qI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,af=Symbol.for("react.element"),bo=Symbol.for("react.portal"),wo=Symbol.for("react.fragment"),Lb=Symbol.for("react.strict_mode"),ky=Symbol.for("react.profiler"),fP=Symbol.for("react.provider"),hP=Symbol.for("react.context"),zb=Symbol.for("react.forward_ref"),Cy=Symbol.for("react.suspense"),Ey=Symbol.for("react.suspense_list"),Fb=Symbol.for("react.memo"),va=Symbol.for("react.lazy"),mP=Symbol.for("react.offscreen"),Q1=Symbol.iterator;function pc(e){return e===null||typeof e!="object"?null:(e=Q1&&e[Q1]||e["@@iterator"],typeof e=="function"?e:null)}var Tt=Object.assign,Kg;function Rc(e){if(Kg===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Kg=t&&t[1]||""}return`
`+Kg+e}var Xg=!1;function Jg(e,t){if(!e||Xg)return"";Xg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,l=a.length-1;1<=s&&0<=l&&i[s]!==a[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==a[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==a[l]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{Xg=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Rc(e):""}function KI(e){switch(e.tag){case 5:return Rc(e.type);case 16:return Rc("Lazy");case 13:return Rc("Suspense");case 19:return Rc("SuspenseList");case 0:case 2:case 15:return e=Jg(e.type,!1),e;case 11:return e=Jg(e.type.render,!1),e;case 1:return e=Jg(e.type,!0),e;default:return""}}function Py(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wo:return"Fragment";case bo:return"Portal";case ky:return"Profiler";case Lb:return"StrictMode";case Cy:return"Suspense";case Ey:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hP:return(e.displayName||"Context")+".Consumer";case fP:return(e._context.displayName||"Context")+".Provider";case zb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fb:return t=e.displayName||null,t!==null?t:Py(e.type)||"Memo";case va:t=e._payload,e=e._init;try{return Py(e(t))}catch{}}return null}function XI(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Py(t);case 8:return t===Lb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ya(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function JI(e){var t=pP(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sf(e){e._valueTracker||(e._valueTracker=JI(e))}function gP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=pP(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ph(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Oy(e,t){var r=t.checked;return Tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ej(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ya(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yP(e,t){t=t.checked,t!=null&&Rb(e,"checked",t,!1)}function Ay(e,t){yP(e,t);var r=Ya(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ty(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ty(e,t.type,Ya(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tj(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ty(e,t,r){(t!=="number"||ph(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Lc=Array.isArray;function Vo(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ya(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function My(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rj(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(fe(92));if(Lc(r)){if(1<r.length)throw Error(fe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ya(r)}}function vP(e,t){var r=Ya(t.value),n=Ya(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function nj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $y(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var of,bP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(of=of||document.createElement("div"),of.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=of.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Wc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZI=["Webkit","ms","Moz","O"];Object.keys(Wc).forEach(function(e){ZI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wc[t]=Wc[e]})});function wP(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Wc.hasOwnProperty(e)&&Wc[e]?(""+t).trim():t+"px"}function _P(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=wP(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var QI=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dy(e,t){if(t){if(QI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function Iy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ry=null;function Ub(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ly=null,qo=null,Wo=null;function ij(e){if(e=Dd(e)){if(typeof Ly!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=sp(t),Ly(e.stateNode,e.type,t))}}function jP(e){qo?Wo?Wo.push(e):Wo=[e]:qo=e}function SP(){if(qo){var e=qo,t=Wo;if(Wo=qo=null,ij(e),t)for(e=0;e<t.length;e++)ij(t[e])}}function NP(e,t){return e(t)}function kP(){}var Zg=!1;function CP(e,t,r){if(Zg)return e(t,r);Zg=!0;try{return NP(e,t,r)}finally{Zg=!1,(qo!==null||Wo!==null)&&(kP(),SP())}}function yu(e,t){var r=e.stateNode;if(r===null)return null;var n=sp(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(fe(231,t,typeof r));return r}var zy=!1;if(Yi)try{var gc={};Object.defineProperty(gc,"passive",{get:function(){zy=!0}}),window.addEventListener("test",gc,gc),window.removeEventListener("test",gc,gc)}catch{zy=!1}function eR(e,t,r,n,i,a,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Hc=!1,gh=null,yh=!1,Fy=null,tR={onError:function(e){Hc=!0,gh=e}};function rR(e,t,r,n,i,a,s,l,c){Hc=!1,gh=null,eR.apply(tR,arguments)}function nR(e,t,r,n,i,a,s,l,c){if(rR.apply(this,arguments),Hc){if(Hc){var u=gh;Hc=!1,gh=null}else throw Error(fe(198));yh||(yh=!0,Fy=u)}}function Qs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function EP(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function aj(e){if(Qs(e)!==e)throw Error(fe(188))}function iR(e){var t=e.alternate;if(!t){if(t=Qs(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return aj(i),e;if(a===n)return aj(i),t;a=a.sibling}throw Error(fe(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s)throw Error(fe(189))}}if(r.alternate!==n)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?e:t}function PP(e){return e=iR(e),e!==null?OP(e):null}function OP(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=OP(e);if(t!==null)return t;e=e.sibling}return null}var AP=nn.unstable_scheduleCallback,sj=nn.unstable_cancelCallback,aR=nn.unstable_shouldYield,sR=nn.unstable_requestPaint,Lt=nn.unstable_now,oR=nn.unstable_getCurrentPriorityLevel,Bb=nn.unstable_ImmediatePriority,TP=nn.unstable_UserBlockingPriority,vh=nn.unstable_NormalPriority,lR=nn.unstable_LowPriority,MP=nn.unstable_IdlePriority,rp=null,ai=null;function cR(e){if(ai&&typeof ai.onCommitFiberRoot=="function")try{ai.onCommitFiberRoot(rp,e,void 0,(e.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:fR,uR=Math.log,dR=Math.LN2;function fR(e){return e>>>=0,e===0?32:31-(uR(e)/dR|0)|0}var lf=64,cf=4194304;function zc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xh(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var l=s&~i;l!==0?n=zc(l):(a&=s,a!==0&&(n=zc(a)))}else s=r&~i,s!==0?n=zc(s):a!==0&&(n=zc(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Vn(t),i=1<<r,n|=e[r],t&=~i;return n}function hR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mR(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Vn(a),l=1<<s,c=i[s];c===-1?(!(l&r)||l&n)&&(i[s]=hR(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Uy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $P(){var e=lf;return lf<<=1,!(lf&4194240)&&(lf=64),e}function Qg(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Md(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vn(t),e[t]=r}function pR(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Vn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Vb(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Vn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var at=0;function DP(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var IP,qb,RP,LP,zP,By=!1,uf=[],$a=null,Da=null,Ia=null,vu=new Map,xu=new Map,ja=[],gR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oj(e,t){switch(e){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":Ia=null;break;case"pointerover":case"pointerout":vu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xu.delete(t.pointerId)}}function yc(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Dd(t),t!==null&&qb(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function yR(e,t,r,n,i){switch(t){case"focusin":return $a=yc($a,e,t,r,n,i),!0;case"dragenter":return Da=yc(Da,e,t,r,n,i),!0;case"mouseover":return Ia=yc(Ia,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return vu.set(a,yc(vu.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,xu.set(a,yc(xu.get(a)||null,e,t,r,n,i)),!0}return!1}function FP(e){var t=Ss(e.target);if(t!==null){var r=Qs(t);if(r!==null){if(t=r.tag,t===13){if(t=EP(r),t!==null){e.blockedOn=t,zP(e.priority,function(){RP(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Vy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ry=n,r.target.dispatchEvent(n),Ry=null}else return t=Dd(r),t!==null&&qb(t),e.blockedOn=r,!1;t.shift()}return!0}function lj(e,t,r){Xf(e)&&r.delete(t)}function vR(){By=!1,$a!==null&&Xf($a)&&($a=null),Da!==null&&Xf(Da)&&(Da=null),Ia!==null&&Xf(Ia)&&(Ia=null),vu.forEach(lj),xu.forEach(lj)}function vc(e,t){e.blockedOn===t&&(e.blockedOn=null,By||(By=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,vR)))}function bu(e){function t(i){return vc(i,e)}if(0<uf.length){vc(uf[0],e);for(var r=1;r<uf.length;r++){var n=uf[r];n.blockedOn===e&&(n.blockedOn=null)}}for($a!==null&&vc($a,e),Da!==null&&vc(Da,e),Ia!==null&&vc(Ia,e),vu.forEach(t),xu.forEach(t),r=0;r<ja.length;r++)n=ja[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ja.length&&(r=ja[0],r.blockedOn===null);)FP(r),r.blockedOn===null&&ja.shift()}var Ho=ia.ReactCurrentBatchConfig,bh=!0;function xR(e,t,r,n){var i=at,a=Ho.transition;Ho.transition=null;try{at=1,Wb(e,t,r,n)}finally{at=i,Ho.transition=a}}function bR(e,t,r,n){var i=at,a=Ho.transition;Ho.transition=null;try{at=4,Wb(e,t,r,n)}finally{at=i,Ho.transition=a}}function Wb(e,t,r,n){if(bh){var i=Vy(e,t,r,n);if(i===null)c0(e,t,n,wh,r),oj(e,n);else if(yR(i,e,t,r,n))n.stopPropagation();else if(oj(e,n),t&4&&-1<gR.indexOf(e)){for(;i!==null;){var a=Dd(i);if(a!==null&&IP(a),a=Vy(e,t,r,n),a===null&&c0(e,t,n,wh,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else c0(e,t,n,null,r)}}var wh=null;function Vy(e,t,r,n){if(wh=null,e=Ub(n),e=Ss(e),e!==null)if(t=Qs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=EP(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wh=e,null}function UP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oR()){case Bb:return 1;case TP:return 4;case vh:case lR:return 16;case MP:return 536870912;default:return 16}default:return 16}}var Ca=null,Hb=null,Jf=null;function BP(){if(Jf)return Jf;var e,t=Hb,r=t.length,n,i="value"in Ca?Ca.value:Ca.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return Jf=i.slice(e,1<n?1-n:void 0)}function Zf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function df(){return!0}function cj(){return!1}function sn(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?df:cj,this.isPropagationStopped=cj,this}return Tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=df)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=df)},persist:function(){},isPersistent:df}),t}var Ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yb=sn(Ul),$d=Tt({},Ul,{view:0,detail:0}),wR=sn($d),e0,t0,xc,np=Tt({},$d,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xc&&(xc&&e.type==="mousemove"?(e0=e.screenX-xc.screenX,t0=e.screenY-xc.screenY):t0=e0=0,xc=e),e0)},movementY:function(e){return"movementY"in e?e.movementY:t0}}),uj=sn(np),_R=Tt({},np,{dataTransfer:0}),jR=sn(_R),SR=Tt({},$d,{relatedTarget:0}),r0=sn(SR),NR=Tt({},Ul,{animationName:0,elapsedTime:0,pseudoElement:0}),kR=sn(NR),CR=Tt({},Ul,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ER=sn(CR),PR=Tt({},Ul,{data:0}),dj=sn(PR),OR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TR[e])?!!t[e]:!1}function Gb(){return MR}var $R=Tt({},$d,{key:function(e){if(e.key){var t=OR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?AR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gb,charCode:function(e){return e.type==="keypress"?Zf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DR=sn($R),IR=Tt({},np,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fj=sn(IR),RR=Tt({},$d,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gb}),LR=sn(RR),zR=Tt({},Ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),FR=sn(zR),UR=Tt({},np,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),BR=sn(UR),VR=[9,13,27,32],Kb=Yi&&"CompositionEvent"in window,Yc=null;Yi&&"documentMode"in document&&(Yc=document.documentMode);var qR=Yi&&"TextEvent"in window&&!Yc,VP=Yi&&(!Kb||Yc&&8<Yc&&11>=Yc),hj=" ",mj=!1;function qP(e,t){switch(e){case"keyup":return VR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _o=!1;function WR(e,t){switch(e){case"compositionend":return WP(t);case"keypress":return t.which!==32?null:(mj=!0,hj);case"textInput":return e=t.data,e===hj&&mj?null:e;default:return null}}function HR(e,t){if(_o)return e==="compositionend"||!Kb&&qP(e,t)?(e=BP(),Jf=Hb=Ca=null,_o=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return VP&&t.locale!=="ko"?null:t.data;default:return null}}var YR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!YR[e.type]:t==="textarea"}function HP(e,t,r,n){jP(n),t=_h(t,"onChange"),0<t.length&&(r=new Yb("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Gc=null,wu=null;function GR(e){nO(e,0)}function ip(e){var t=No(e);if(gP(t))return e}function KR(e,t){if(e==="change")return t}var YP=!1;if(Yi){var n0;if(Yi){var i0="oninput"in document;if(!i0){var gj=document.createElement("div");gj.setAttribute("oninput","return;"),i0=typeof gj.oninput=="function"}n0=i0}else n0=!1;YP=n0&&(!document.documentMode||9<document.documentMode)}function yj(){Gc&&(Gc.detachEvent("onpropertychange",GP),wu=Gc=null)}function GP(e){if(e.propertyName==="value"&&ip(wu)){var t=[];HP(t,wu,e,Ub(e)),CP(GR,t)}}function XR(e,t,r){e==="focusin"?(yj(),Gc=t,wu=r,Gc.attachEvent("onpropertychange",GP)):e==="focusout"&&yj()}function JR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ip(wu)}function ZR(e,t){if(e==="click")return ip(t)}function QR(e,t){if(e==="input"||e==="change")return ip(t)}function e6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yn=typeof Object.is=="function"?Object.is:e6;function _u(e,t){if(Yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ny.call(t,i)||!Yn(e[i],t[i]))return!1}return!0}function vj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xj(e,t){var r=vj(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vj(r)}}function KP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?KP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function XP(){for(var e=window,t=ph();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ph(e.document)}return t}function Xb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function t6(e){var t=XP(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&KP(r.ownerDocument.documentElement,r)){if(n!==null&&Xb(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=xj(r,a);var s=xj(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var r6=Yi&&"documentMode"in document&&11>=document.documentMode,jo=null,qy=null,Kc=null,Wy=!1;function bj(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wy||jo==null||jo!==ph(n)||(n=jo,"selectionStart"in n&&Xb(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Kc&&_u(Kc,n)||(Kc=n,n=_h(qy,"onSelect"),0<n.length&&(t=new Yb("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=jo)))}function ff(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var So={animationend:ff("Animation","AnimationEnd"),animationiteration:ff("Animation","AnimationIteration"),animationstart:ff("Animation","AnimationStart"),transitionend:ff("Transition","TransitionEnd")},a0={},JP={};Yi&&(JP=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function ap(e){if(a0[e])return a0[e];if(!So[e])return e;var t=So[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in JP)return a0[e]=t[r];return e}var ZP=ap("animationend"),QP=ap("animationiteration"),eO=ap("animationstart"),tO=ap("transitionend"),rO=new Map,wj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Za(e,t){rO.set(e,t),Zs(t,[e])}for(var s0=0;s0<wj.length;s0++){var o0=wj[s0],n6=o0.toLowerCase(),i6=o0[0].toUpperCase()+o0.slice(1);Za(n6,"on"+i6)}Za(ZP,"onAnimationEnd");Za(QP,"onAnimationIteration");Za(eO,"onAnimationStart");Za("dblclick","onDoubleClick");Za("focusin","onFocus");Za("focusout","onBlur");Za(tO,"onTransitionEnd");nl("onMouseEnter",["mouseout","mouseover"]);nl("onMouseLeave",["mouseout","mouseover"]);nl("onPointerEnter",["pointerout","pointerover"]);nl("onPointerLeave",["pointerout","pointerover"]);Zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fc));function _j(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,nR(n,t,void 0,e),e.currentTarget=null}function nO(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var l=n[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;_j(i,l,u),a=c}else for(s=0;s<n.length;s++){if(l=n[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;_j(i,l,u),a=c}}}if(yh)throw e=Fy,yh=!1,Fy=null,e}function vt(e,t){var r=t[Xy];r===void 0&&(r=t[Xy]=new Set);var n=e+"__bubble";r.has(n)||(iO(t,e,2,!1),r.add(n))}function l0(e,t,r){var n=0;t&&(n|=4),iO(r,e,n,t)}var hf="_reactListening"+Math.random().toString(36).slice(2);function ju(e){if(!e[hf]){e[hf]=!0,dP.forEach(function(r){r!=="selectionchange"&&(a6.has(r)||l0(r,!1,e),l0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hf]||(t[hf]=!0,l0("selectionchange",!1,t))}}function iO(e,t,r,n){switch(UP(t)){case 1:var i=xR;break;case 4:i=bR;break;default:i=Wb}r=i.bind(null,t,r,e),i=void 0,!zy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function c0(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Ss(l),s===null)return;if(c=s.tag,c===5||c===6){n=a=s;continue e}l=l.parentNode}}n=n.return}CP(function(){var u=a,d=Ub(r),f=[];e:{var h=rO.get(e);if(h!==void 0){var m=Yb,x=e;switch(e){case"keypress":if(Zf(r)===0)break e;case"keydown":case"keyup":m=DR;break;case"focusin":x="focus",m=r0;break;case"focusout":x="blur",m=r0;break;case"beforeblur":case"afterblur":m=r0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=uj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=jR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=LR;break;case ZP:case QP:case eO:m=kR;break;case tO:m=FR;break;case"scroll":m=wR;break;case"wheel":m=BR;break;case"copy":case"cut":case"paste":m=ER;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=fj}var g=(t&4)!==0,v=!g&&e==="scroll",p=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,b;y!==null;){b=y;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,p!==null&&(_=yu(y,p),_!=null&&g.push(Su(y,_,b)))),v)break;y=y.return}0<g.length&&(h=new m(h,x,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Ry&&(x=r.relatedTarget||r.fromElement)&&(Ss(x)||x[Gi]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=u,x=x?Ss(x):null,x!==null&&(v=Qs(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(g=uj,_="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=fj,_="onPointerLeave",p="onPointerEnter",y="pointer"),v=m==null?h:No(m),b=x==null?h:No(x),h=new g(_,y+"leave",m,r,d),h.target=v,h.relatedTarget=b,_=null,Ss(d)===u&&(g=new g(p,y+"enter",x,r,d),g.target=b,g.relatedTarget=v,_=g),v=_,m&&x)t:{for(g=m,p=x,y=0,b=g;b;b=co(b))y++;for(b=0,_=p;_;_=co(_))b++;for(;0<y-b;)g=co(g),y--;for(;0<b-y;)p=co(p),b--;for(;y--;){if(g===p||p!==null&&g===p.alternate)break t;g=co(g),p=co(p)}g=null}else g=null;m!==null&&jj(f,h,m,g,!1),x!==null&&v!==null&&jj(f,v,x,g,!0)}}e:{if(h=u?No(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var w=KR;else if(pj(h))if(YP)w=QR;else{w=JR;var j=XR}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=ZR);if(w&&(w=w(e,u))){HP(f,w,r,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Ty(h,"number",h.value)}switch(j=u?No(u):window,e){case"focusin":(pj(j)||j.contentEditable==="true")&&(jo=j,qy=u,Kc=null);break;case"focusout":Kc=qy=jo=null;break;case"mousedown":Wy=!0;break;case"contextmenu":case"mouseup":case"dragend":Wy=!1,bj(f,r,d);break;case"selectionchange":if(r6)break;case"keydown":case"keyup":bj(f,r,d)}var N;if(Kb)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else _o?qP(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(VP&&r.locale!=="ko"&&(_o||k!=="onCompositionStart"?k==="onCompositionEnd"&&_o&&(N=BP()):(Ca=d,Hb="value"in Ca?Ca.value:Ca.textContent,_o=!0)),j=_h(u,k),0<j.length&&(k=new dj(k,e,null,r,d),f.push({event:k,listeners:j}),N?k.data=N:(N=WP(r),N!==null&&(k.data=N)))),(N=qR?WR(e,r):HR(e,r))&&(u=_h(u,"onBeforeInput"),0<u.length&&(d=new dj("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}nO(f,t)})}function Su(e,t,r){return{instance:e,listener:t,currentTarget:r}}function _h(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=yu(e,r),a!=null&&n.unshift(Su(e,a,i)),a=yu(e,t),a!=null&&n.push(Su(e,a,i))),e=e.return}return n}function co(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jj(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=yu(r,a),c!=null&&s.unshift(Su(r,c,l))):i||(c=yu(r,a),c!=null&&s.push(Su(r,c,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var s6=/\r\n?/g,o6=/\u0000|\uFFFD/g;function Sj(e){return(typeof e=="string"?e:""+e).replace(s6,`
`).replace(o6,"")}function mf(e,t,r){if(t=Sj(t),Sj(e)!==t&&r)throw Error(fe(425))}function jh(){}var Hy=null,Yy=null;function Gy(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ky=typeof setTimeout=="function"?setTimeout:void 0,l6=typeof clearTimeout=="function"?clearTimeout:void 0,Nj=typeof Promise=="function"?Promise:void 0,c6=typeof queueMicrotask=="function"?queueMicrotask:typeof Nj<"u"?function(e){return Nj.resolve(null).then(e).catch(u6)}:Ky;function u6(e){setTimeout(function(){throw e})}function u0(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),bu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);bu(t)}function Ra(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Bl=Math.random().toString(36).slice(2),ri="__reactFiber$"+Bl,Nu="__reactProps$"+Bl,Gi="__reactContainer$"+Bl,Xy="__reactEvents$"+Bl,d6="__reactListeners$"+Bl,f6="__reactHandles$"+Bl;function Ss(e){var t=e[ri];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Gi]||r[ri]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=kj(e);e!==null;){if(r=e[ri])return r;e=kj(e)}return t}e=r,r=e.parentNode}return null}function Dd(e){return e=e[ri]||e[Gi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function No(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function sp(e){return e[Nu]||null}var Jy=[],ko=-1;function Qa(e){return{current:e}}function wt(e){0>ko||(e.current=Jy[ko],Jy[ko]=null,ko--)}function pt(e,t){ko++,Jy[ko]=e.current,e.current=t}var Ga={},jr=Qa(Ga),Br=Qa(!1),Us=Ga;function il(e,t){var r=e.type.contextTypes;if(!r)return Ga;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Vr(e){return e=e.childContextTypes,e!=null}function Sh(){wt(Br),wt(jr)}function Cj(e,t,r){if(jr.current!==Ga)throw Error(fe(168));pt(jr,t),pt(Br,r)}function aO(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(fe(108,XI(e)||"Unknown",i));return Tt({},r,n)}function Nh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ga,Us=jr.current,pt(jr,e),pt(Br,Br.current),!0}function Ej(e,t,r){var n=e.stateNode;if(!n)throw Error(fe(169));r?(e=aO(e,t,Us),n.__reactInternalMemoizedMergedChildContext=e,wt(Br),wt(jr),pt(jr,e)):wt(Br),pt(Br,r)}var Ai=null,op=!1,d0=!1;function sO(e){Ai===null?Ai=[e]:Ai.push(e)}function h6(e){op=!0,sO(e)}function es(){if(!d0&&Ai!==null){d0=!0;var e=0,t=at;try{var r=Ai;for(at=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ai=null,op=!1}catch(i){throw Ai!==null&&(Ai=Ai.slice(e+1)),AP(Bb,es),i}finally{at=t,d0=!1}}return null}var Co=[],Eo=0,kh=null,Ch=0,pn=[],gn=0,Bs=null,Ti=1,Mi="";function ms(e,t){Co[Eo++]=Ch,Co[Eo++]=kh,kh=e,Ch=t}function oO(e,t,r){pn[gn++]=Ti,pn[gn++]=Mi,pn[gn++]=Bs,Bs=e;var n=Ti;e=Mi;var i=32-Vn(n)-1;n&=~(1<<i),r+=1;var a=32-Vn(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Ti=1<<32-Vn(t)+i|r<<i|n,Mi=a+e}else Ti=1<<a|r<<i|n,Mi=e}function Jb(e){e.return!==null&&(ms(e,1),oO(e,1,0))}function Zb(e){for(;e===kh;)kh=Co[--Eo],Co[Eo]=null,Ch=Co[--Eo],Co[Eo]=null;for(;e===Bs;)Bs=pn[--gn],pn[gn]=null,Mi=pn[--gn],pn[gn]=null,Ti=pn[--gn],pn[gn]=null}var en=null,Qr=null,Nt=!1,Fn=null;function lO(e,t){var r=xn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Pj(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,en=e,Qr=Ra(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,en=e,Qr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Bs!==null?{id:Ti,overflow:Mi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=xn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,en=e,Qr=null,!0):!1;default:return!1}}function Zy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qy(e){if(Nt){var t=Qr;if(t){var r=t;if(!Pj(e,t)){if(Zy(e))throw Error(fe(418));t=Ra(r.nextSibling);var n=en;t&&Pj(e,t)?lO(n,r):(e.flags=e.flags&-4097|2,Nt=!1,en=e)}}else{if(Zy(e))throw Error(fe(418));e.flags=e.flags&-4097|2,Nt=!1,en=e}}}function Oj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;en=e}function pf(e){if(e!==en)return!1;if(!Nt)return Oj(e),Nt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gy(e.type,e.memoizedProps)),t&&(t=Qr)){if(Zy(e))throw cO(),Error(fe(418));for(;t;)lO(e,t),t=Ra(t.nextSibling)}if(Oj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qr=Ra(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qr=null}}else Qr=en?Ra(e.stateNode.nextSibling):null;return!0}function cO(){for(var e=Qr;e;)e=Ra(e.nextSibling)}function al(){Qr=en=null,Nt=!1}function Qb(e){Fn===null?Fn=[e]:Fn.push(e)}var m6=ia.ReactCurrentBatchConfig;function bc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var n=r.stateNode}if(!n)throw Error(fe(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var l=i.refs;s===null?delete l[a]:l[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,e))}return e}function gf(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Aj(e){var t=e._init;return t(e._payload)}function uO(e){function t(p,y){if(e){var b=p.deletions;b===null?(p.deletions=[y],p.flags|=16):b.push(y)}}function r(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function n(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function i(p,y){return p=Ua(p,y),p.index=0,p.sibling=null,p}function a(p,y,b){return p.index=b,e?(b=p.alternate,b!==null?(b=b.index,b<y?(p.flags|=2,y):b):(p.flags|=2,y)):(p.flags|=1048576,y)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,y,b,_){return y===null||y.tag!==6?(y=v0(b,p.mode,_),y.return=p,y):(y=i(y,b),y.return=p,y)}function c(p,y,b,_){var w=b.type;return w===wo?d(p,y,b.props.children,_,b.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===va&&Aj(w)===y.type)?(_=i(y,b.props),_.ref=bc(p,y,b),_.return=p,_):(_=ah(b.type,b.key,b.props,null,p.mode,_),_.ref=bc(p,y,b),_.return=p,_)}function u(p,y,b,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=x0(b,p.mode,_),y.return=p,y):(y=i(y,b.children||[]),y.return=p,y)}function d(p,y,b,_,w){return y===null||y.tag!==7?(y=Ds(b,p.mode,_,w),y.return=p,y):(y=i(y,b),y.return=p,y)}function f(p,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=v0(""+y,p.mode,b),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case af:return b=ah(y.type,y.key,y.props,null,p.mode,b),b.ref=bc(p,null,y),b.return=p,b;case bo:return y=x0(y,p.mode,b),y.return=p,y;case va:var _=y._init;return f(p,_(y._payload),b)}if(Lc(y)||pc(y))return y=Ds(y,p.mode,b,null),y.return=p,y;gf(p,y)}return null}function h(p,y,b,_){var w=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:l(p,y,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case af:return b.key===w?c(p,y,b,_):null;case bo:return b.key===w?u(p,y,b,_):null;case va:return w=b._init,h(p,y,w(b._payload),_)}if(Lc(b)||pc(b))return w!==null?null:d(p,y,b,_,null);gf(p,b)}return null}function m(p,y,b,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(b)||null,l(y,p,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case af:return p=p.get(_.key===null?b:_.key)||null,c(y,p,_,w);case bo:return p=p.get(_.key===null?b:_.key)||null,u(y,p,_,w);case va:var j=_._init;return m(p,y,b,j(_._payload),w)}if(Lc(_)||pc(_))return p=p.get(b)||null,d(y,p,_,w,null);gf(y,_)}return null}function x(p,y,b,_){for(var w=null,j=null,N=y,k=y=0,E=null;N!==null&&k<b.length;k++){N.index>k?(E=N,N=null):E=N.sibling;var M=h(p,N,b[k],_);if(M===null){N===null&&(N=E);break}e&&N&&M.alternate===null&&t(p,N),y=a(M,y,k),j===null?w=M:j.sibling=M,j=M,N=E}if(k===b.length)return r(p,N),Nt&&ms(p,k),w;if(N===null){for(;k<b.length;k++)N=f(p,b[k],_),N!==null&&(y=a(N,y,k),j===null?w=N:j.sibling=N,j=N);return Nt&&ms(p,k),w}for(N=n(p,N);k<b.length;k++)E=m(N,p,k,b[k],_),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?k:E.key),y=a(E,y,k),j===null?w=E:j.sibling=E,j=E);return e&&N.forEach(function(C){return t(p,C)}),Nt&&ms(p,k),w}function g(p,y,b,_){var w=pc(b);if(typeof w!="function")throw Error(fe(150));if(b=w.call(b),b==null)throw Error(fe(151));for(var j=w=null,N=y,k=y=0,E=null,M=b.next();N!==null&&!M.done;k++,M=b.next()){N.index>k?(E=N,N=null):E=N.sibling;var C=h(p,N,M.value,_);if(C===null){N===null&&(N=E);break}e&&N&&C.alternate===null&&t(p,N),y=a(C,y,k),j===null?w=C:j.sibling=C,j=C,N=E}if(M.done)return r(p,N),Nt&&ms(p,k),w;if(N===null){for(;!M.done;k++,M=b.next())M=f(p,M.value,_),M!==null&&(y=a(M,y,k),j===null?w=M:j.sibling=M,j=M);return Nt&&ms(p,k),w}for(N=n(p,N);!M.done;k++,M=b.next())M=m(N,p,k,M.value,_),M!==null&&(e&&M.alternate!==null&&N.delete(M.key===null?k:M.key),y=a(M,y,k),j===null?w=M:j.sibling=M,j=M);return e&&N.forEach(function(O){return t(p,O)}),Nt&&ms(p,k),w}function v(p,y,b,_){if(typeof b=="object"&&b!==null&&b.type===wo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case af:e:{for(var w=b.key,j=y;j!==null;){if(j.key===w){if(w=b.type,w===wo){if(j.tag===7){r(p,j.sibling),y=i(j,b.props.children),y.return=p,p=y;break e}}else if(j.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===va&&Aj(w)===j.type){r(p,j.sibling),y=i(j,b.props),y.ref=bc(p,j,b),y.return=p,p=y;break e}r(p,j);break}else t(p,j);j=j.sibling}b.type===wo?(y=Ds(b.props.children,p.mode,_,b.key),y.return=p,p=y):(_=ah(b.type,b.key,b.props,null,p.mode,_),_.ref=bc(p,y,b),_.return=p,p=_)}return s(p);case bo:e:{for(j=b.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(p,y.sibling),y=i(y,b.children||[]),y.return=p,p=y;break e}else{r(p,y);break}else t(p,y);y=y.sibling}y=x0(b,p.mode,_),y.return=p,p=y}return s(p);case va:return j=b._init,v(p,y,j(b._payload),_)}if(Lc(b))return x(p,y,b,_);if(pc(b))return g(p,y,b,_);gf(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(p,y.sibling),y=i(y,b),y.return=p,p=y):(r(p,y),y=v0(b,p.mode,_),y.return=p,p=y),s(p)):r(p,y)}return v}var sl=uO(!0),dO=uO(!1),Eh=Qa(null),Ph=null,Po=null,ew=null;function tw(){ew=Po=Ph=null}function rw(e){var t=Eh.current;wt(Eh),e._currentValue=t}function ev(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Yo(e,t){Ph=e,ew=Po=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zr=!0),e.firstContext=null)}function Nn(e){var t=e._currentValue;if(ew!==e)if(e={context:e,memoizedValue:t,next:null},Po===null){if(Ph===null)throw Error(fe(308));Po=e,Ph.dependencies={lanes:0,firstContext:e}}else Po=Po.next=e;return t}var Ns=null;function nw(e){Ns===null?Ns=[e]:Ns.push(e)}function fO(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,nw(t)):(r.next=i.next,i.next=r),t.interleaved=r,Ki(e,n)}function Ki(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var xa=!1;function iw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function La(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Je&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Ki(e,r)}return i=n.interleaved,i===null?(t.next=t,nw(n)):(t.next=i.next,i.next=t),n.interleaved=t,Ki(e,r)}function Qf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Vb(e,r)}}function Tj(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Oh(e,t,r,n){var i=e.updateQueue;xa=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;s=0,d=u=c=null,l=a;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(h=t,m=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(m,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,h=typeof x=="function"?x.call(m,f,h):x,h==null)break e;f=Tt({},f,h);break e;case 2:xa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);qs|=s,e.lanes=s,e.memoizedState=f}}function Mj(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(fe(191,i));i.call(n)}}}var Id={},si=Qa(Id),ku=Qa(Id),Cu=Qa(Id);function ks(e){if(e===Id)throw Error(fe(174));return e}function aw(e,t){switch(pt(Cu,t),pt(ku,e),pt(si,Id),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$y(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$y(t,e)}wt(si),pt(si,t)}function ol(){wt(si),wt(ku),wt(Cu)}function mO(e){ks(Cu.current);var t=ks(si.current),r=$y(t,e.type);t!==r&&(pt(ku,e),pt(si,r))}function sw(e){ku.current===e&&(wt(si),wt(ku))}var Ct=Qa(0);function Ah(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var f0=[];function ow(){for(var e=0;e<f0.length;e++)f0[e]._workInProgressVersionPrimary=null;f0.length=0}var eh=ia.ReactCurrentDispatcher,h0=ia.ReactCurrentBatchConfig,Vs=0,Pt=null,qt=null,er=null,Th=!1,Xc=!1,Eu=0,p6=0;function hr(){throw Error(fe(321))}function lw(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Yn(e[r],t[r]))return!1;return!0}function cw(e,t,r,n,i,a){if(Vs=a,Pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,eh.current=e===null||e.memoizedState===null?x6:b6,e=r(n,i),Xc){a=0;do{if(Xc=!1,Eu=0,25<=a)throw Error(fe(301));a+=1,er=qt=null,t.updateQueue=null,eh.current=w6,e=r(n,i)}while(Xc)}if(eh.current=Mh,t=qt!==null&&qt.next!==null,Vs=0,er=qt=Pt=null,Th=!1,t)throw Error(fe(300));return e}function uw(){var e=Eu!==0;return Eu=0,e}function ti(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?Pt.memoizedState=er=e:er=er.next=e,er}function kn(){if(qt===null){var e=Pt.alternate;e=e!==null?e.memoizedState:null}else e=qt.next;var t=er===null?Pt.memoizedState:er.next;if(t!==null)er=t,qt=e;else{if(e===null)throw Error(fe(310));qt=e,e={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},er===null?Pt.memoizedState=er=e:er=er.next=e}return er}function Pu(e,t){return typeof t=="function"?t(e):t}function m0(e){var t=kn(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=qt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((Vs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,s=n):c=c.next=f,Pt.lanes|=d,qs|=d}u=u.next}while(u!==null&&u!==a);c===null?s=n:c.next=l,Yn(n,t.memoizedState)||(zr=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Pt.lanes|=a,qs|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function p0(e){var t=kn(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Yn(a,t.memoizedState)||(zr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function pO(){}function gO(e,t){var r=Pt,n=kn(),i=t(),a=!Yn(n.memoizedState,i);if(a&&(n.memoizedState=i,zr=!0),n=n.queue,dw(xO.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||er!==null&&er.memoizedState.tag&1){if(r.flags|=2048,Ou(9,vO.bind(null,r,n,i,t),void 0,null),rr===null)throw Error(fe(349));Vs&30||yO(r,t,i)}return i}function yO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Pt.updateQueue,t===null?(t={lastEffect:null,stores:null},Pt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function vO(e,t,r,n){t.value=r,t.getSnapshot=n,bO(t)&&wO(e)}function xO(e,t,r){return r(function(){bO(t)&&wO(e)})}function bO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Yn(e,r)}catch{return!0}}function wO(e){var t=Ki(e,1);t!==null&&qn(t,e,1,-1)}function $j(e){var t=ti();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pu,lastRenderedState:e},t.queue=e,e=e.dispatch=v6.bind(null,Pt,e),[t.memoizedState,e]}function Ou(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Pt.updateQueue,t===null?(t={lastEffect:null,stores:null},Pt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function _O(){return kn().memoizedState}function th(e,t,r,n){var i=ti();Pt.flags|=e,i.memoizedState=Ou(1|t,r,void 0,n===void 0?null:n)}function lp(e,t,r,n){var i=kn();n=n===void 0?null:n;var a=void 0;if(qt!==null){var s=qt.memoizedState;if(a=s.destroy,n!==null&&lw(n,s.deps)){i.memoizedState=Ou(t,r,a,n);return}}Pt.flags|=e,i.memoizedState=Ou(1|t,r,a,n)}function Dj(e,t){return th(8390656,8,e,t)}function dw(e,t){return lp(2048,8,e,t)}function jO(e,t){return lp(4,2,e,t)}function SO(e,t){return lp(4,4,e,t)}function NO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kO(e,t,r){return r=r!=null?r.concat([e]):null,lp(4,4,NO.bind(null,t,e),r)}function fw(){}function CO(e,t){var r=kn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&lw(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function EO(e,t){var r=kn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&lw(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function PO(e,t,r){return Vs&21?(Yn(r,t)||(r=$P(),Pt.lanes|=r,qs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zr=!0),e.memoizedState=r)}function g6(e,t){var r=at;at=r!==0&&4>r?r:4,e(!0);var n=h0.transition;h0.transition={};try{e(!1),t()}finally{at=r,h0.transition=n}}function OO(){return kn().memoizedState}function y6(e,t,r){var n=Fa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},AO(e))TO(t,r);else if(r=fO(e,t,r,n),r!==null){var i=Or();qn(r,e,n,i),MO(r,t,n)}}function v6(e,t,r){var n=Fa(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(AO(e))TO(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,l=a(s,r);if(i.hasEagerState=!0,i.eagerState=l,Yn(l,s)){var c=t.interleaved;c===null?(i.next=i,nw(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=fO(e,t,i,n),r!==null&&(i=Or(),qn(r,e,n,i),MO(r,t,n))}}function AO(e){var t=e.alternate;return e===Pt||t!==null&&t===Pt}function TO(e,t){Xc=Th=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function MO(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Vb(e,r)}}var Mh={readContext:Nn,useCallback:hr,useContext:hr,useEffect:hr,useImperativeHandle:hr,useInsertionEffect:hr,useLayoutEffect:hr,useMemo:hr,useReducer:hr,useRef:hr,useState:hr,useDebugValue:hr,useDeferredValue:hr,useTransition:hr,useMutableSource:hr,useSyncExternalStore:hr,useId:hr,unstable_isNewReconciler:!1},x6={readContext:Nn,useCallback:function(e,t){return ti().memoizedState=[e,t===void 0?null:t],e},useContext:Nn,useEffect:Dj,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,th(4194308,4,NO.bind(null,t,e),r)},useLayoutEffect:function(e,t){return th(4194308,4,e,t)},useInsertionEffect:function(e,t){return th(4,2,e,t)},useMemo:function(e,t){var r=ti();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ti();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=y6.bind(null,Pt,e),[n.memoizedState,e]},useRef:function(e){var t=ti();return e={current:e},t.memoizedState=e},useState:$j,useDebugValue:fw,useDeferredValue:function(e){return ti().memoizedState=e},useTransition:function(){var e=$j(!1),t=e[0];return e=g6.bind(null,e[1]),ti().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Pt,i=ti();if(Nt){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=t(),rr===null)throw Error(fe(349));Vs&30||yO(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Dj(xO.bind(null,n,a,e),[e]),n.flags|=2048,Ou(9,vO.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=ti(),t=rr.identifierPrefix;if(Nt){var r=Mi,n=Ti;r=(n&~(1<<32-Vn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Eu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=p6++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},b6={readContext:Nn,useCallback:CO,useContext:Nn,useEffect:dw,useImperativeHandle:kO,useInsertionEffect:jO,useLayoutEffect:SO,useMemo:EO,useReducer:m0,useRef:_O,useState:function(){return m0(Pu)},useDebugValue:fw,useDeferredValue:function(e){var t=kn();return PO(t,qt.memoizedState,e)},useTransition:function(){var e=m0(Pu)[0],t=kn().memoizedState;return[e,t]},useMutableSource:pO,useSyncExternalStore:gO,useId:OO,unstable_isNewReconciler:!1},w6={readContext:Nn,useCallback:CO,useContext:Nn,useEffect:dw,useImperativeHandle:kO,useInsertionEffect:jO,useLayoutEffect:SO,useMemo:EO,useReducer:p0,useRef:_O,useState:function(){return p0(Pu)},useDebugValue:fw,useDeferredValue:function(e){var t=kn();return qt===null?t.memoizedState=e:PO(t,qt.memoizedState,e)},useTransition:function(){var e=p0(Pu)[0],t=kn().memoizedState;return[e,t]},useMutableSource:pO,useSyncExternalStore:gO,useId:OO,unstable_isNewReconciler:!1};function In(e,t){if(e&&e.defaultProps){t=Tt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function tv(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Tt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var cp={isMounted:function(e){return(e=e._reactInternals)?Qs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Or(),i=Fa(e),a=zi(n,i);a.payload=t,r!=null&&(a.callback=r),t=La(e,a,i),t!==null&&(qn(t,e,i,n),Qf(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Or(),i=Fa(e),a=zi(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=La(e,a,i),t!==null&&(qn(t,e,i,n),Qf(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Or(),n=Fa(e),i=zi(r,n);i.tag=2,t!=null&&(i.callback=t),t=La(e,i,n),t!==null&&(qn(t,e,n,r),Qf(t,e,n))}};function Ij(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!_u(r,n)||!_u(i,a):!0}function $O(e,t,r){var n=!1,i=Ga,a=t.contextType;return typeof a=="object"&&a!==null?a=Nn(a):(i=Vr(t)?Us:jr.current,n=t.contextTypes,a=(n=n!=null)?il(e,i):Ga),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cp,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Rj(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&cp.enqueueReplaceState(t,t.state,null)}function rv(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},iw(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Nn(a):(a=Vr(t)?Us:jr.current,i.context=il(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(tv(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&cp.enqueueReplaceState(i,i.state,null),Oh(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ll(e,t){try{var r="",n=t;do r+=KI(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function g0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function nv(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var _6=typeof WeakMap=="function"?WeakMap:Map;function DO(e,t,r){r=zi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Dh||(Dh=!0,hv=n),nv(e,t)},r}function IO(e,t,r){r=zi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){nv(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){nv(e,t),typeof n!="function"&&(za===null?za=new Set([this]):za.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function Lj(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new _6;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=I6.bind(null,e,t,r),t.then(e,e))}function zj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fj(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=zi(-1,1),t.tag=2,La(r,t,1))),r.lanes|=1),e)}var j6=ia.ReactCurrentOwner,zr=!1;function Nr(e,t,r,n){t.child=e===null?dO(t,null,r,n):sl(t,e.child,r,n)}function Uj(e,t,r,n,i){r=r.render;var a=t.ref;return Yo(t,i),n=cw(e,t,r,n,a,i),r=uw(),e!==null&&!zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xi(e,t,i)):(Nt&&r&&Jb(t),t.flags|=1,Nr(e,t,n,i),t.child)}function Bj(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!bw(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,RO(e,t,a,n,i)):(e=ah(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:_u,r(s,n)&&e.ref===t.ref)return Xi(e,t,i)}return t.flags|=1,e=Ua(a,n),e.ref=t.ref,e.return=t,t.child=e}function RO(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(_u(a,n)&&e.ref===t.ref)if(zr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(zr=!0);else return t.lanes=e.lanes,Xi(e,t,i)}return iv(e,t,r,n,i)}function LO(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(Ao,Gr),Gr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pt(Ao,Gr),Gr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,pt(Ao,Gr),Gr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,pt(Ao,Gr),Gr|=n;return Nr(e,t,i,r),t.child}function zO(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function iv(e,t,r,n,i){var a=Vr(r)?Us:jr.current;return a=il(t,a),Yo(t,i),r=cw(e,t,r,n,a,i),n=uw(),e!==null&&!zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xi(e,t,i)):(Nt&&n&&Jb(t),t.flags|=1,Nr(e,t,r,i),t.child)}function Vj(e,t,r,n,i){if(Vr(r)){var a=!0;Nh(t)}else a=!1;if(Yo(t,i),t.stateNode===null)rh(e,t),$O(t,r,n),rv(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Nn(u):(u=Vr(r)?Us:jr.current,u=il(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Rj(t,s,n,u),xa=!1;var h=t.memoizedState;s.state=h,Oh(t,n,s,i),c=t.memoizedState,l!==n||h!==c||Br.current||xa?(typeof d=="function"&&(tv(t,r,d,n),c=t.memoizedState),(l=xa||Ij(t,r,l,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,hO(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:In(t.type,l),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=Nn(c):(c=Vr(r)?Us:jr.current,c=il(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Rj(t,s,n,c),xa=!1,h=t.memoizedState,s.state=h,Oh(t,n,s,i);var x=t.memoizedState;l!==f||h!==x||Br.current||xa?(typeof m=="function"&&(tv(t,r,m,n),x=t.memoizedState),(u=xa||Ij(t,r,u,n,h,x,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,x,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,x,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),s.props=n,s.state=x,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return av(e,t,r,n,a,i)}function av(e,t,r,n,i,a){zO(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&Ej(t,r,!1),Xi(e,t,a);n=t.stateNode,j6.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=sl(t,e.child,null,a),t.child=sl(t,null,l,a)):Nr(e,t,l,a),t.memoizedState=n.state,i&&Ej(t,r,!0),t.child}function FO(e){var t=e.stateNode;t.pendingContext?Cj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cj(e,t.context,!1),aw(e,t.containerInfo)}function qj(e,t,r,n,i){return al(),Qb(i),t.flags|=256,Nr(e,t,r,n),t.child}var sv={dehydrated:null,treeContext:null,retryLane:0};function ov(e){return{baseLanes:e,cachePool:null,transitions:null}}function UO(e,t,r){var n=t.pendingProps,i=Ct.current,a=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),pt(Ct,i&1),e===null)return Qy(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=fp(s,n,0,null),e=Ds(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ov(r),t.memoizedState=sv,e):hw(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return S6(e,t,s,n,l,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ua(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Ua(l,a):(a=Ds(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?ov(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=sv,n}return a=e.child,e=a.sibling,n=Ua(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function hw(e,t){return t=fp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yf(e,t,r,n){return n!==null&&Qb(n),sl(t,e.child,null,r),e=hw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function S6(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=g0(Error(fe(422))),yf(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=fp({mode:"visible",children:n.children},i,0,null),a=Ds(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&sl(t,e.child,null,s),t.child.memoizedState=ov(s),t.memoizedState=sv,a);if(!(t.mode&1))return yf(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(fe(419)),n=g0(a,n,void 0),yf(e,t,s,n)}if(l=(s&e.childLanes)!==0,zr||l){if(n=rr,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ki(e,i),qn(n,e,i,-1))}return xw(),n=g0(Error(fe(421))),yf(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=R6.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Qr=Ra(i.nextSibling),en=t,Nt=!0,Fn=null,e!==null&&(pn[gn++]=Ti,pn[gn++]=Mi,pn[gn++]=Bs,Ti=e.id,Mi=e.overflow,Bs=t),t=hw(t,n.children),t.flags|=4096,t)}function Wj(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ev(e.return,t,r)}function y0(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function BO(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Nr(e,t,n.children,r),n=Ct.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wj(e,r,t);else if(e.tag===19)Wj(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(pt(Ct,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Ah(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),y0(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ah(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}y0(t,!0,r,null,a);break;case"together":y0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),qs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,r=Ua(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ua(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function N6(e,t,r){switch(t.tag){case 3:FO(t),al();break;case 5:mO(t);break;case 1:Vr(t.type)&&Nh(t);break;case 4:aw(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;pt(Eh,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(pt(Ct,Ct.current&1),t.flags|=128,null):r&t.child.childLanes?UO(e,t,r):(pt(Ct,Ct.current&1),e=Xi(e,t,r),e!==null?e.sibling:null);pt(Ct,Ct.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return BO(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pt(Ct,Ct.current),n)break;return null;case 22:case 23:return t.lanes=0,LO(e,t,r)}return Xi(e,t,r)}var VO,lv,qO,WO;VO=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};lv=function(){};qO=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,ks(si.current);var a=null;switch(r){case"input":i=Oy(e,i),n=Oy(e,n),a=[];break;case"select":i=Tt({},i,{value:void 0}),n=Tt({},n,{value:void 0}),a=[];break;case"textarea":i=My(e,i),n=My(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=jh)}Dy(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pu.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&vt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};WO=function(e,t,r,n){r!==n&&(t.flags|=4)};function wc(e,t){if(!Nt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function mr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function k6(e,t,r){var n=t.pendingProps;switch(Zb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mr(t),null;case 1:return Vr(t.type)&&Sh(),mr(t),null;case 3:return n=t.stateNode,ol(),wt(Br),wt(jr),ow(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(pf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fn!==null&&(gv(Fn),Fn=null))),lv(e,t),mr(t),null;case 5:sw(t);var i=ks(Cu.current);if(r=t.type,e!==null&&t.stateNode!=null)qO(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(fe(166));return mr(t),null}if(e=ks(si.current),pf(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ri]=t,n[Nu]=a,e=(t.mode&1)!==0,r){case"dialog":vt("cancel",n),vt("close",n);break;case"iframe":case"object":case"embed":vt("load",n);break;case"video":case"audio":for(i=0;i<Fc.length;i++)vt(Fc[i],n);break;case"source":vt("error",n);break;case"img":case"image":case"link":vt("error",n),vt("load",n);break;case"details":vt("toggle",n);break;case"input":ej(n,a),vt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},vt("invalid",n);break;case"textarea":rj(n,a),vt("invalid",n)}Dy(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&mf(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&mf(n.textContent,l,e),i=["children",""+l]):pu.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&vt("scroll",n)}switch(r){case"input":sf(n),tj(n,a,!0);break;case"textarea":sf(n),nj(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=jh)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xP(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[ri]=t,e[Nu]=n,VO(e,t,!1,!1),t.stateNode=e;e:{switch(s=Iy(r,n),r){case"dialog":vt("cancel",e),vt("close",e),i=n;break;case"iframe":case"object":case"embed":vt("load",e),i=n;break;case"video":case"audio":for(i=0;i<Fc.length;i++)vt(Fc[i],e);i=n;break;case"source":vt("error",e),i=n;break;case"img":case"image":case"link":vt("error",e),vt("load",e),i=n;break;case"details":vt("toggle",e),i=n;break;case"input":ej(e,n),i=Oy(e,n),vt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Tt({},n,{value:void 0}),vt("invalid",e);break;case"textarea":rj(e,n),i=My(e,n),vt("invalid",e);break;default:i=n}Dy(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?_P(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&bP(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&gu(e,c):typeof c=="number"&&gu(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(pu.hasOwnProperty(a)?c!=null&&a==="onScroll"&&vt("scroll",e):c!=null&&Rb(e,a,c,s))}switch(r){case"input":sf(e),tj(e,n,!1);break;case"textarea":sf(e),nj(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ya(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Vo(e,!!n.multiple,a,!1):n.defaultValue!=null&&Vo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=jh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return mr(t),null;case 6:if(e&&t.stateNode!=null)WO(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(fe(166));if(r=ks(Cu.current),ks(si.current),pf(t)){if(n=t.stateNode,r=t.memoizedProps,n[ri]=t,(a=n.nodeValue!==r)&&(e=en,e!==null))switch(e.tag){case 3:mf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mf(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ri]=t,t.stateNode=n}return mr(t),null;case 13:if(wt(Ct),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Nt&&Qr!==null&&t.mode&1&&!(t.flags&128))cO(),al(),t.flags|=98560,a=!1;else if(a=pf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(fe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(fe(317));a[ri]=t}else al(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mr(t),a=!1}else Fn!==null&&(gv(Fn),Fn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ct.current&1?Ht===0&&(Ht=3):xw())),t.updateQueue!==null&&(t.flags|=4),mr(t),null);case 4:return ol(),lv(e,t),e===null&&ju(t.stateNode.containerInfo),mr(t),null;case 10:return rw(t.type._context),mr(t),null;case 17:return Vr(t.type)&&Sh(),mr(t),null;case 19:if(wt(Ct),a=t.memoizedState,a===null)return mr(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)wc(a,!1);else{if(Ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ah(e),s!==null){for(t.flags|=128,wc(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return pt(Ct,Ct.current&1|2),t.child}e=e.sibling}a.tail!==null&&Lt()>cl&&(t.flags|=128,n=!0,wc(a,!1),t.lanes=4194304)}else{if(!n)if(e=Ah(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),wc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Nt)return mr(t),null}else 2*Lt()-a.renderingStartTime>cl&&r!==1073741824&&(t.flags|=128,n=!0,wc(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Lt(),t.sibling=null,r=Ct.current,pt(Ct,n?r&1|2:r&1),t):(mr(t),null);case 22:case 23:return vw(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Gr&1073741824&&(mr(t),t.subtreeFlags&6&&(t.flags|=8192)):mr(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function C6(e,t){switch(Zb(t),t.tag){case 1:return Vr(t.type)&&Sh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ol(),wt(Br),wt(jr),ow(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sw(t),null;case 13:if(wt(Ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));al()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wt(Ct),null;case 4:return ol(),null;case 10:return rw(t.type._context),null;case 22:case 23:return vw(),null;case 24:return null;default:return null}}var vf=!1,yr=!1,E6=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Oo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){$t(e,t,n)}else r.current=null}function cv(e,t,r){try{r()}catch(n){$t(e,t,n)}}var Hj=!1;function P6(e,t){if(Hy=bh,e=XP(),Xb(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(l=s+i),f!==a||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===i&&(l=s),h===a&&++d===n&&(c=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yy={focusedElem:e,selectionRange:r},bh=!1,_e=t;_e!==null;)if(t=_e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_e=e;else for(;_e!==null;){t=_e;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,v=x.memoizedState,p=t.stateNode,y=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:In(t.type,g),v);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(_){$t(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,_e=e;break}_e=t.return}return x=Hj,Hj=!1,x}function Jc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&cv(t,r,a)}i=i.next}while(i!==n)}}function up(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function uv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function HO(e){var t=e.alternate;t!==null&&(e.alternate=null,HO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ri],delete t[Nu],delete t[Xy],delete t[d6],delete t[f6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function YO(e){return e.tag===5||e.tag===3||e.tag===4}function Yj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||YO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=jh));else if(n!==4&&(e=e.child,e!==null))for(dv(e,t,r),e=e.sibling;e!==null;)dv(e,t,r),e=e.sibling}function fv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(fv(e,t,r),e=e.sibling;e!==null;)fv(e,t,r),e=e.sibling}var sr=null,Rn=!1;function ma(e,t,r){for(r=r.child;r!==null;)GO(e,t,r),r=r.sibling}function GO(e,t,r){if(ai&&typeof ai.onCommitFiberUnmount=="function")try{ai.onCommitFiberUnmount(rp,r)}catch{}switch(r.tag){case 5:yr||Oo(r,t);case 6:var n=sr,i=Rn;sr=null,ma(e,t,r),sr=n,Rn=i,sr!==null&&(Rn?(e=sr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):sr.removeChild(r.stateNode));break;case 18:sr!==null&&(Rn?(e=sr,r=r.stateNode,e.nodeType===8?u0(e.parentNode,r):e.nodeType===1&&u0(e,r),bu(e)):u0(sr,r.stateNode));break;case 4:n=sr,i=Rn,sr=r.stateNode.containerInfo,Rn=!0,ma(e,t,r),sr=n,Rn=i;break;case 0:case 11:case 14:case 15:if(!yr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&cv(r,t,s),i=i.next}while(i!==n)}ma(e,t,r);break;case 1:if(!yr&&(Oo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){$t(r,t,l)}ma(e,t,r);break;case 21:ma(e,t,r);break;case 22:r.mode&1?(yr=(n=yr)||r.memoizedState!==null,ma(e,t,r),yr=n):ma(e,t,r);break;default:ma(e,t,r)}}function Gj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new E6),t.forEach(function(n){var i=L6.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Tn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:sr=l.stateNode,Rn=!1;break e;case 3:sr=l.stateNode.containerInfo,Rn=!0;break e;case 4:sr=l.stateNode.containerInfo,Rn=!0;break e}l=l.return}if(sr===null)throw Error(fe(160));GO(a,s,i),sr=null,Rn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){$t(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)KO(t,e),t=t.sibling}function KO(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tn(t,e),Qn(e),n&4){try{Jc(3,e,e.return),up(3,e)}catch(g){$t(e,e.return,g)}try{Jc(5,e,e.return)}catch(g){$t(e,e.return,g)}}break;case 1:Tn(t,e),Qn(e),n&512&&r!==null&&Oo(r,r.return);break;case 5:if(Tn(t,e),Qn(e),n&512&&r!==null&&Oo(r,r.return),e.flags&32){var i=e.stateNode;try{gu(i,"")}catch(g){$t(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&yP(i,a),Iy(l,s);var u=Iy(l,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?_P(i,f):d==="dangerouslySetInnerHTML"?bP(i,f):d==="children"?gu(i,f):Rb(i,d,f,u)}switch(l){case"input":Ay(i,a);break;case"textarea":vP(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Vo(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?Vo(i,!!a.multiple,a.defaultValue,!0):Vo(i,!!a.multiple,a.multiple?[]:"",!1))}i[Nu]=a}catch(g){$t(e,e.return,g)}}break;case 6:if(Tn(t,e),Qn(e),n&4){if(e.stateNode===null)throw Error(fe(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){$t(e,e.return,g)}}break;case 3:if(Tn(t,e),Qn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{bu(t.containerInfo)}catch(g){$t(e,e.return,g)}break;case 4:Tn(t,e),Qn(e);break;case 13:Tn(t,e),Qn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(gw=Lt())),n&4&&Gj(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(yr=(u=yr)||d,Tn(t,e),yr=u):Tn(t,e),Qn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(_e=e,d=e.child;d!==null;){for(f=_e=d;_e!==null;){switch(h=_e,m=h.child,h.tag){case 0:case 11:case 14:case 15:Jc(4,h,h.return);break;case 1:Oo(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){$t(n,r,g)}}break;case 5:Oo(h,h.return);break;case 22:if(h.memoizedState!==null){Xj(f);continue}}m!==null?(m.return=h,_e=m):Xj(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=wP("display",s))}catch(g){$t(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){$t(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tn(t,e),Qn(e),n&4&&Gj(e);break;case 21:break;default:Tn(t,e),Qn(e)}}function Qn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(YO(r)){var n=r;break e}r=r.return}throw Error(fe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(gu(i,""),n.flags&=-33);var a=Yj(e);fv(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,l=Yj(e);dv(e,l,s);break;default:throw Error(fe(161))}}catch(c){$t(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function O6(e,t,r){_e=e,XO(e)}function XO(e,t,r){for(var n=(e.mode&1)!==0;_e!==null;){var i=_e,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||vf;if(!s){var l=i.alternate,c=l!==null&&l.memoizedState!==null||yr;l=vf;var u=yr;if(vf=s,(yr=c)&&!u)for(_e=i;_e!==null;)s=_e,c=s.child,s.tag===22&&s.memoizedState!==null?Jj(i):c!==null?(c.return=s,_e=c):Jj(i);for(;a!==null;)_e=a,XO(a),a=a.sibling;_e=i,vf=l,yr=u}Kj(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,_e=a):Kj(e)}}function Kj(e){for(;_e!==null;){var t=_e;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yr||up(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!yr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:In(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Mj(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Mj(t,s,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&bu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}yr||t.flags&512&&uv(t)}catch(h){$t(t,t.return,h)}}if(t===e){_e=null;break}if(r=t.sibling,r!==null){r.return=t.return,_e=r;break}_e=t.return}}function Xj(e){for(;_e!==null;){var t=_e;if(t===e){_e=null;break}var r=t.sibling;if(r!==null){r.return=t.return,_e=r;break}_e=t.return}}function Jj(e){for(;_e!==null;){var t=_e;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{up(4,t)}catch(c){$t(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){$t(t,i,c)}}var a=t.return;try{uv(t)}catch(c){$t(t,a,c)}break;case 5:var s=t.return;try{uv(t)}catch(c){$t(t,s,c)}}}catch(c){$t(t,t.return,c)}if(t===e){_e=null;break}var l=t.sibling;if(l!==null){l.return=t.return,_e=l;break}_e=t.return}}var A6=Math.ceil,$h=ia.ReactCurrentDispatcher,mw=ia.ReactCurrentOwner,wn=ia.ReactCurrentBatchConfig,Je=0,rr=null,Ut=null,cr=0,Gr=0,Ao=Qa(0),Ht=0,Au=null,qs=0,dp=0,pw=0,Zc=null,Rr=null,gw=0,cl=1/0,Ci=null,Dh=!1,hv=null,za=null,xf=!1,Ea=null,Ih=0,Qc=0,mv=null,nh=-1,ih=0;function Or(){return Je&6?Lt():nh!==-1?nh:nh=Lt()}function Fa(e){return e.mode&1?Je&2&&cr!==0?cr&-cr:m6.transition!==null?(ih===0&&(ih=$P()),ih):(e=at,e!==0||(e=window.event,e=e===void 0?16:UP(e.type)),e):1}function qn(e,t,r,n){if(50<Qc)throw Qc=0,mv=null,Error(fe(185));Md(e,r,n),(!(Je&2)||e!==rr)&&(e===rr&&(!(Je&2)&&(dp|=r),Ht===4&&Sa(e,cr)),qr(e,n),r===1&&Je===0&&!(t.mode&1)&&(cl=Lt()+500,op&&es()))}function qr(e,t){var r=e.callbackNode;mR(e,t);var n=xh(e,e===rr?cr:0);if(n===0)r!==null&&sj(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&sj(r),t===1)e.tag===0?h6(Zj.bind(null,e)):sO(Zj.bind(null,e)),c6(function(){!(Je&6)&&es()}),r=null;else{switch(DP(n)){case 1:r=Bb;break;case 4:r=TP;break;case 16:r=vh;break;case 536870912:r=MP;break;default:r=vh}r=iA(r,JO.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function JO(e,t){if(nh=-1,ih=0,Je&6)throw Error(fe(327));var r=e.callbackNode;if(Go()&&e.callbackNode!==r)return null;var n=xh(e,e===rr?cr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Rh(e,n);else{t=n;var i=Je;Je|=2;var a=QO();(rr!==e||cr!==t)&&(Ci=null,cl=Lt()+500,$s(e,t));do try{$6();break}catch(l){ZO(e,l)}while(!0);tw(),$h.current=a,Je=i,Ut!==null?t=0:(rr=null,cr=0,t=Ht)}if(t!==0){if(t===2&&(i=Uy(e),i!==0&&(n=i,t=pv(e,i))),t===1)throw r=Au,$s(e,0),Sa(e,n),qr(e,Lt()),r;if(t===6)Sa(e,n);else{if(i=e.current.alternate,!(n&30)&&!T6(i)&&(t=Rh(e,n),t===2&&(a=Uy(e),a!==0&&(n=a,t=pv(e,a))),t===1))throw r=Au,$s(e,0),Sa(e,n),qr(e,Lt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(fe(345));case 2:ps(e,Rr,Ci);break;case 3:if(Sa(e,n),(n&130023424)===n&&(t=gw+500-Lt(),10<t)){if(xh(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Or(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ky(ps.bind(null,e,Rr,Ci),t);break}ps(e,Rr,Ci);break;case 4:if(Sa(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-Vn(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=Lt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*A6(n/1960))-n,10<n){e.timeoutHandle=Ky(ps.bind(null,e,Rr,Ci),n);break}ps(e,Rr,Ci);break;case 5:ps(e,Rr,Ci);break;default:throw Error(fe(329))}}}return qr(e,Lt()),e.callbackNode===r?JO.bind(null,e):null}function pv(e,t){var r=Zc;return e.current.memoizedState.isDehydrated&&($s(e,t).flags|=256),e=Rh(e,t),e!==2&&(t=Rr,Rr=r,t!==null&&gv(t)),e}function gv(e){Rr===null?Rr=e:Rr.push.apply(Rr,e)}function T6(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Yn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sa(e,t){for(t&=~pw,t&=~dp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Vn(t),n=1<<r;e[r]=-1,t&=~n}}function Zj(e){if(Je&6)throw Error(fe(327));Go();var t=xh(e,0);if(!(t&1))return qr(e,Lt()),null;var r=Rh(e,t);if(e.tag!==0&&r===2){var n=Uy(e);n!==0&&(t=n,r=pv(e,n))}if(r===1)throw r=Au,$s(e,0),Sa(e,t),qr(e,Lt()),r;if(r===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ps(e,Rr,Ci),qr(e,Lt()),null}function yw(e,t){var r=Je;Je|=1;try{return e(t)}finally{Je=r,Je===0&&(cl=Lt()+500,op&&es())}}function Ws(e){Ea!==null&&Ea.tag===0&&!(Je&6)&&Go();var t=Je;Je|=1;var r=wn.transition,n=at;try{if(wn.transition=null,at=1,e)return e()}finally{at=n,wn.transition=r,Je=t,!(Je&6)&&es()}}function vw(){Gr=Ao.current,wt(Ao)}function $s(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,l6(r)),Ut!==null)for(r=Ut.return;r!==null;){var n=r;switch(Zb(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Sh();break;case 3:ol(),wt(Br),wt(jr),ow();break;case 5:sw(n);break;case 4:ol();break;case 13:wt(Ct);break;case 19:wt(Ct);break;case 10:rw(n.type._context);break;case 22:case 23:vw()}r=r.return}if(rr=e,Ut=e=Ua(e.current,null),cr=Gr=t,Ht=0,Au=null,pw=dp=qs=0,Rr=Zc=null,Ns!==null){for(t=0;t<Ns.length;t++)if(r=Ns[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Ns=null}return e}function ZO(e,t){do{var r=Ut;try{if(tw(),eh.current=Mh,Th){for(var n=Pt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Th=!1}if(Vs=0,er=qt=Pt=null,Xc=!1,Eu=0,mw.current=null,r===null||r.return===null){Ht=1,Au=t,Ut=null;break}e:{var a=e,s=r.return,l=r,c=t;if(t=cr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=zj(s);if(m!==null){m.flags&=-257,Fj(m,s,l,a,t),m.mode&1&&Lj(a,u,t),t=m,c=u;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){Lj(a,u,t),xw();break e}c=Error(fe(426))}}else if(Nt&&l.mode&1){var v=zj(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Fj(v,s,l,a,t),Qb(ll(c,l));break e}}a=c=ll(c,l),Ht!==4&&(Ht=2),Zc===null?Zc=[a]:Zc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=DO(a,c,t);Tj(a,p);break e;case 1:l=c;var y=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(za===null||!za.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=IO(a,l,t);Tj(a,_);break e}}a=a.return}while(a!==null)}tA(r)}catch(w){t=w,Ut===r&&r!==null&&(Ut=r=r.return);continue}break}while(!0)}function QO(){var e=$h.current;return $h.current=Mh,e===null?Mh:e}function xw(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),rr===null||!(qs&268435455)&&!(dp&268435455)||Sa(rr,cr)}function Rh(e,t){var r=Je;Je|=2;var n=QO();(rr!==e||cr!==t)&&(Ci=null,$s(e,t));do try{M6();break}catch(i){ZO(e,i)}while(!0);if(tw(),Je=r,$h.current=n,Ut!==null)throw Error(fe(261));return rr=null,cr=0,Ht}function M6(){for(;Ut!==null;)eA(Ut)}function $6(){for(;Ut!==null&&!aR();)eA(Ut)}function eA(e){var t=nA(e.alternate,e,Gr);e.memoizedProps=e.pendingProps,t===null?tA(e):Ut=t,mw.current=null}function tA(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=C6(r,t),r!==null){r.flags&=32767,Ut=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ht=6,Ut=null;return}}else if(r=k6(r,t,Gr),r!==null){Ut=r;return}if(t=t.sibling,t!==null){Ut=t;return}Ut=t=e}while(t!==null);Ht===0&&(Ht=5)}function ps(e,t,r){var n=at,i=wn.transition;try{wn.transition=null,at=1,D6(e,t,r,n)}finally{wn.transition=i,at=n}return null}function D6(e,t,r,n){do Go();while(Ea!==null);if(Je&6)throw Error(fe(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(pR(e,a),e===rr&&(Ut=rr=null,cr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||xf||(xf=!0,iA(vh,function(){return Go(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=wn.transition,wn.transition=null;var s=at;at=1;var l=Je;Je|=4,mw.current=null,P6(e,r),KO(r,e),t6(Yy),bh=!!Hy,Yy=Hy=null,e.current=r,O6(r),sR(),Je=l,at=s,wn.transition=a}else e.current=r;if(xf&&(xf=!1,Ea=e,Ih=i),a=e.pendingLanes,a===0&&(za=null),cR(r.stateNode),qr(e,Lt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Dh)throw Dh=!1,e=hv,hv=null,e;return Ih&1&&e.tag!==0&&Go(),a=e.pendingLanes,a&1?e===mv?Qc++:(Qc=0,mv=e):Qc=0,es(),null}function Go(){if(Ea!==null){var e=DP(Ih),t=wn.transition,r=at;try{if(wn.transition=null,at=16>e?16:e,Ea===null)var n=!1;else{if(e=Ea,Ea=null,Ih=0,Je&6)throw Error(fe(331));var i=Je;for(Je|=4,_e=e.current;_e!==null;){var a=_e,s=a.child;if(_e.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(_e=u;_e!==null;){var d=_e;switch(d.tag){case 0:case 11:case 15:Jc(8,d,a)}var f=d.child;if(f!==null)f.return=d,_e=f;else for(;_e!==null;){d=_e;var h=d.sibling,m=d.return;if(HO(d),d===u){_e=null;break}if(h!==null){h.return=m,_e=h;break}_e=m}}}var x=a.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}_e=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,_e=s;else e:for(;_e!==null;){if(a=_e,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Jc(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,_e=p;break e}_e=a.return}}var y=e.current;for(_e=y;_e!==null;){s=_e;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,_e=b;else e:for(s=y;_e!==null;){if(l=_e,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:up(9,l)}}catch(w){$t(l,l.return,w)}if(l===s){_e=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,_e=_;break e}_e=l.return}}if(Je=i,es(),ai&&typeof ai.onPostCommitFiberRoot=="function")try{ai.onPostCommitFiberRoot(rp,e)}catch{}n=!0}return n}finally{at=r,wn.transition=t}}return!1}function Qj(e,t,r){t=ll(r,t),t=DO(e,t,1),e=La(e,t,1),t=Or(),e!==null&&(Md(e,1,t),qr(e,t))}function $t(e,t,r){if(e.tag===3)Qj(e,e,r);else for(;t!==null;){if(t.tag===3){Qj(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(za===null||!za.has(n))){e=ll(r,e),e=IO(t,e,1),t=La(t,e,1),e=Or(),t!==null&&(Md(t,1,e),qr(t,e));break}}t=t.return}}function I6(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Or(),e.pingedLanes|=e.suspendedLanes&r,rr===e&&(cr&r)===r&&(Ht===4||Ht===3&&(cr&130023424)===cr&&500>Lt()-gw?$s(e,0):pw|=r),qr(e,t)}function rA(e,t){t===0&&(e.mode&1?(t=cf,cf<<=1,!(cf&130023424)&&(cf=4194304)):t=1);var r=Or();e=Ki(e,t),e!==null&&(Md(e,t,r),qr(e,r))}function R6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),rA(e,r)}function L6(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(fe(314))}n!==null&&n.delete(t),rA(e,r)}var nA;nA=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Br.current)zr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return zr=!1,N6(e,t,r);zr=!!(e.flags&131072)}else zr=!1,Nt&&t.flags&1048576&&oO(t,Ch,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;rh(e,t),e=t.pendingProps;var i=il(t,jr.current);Yo(t,r),i=cw(null,t,n,e,i,r);var a=uw();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vr(n)?(a=!0,Nh(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,iw(t),i.updater=cp,t.stateNode=i,i._reactInternals=t,rv(t,n,e,r),t=av(null,t,n,!0,a,r)):(t.tag=0,Nt&&a&&Jb(t),Nr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(rh(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=F6(n),e=In(n,e),i){case 0:t=iv(null,t,n,e,r);break e;case 1:t=Vj(null,t,n,e,r);break e;case 11:t=Uj(null,t,n,e,r);break e;case 14:t=Bj(null,t,n,In(n.type,e),r);break e}throw Error(fe(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:In(n,i),iv(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:In(n,i),Vj(e,t,n,i,r);case 3:e:{if(FO(t),e===null)throw Error(fe(387));n=t.pendingProps,a=t.memoizedState,i=a.element,hO(e,t),Oh(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=ll(Error(fe(423)),t),t=qj(e,t,n,r,i);break e}else if(n!==i){i=ll(Error(fe(424)),t),t=qj(e,t,n,r,i);break e}else for(Qr=Ra(t.stateNode.containerInfo.firstChild),en=t,Nt=!0,Fn=null,r=dO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(al(),n===i){t=Xi(e,t,r);break e}Nr(e,t,n,r)}t=t.child}return t;case 5:return mO(t),e===null&&Qy(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Gy(n,i)?s=null:a!==null&&Gy(n,a)&&(t.flags|=32),zO(e,t),Nr(e,t,s,r),t.child;case 6:return e===null&&Qy(t),null;case 13:return UO(e,t,r);case 4:return aw(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=sl(t,null,n,r):Nr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:In(n,i),Uj(e,t,n,i,r);case 7:return Nr(e,t,t.pendingProps,r),t.child;case 8:return Nr(e,t,t.pendingProps.children,r),t.child;case 12:return Nr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,pt(Eh,n._currentValue),n._currentValue=s,a!==null)if(Yn(a.value,s)){if(a.children===i.children&&!Br.current){t=Xi(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){s=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=zi(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),ev(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(fe(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),ev(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Nr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Yo(t,r),i=Nn(i),n=n(i),t.flags|=1,Nr(e,t,n,r),t.child;case 14:return n=t.type,i=In(n,t.pendingProps),i=In(n.type,i),Bj(e,t,n,i,r);case 15:return RO(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:In(n,i),rh(e,t),t.tag=1,Vr(n)?(e=!0,Nh(t)):e=!1,Yo(t,r),$O(t,n,i),rv(t,n,i,r),av(null,t,n,!0,e,r);case 19:return BO(e,t,r);case 22:return LO(e,t,r)}throw Error(fe(156,t.tag))};function iA(e,t){return AP(e,t)}function z6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,r,n){return new z6(e,t,r,n)}function bw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function F6(e){if(typeof e=="function")return bw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zb)return 11;if(e===Fb)return 14}return 2}function Ua(e,t){var r=e.alternate;return r===null?(r=xn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ah(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")bw(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case wo:return Ds(r.children,i,a,t);case Lb:s=8,i|=8;break;case ky:return e=xn(12,r,t,i|2),e.elementType=ky,e.lanes=a,e;case Cy:return e=xn(13,r,t,i),e.elementType=Cy,e.lanes=a,e;case Ey:return e=xn(19,r,t,i),e.elementType=Ey,e.lanes=a,e;case mP:return fp(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fP:s=10;break e;case hP:s=9;break e;case zb:s=11;break e;case Fb:s=14;break e;case va:s=16,n=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=xn(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Ds(e,t,r,n){return e=xn(7,e,n,t),e.lanes=r,e}function fp(e,t,r,n){return e=xn(22,e,n,t),e.elementType=mP,e.lanes=r,e.stateNode={isHidden:!1},e}function v0(e,t,r){return e=xn(6,e,null,t),e.lanes=r,e}function x0(e,t,r){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function U6(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qg(0),this.expirationTimes=Qg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qg(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ww(e,t,r,n,i,a,s,l,c){return e=new U6(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=xn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},iw(a),e}function B6(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function aA(e){if(!e)return Ga;e=e._reactInternals;e:{if(Qs(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var r=e.type;if(Vr(r))return aO(e,r,t)}return t}function sA(e,t,r,n,i,a,s,l,c){return e=ww(r,n,!0,e,i,a,s,l,c),e.context=aA(null),r=e.current,n=Or(),i=Fa(r),a=zi(n,i),a.callback=t??null,La(r,a,i),e.current.lanes=i,Md(e,i,n),qr(e,n),e}function hp(e,t,r,n){var i=t.current,a=Or(),s=Fa(i);return r=aA(r),t.context===null?t.context=r:t.pendingContext=r,t=zi(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=La(i,t,s),e!==null&&(qn(e,i,s,a),Qf(e,i,s)),s}function Lh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function _w(e,t){eS(e,t),(e=e.alternate)&&eS(e,t)}function V6(){return null}var oA=typeof reportError=="function"?reportError:function(e){console.error(e)};function jw(e){this._internalRoot=e}mp.prototype.render=jw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));hp(e,t,null,null)};mp.prototype.unmount=jw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ws(function(){hp(null,e,null,null)}),t[Gi]=null}};function mp(e){this._internalRoot=e}mp.prototype.unstable_scheduleHydration=function(e){if(e){var t=LP();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ja.length&&t!==0&&t<ja[r].priority;r++);ja.splice(r,0,e),r===0&&FP(e)}};function Sw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tS(){}function q6(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Lh(s);a.call(u)}}var s=sA(t,n,e,0,null,!1,!1,"",tS);return e._reactRootContainer=s,e[Gi]=s.current,ju(e.nodeType===8?e.parentNode:e),Ws(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=Lh(c);l.call(u)}}var c=ww(e,0,!1,null,null,!1,!1,"",tS);return e._reactRootContainer=c,e[Gi]=c.current,ju(e.nodeType===8?e.parentNode:e),Ws(function(){hp(t,c,r,n)}),c}function gp(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var l=i;i=function(){var c=Lh(s);l.call(c)}}hp(t,s,e,i)}else s=q6(r,t,e,i,n);return Lh(s)}IP=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=zc(t.pendingLanes);r!==0&&(Vb(t,r|1),qr(t,Lt()),!(Je&6)&&(cl=Lt()+500,es()))}break;case 13:Ws(function(){var n=Ki(e,1);if(n!==null){var i=Or();qn(n,e,1,i)}}),_w(e,1)}};qb=function(e){if(e.tag===13){var t=Ki(e,134217728);if(t!==null){var r=Or();qn(t,e,134217728,r)}_w(e,134217728)}};RP=function(e){if(e.tag===13){var t=Fa(e),r=Ki(e,t);if(r!==null){var n=Or();qn(r,e,t,n)}_w(e,t)}};LP=function(){return at};zP=function(e,t){var r=at;try{return at=e,t()}finally{at=r}};Ly=function(e,t,r){switch(t){case"input":if(Ay(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=sp(n);if(!i)throw Error(fe(90));gP(n),Ay(n,i)}}}break;case"textarea":vP(e,r);break;case"select":t=r.value,t!=null&&Vo(e,!!r.multiple,t,!1)}};NP=yw;kP=Ws;var W6={usingClientEntryPoint:!1,Events:[Dd,No,sp,jP,SP,yw]},_c={findFiberByHostInstance:Ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H6={bundleType:_c.bundleType,version:_c.version,rendererPackageName:_c.rendererPackageName,rendererConfig:_c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ia.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=PP(e),e===null?null:e.stateNode},findFiberByHostInstance:_c.findFiberByHostInstance||V6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bf.isDisabled&&bf.supportsFiber)try{rp=bf.inject(H6),ai=bf}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W6;an.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sw(t))throw Error(fe(200));return B6(e,t,null,r)};an.createRoot=function(e,t){if(!Sw(e))throw Error(fe(299));var r=!1,n="",i=oA;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ww(e,1,!1,null,null,r,!1,n,i),e[Gi]=t.current,ju(e.nodeType===8?e.parentNode:e),new jw(t)};an.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=PP(t),e=e===null?null:e.stateNode,e};an.flushSync=function(e){return Ws(e)};an.hydrate=function(e,t,r){if(!pp(t))throw Error(fe(200));return gp(null,e,t,!0,r)};an.hydrateRoot=function(e,t,r){if(!Sw(e))throw Error(fe(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=oA;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=sA(t,null,e,1,r??null,i,!1,a,s),e[Gi]=t.current,ju(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new mp(t)};an.render=function(e,t,r){if(!pp(t))throw Error(fe(200));return gp(null,e,t,!1,r)};an.unmountComponentAtNode=function(e){if(!pp(e))throw Error(fe(40));return e._reactRootContainer?(Ws(function(){gp(null,null,e,!1,function(){e._reactRootContainer=null,e[Gi]=null})}),!0):!1};an.unstable_batchedUpdates=yw;an.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!pp(r))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return gp(e,t,r,!1,n)};an.version="18.3.1-next-f1338f8080-20240426";function lA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lA)}catch(e){console.error(e)}}lA(),lP.exports=an;var Y6=lP.exports,cA,rS=Y6;cA=rS.createRoot,rS.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tu(){return Tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tu.apply(this,arguments)}var Pa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Pa||(Pa={}));const nS="popstate";function G6(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:s,hash:l}=n.location;return yv("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:zh(i)}return X6(t,r,null,e)}function Ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function uA(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function K6(){return Math.random().toString(36).substr(2,8)}function iS(e,t){return{usr:e.state,key:e.key,idx:t}}function yv(e,t,r,n){return r===void 0&&(r=null),Tu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vl(t):t,{state:r,key:t&&t.key||n||K6()})}function zh(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function X6(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,l=Pa.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(Tu({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){l=Pa.Pop;let v=d(),p=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:p})}function h(v,p){l=Pa.Push;let y=yv(g.location,v,p);u=d()+1;let b=iS(y,u),_=g.createHref(y);try{s.pushState(b,"",_)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(_)}a&&c&&c({action:l,location:g.location,delta:1})}function m(v,p){l=Pa.Replace;let y=yv(g.location,v,p);u=d();let b=iS(y,u),_=g.createHref(y);s.replaceState(b,"",_),a&&c&&c({action:l,location:g.location,delta:0})}function x(v){let p=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:zh(v);return y=y.replace(/ $/,"%20"),Ot(p,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,p)}let g={get action(){return l},get location(){return e(i,s)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(nS,f),c=v,()=>{i.removeEventListener(nS,f),c=null}},createHref(v){return t(i,v)},createURL:x,encodeLocation(v){let p=x(v);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:m,go(v){return s.go(v)}};return g}var aS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(aS||(aS={}));function J6(e,t,r){return r===void 0&&(r="/"),Z6(e,t,r)}function Z6(e,t,r,n){let i=typeof t=="string"?Vl(t):t,a=ul(i.pathname||"/",r);if(a==null)return null;let s=dA(e);Q6(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=u5(a);l=l5(s[c],u)}return l}function dA(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(Ot(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ba([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(Ot(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),dA(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:s5(u,a.index),routesMeta:d})};return e.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let c of fA(a.path))i(a,s,c)}),t}function fA(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=fA(n.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Q6(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:o5(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const e5=/^:[\w-]+$/,t5=3,r5=2,n5=1,i5=10,a5=-2,sS=e=>e==="*";function s5(e,t){let r=e.split("/"),n=r.length;return r.some(sS)&&(n+=a5),t&&(n+=r5),r.filter(i=>!sS(i)).reduce((i,a)=>i+(e5.test(a)?t5:a===""?n5:i5),n)}function o5(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function l5(e,t,r){let{routesMeta:n}=e,i={},a="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=vv({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Ba([a,f.pathname]),pathnameBase:m5(Ba([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Ba([a,f.pathnameBase]))}return s}function vv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=c5(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=l[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[f];return m&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function c5(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),uA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function u5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return uA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ul(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function d5(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Vl(e):e;return{pathname:r?r.startsWith("/")?r:f5(r,t):t,search:p5(n),hash:g5(i)}}function f5(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function b0(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function h5(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Nw(e,t){let r=h5(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function kw(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Vl(e):(i=Tu({},e),Ot(!i.pathname||!i.pathname.includes("?"),b0("?","pathname","search",i)),Ot(!i.pathname||!i.pathname.includes("#"),b0("#","pathname","hash",i)),Ot(!i.search||!i.search.includes("#"),b0("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=d5(i,l),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ba=e=>e.join("/").replace(/\/\/+/g,"/"),m5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),p5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,g5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function y5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const hA=["post","put","patch","delete"];new Set(hA);const v5=["get",...hA];new Set(v5);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mu(){return Mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mu.apply(this,arguments)}const yp=S.createContext(null),mA=S.createContext(null),aa=S.createContext(null),vp=S.createContext(null),pi=S.createContext({outlet:null,matches:[],isDataRoute:!1}),pA=S.createContext(null);function x5(e,t){let{relative:r}=t===void 0?{}:t;ql()||Ot(!1);let{basename:n,navigator:i}=S.useContext(aa),{hash:a,pathname:s,search:l}=xp(e,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:Ba([n,s])),i.createHref({pathname:c,search:l,hash:a})}function ql(){return S.useContext(vp)!=null}function eo(){return ql()||Ot(!1),S.useContext(vp).location}function gA(e){S.useContext(aa).static||S.useLayoutEffect(e)}function dr(){let{isDataRoute:e}=S.useContext(pi);return e?D5():b5()}function b5(){ql()||Ot(!1);let e=S.useContext(yp),{basename:t,future:r,navigator:n}=S.useContext(aa),{matches:i}=S.useContext(pi),{pathname:a}=eo(),s=JSON.stringify(Nw(i,r.v7_relativeSplatPath)),l=S.useRef(!1);return gA(()=>{l.current=!0}),S.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=kw(u,JSON.parse(s),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ba([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,a,e])}const w5=S.createContext(null);function _5(e){let t=S.useContext(pi).outlet;return t&&S.createElement(w5.Provider,{value:e},t)}function j5(){let{matches:e}=S.useContext(pi),t=e[e.length-1];return t?t.params:{}}function xp(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=S.useContext(aa),{matches:i}=S.useContext(pi),{pathname:a}=eo(),s=JSON.stringify(Nw(i,n.v7_relativeSplatPath));return S.useMemo(()=>kw(e,JSON.parse(s),a,r==="path"),[e,s,a,r])}function S5(e,t){return N5(e,t)}function N5(e,t,r,n){ql()||Ot(!1);let{navigator:i,static:a}=S.useContext(aa),{matches:s}=S.useContext(pi),l=s[s.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=eo(),f;if(t){var h;let p=typeof t=="string"?Vl(t):t;u==="/"||(h=p.pathname)!=null&&h.startsWith(u)||Ot(!1),f=p}else f=d;let m=f.pathname||"/",x=m;if(u!=="/"){let p=u.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(p.length).join("/")}let g=J6(e,{pathname:x}),v=O5(g&&g.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:Ba([u,i.encodeLocation?i.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:Ba([u,i.encodeLocation?i.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),s,r,n);return t&&v?S.createElement(vp.Provider,{value:{location:Mu({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Pa.Pop}},v):v}function k5(){let e=$5(),t=y5(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),r?S.createElement("pre",{style:i},r):null,null)}const C5=S.createElement(k5,null);class E5 extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?S.createElement(pi.Provider,{value:this.props.routeContext},S.createElement(pA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function P5(e){let{routeContext:t,match:r,children:n}=e,i=S.useContext(yp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(pi.Provider,{value:t},n)}function O5(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=s.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Ot(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,x=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let m,x=!1,g=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||C5,c&&(u<0&&h===0?(I5("route-fallback"),x=!0,v=null):u===h&&(x=!0,v=f.route.hydrateFallbackElement||null)));let p=t.concat(s.slice(0,h+1)),y=()=>{let b;return m?b=g:x?b=v:f.route.Component?b=S.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,S.createElement(P5,{match:f,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?S.createElement(E5,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:y(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):y()},null)}var yA=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(yA||{}),vA=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vA||{});function A5(e){let t=S.useContext(yp);return t||Ot(!1),t}function T5(e){let t=S.useContext(mA);return t||Ot(!1),t}function M5(e){let t=S.useContext(pi);return t||Ot(!1),t}function xA(e){let t=M5(),r=t.matches[t.matches.length-1];return r.route.id||Ot(!1),r.route.id}function $5(){var e;let t=S.useContext(pA),r=T5(),n=xA();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function D5(){let{router:e}=A5(yA.UseNavigateStable),t=xA(vA.UseNavigateStable),r=S.useRef(!1);return gA(()=>{r.current=!0}),S.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Mu({fromRouteId:t},a)))},[e,t])}const oS={};function I5(e,t,r){oS[e]||(oS[e]=!0)}function R5(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function gs(e){let{to:t,replace:r,state:n,relative:i}=e;ql()||Ot(!1);let{future:a,static:s}=S.useContext(aa),{matches:l}=S.useContext(pi),{pathname:c}=eo(),u=dr(),d=kw(t,Nw(l,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return S.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function Cw(e){return _5(e.context)}function Ie(e){Ot(!1)}function L5(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Pa.Pop,navigator:a,static:s=!1,future:l}=e;ql()&&Ot(!1);let c=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:a,static:s,future:Mu({v7_relativeSplatPath:!1},l)}),[c,l,a,s]);typeof n=="string"&&(n=Vl(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:x="default"}=n,g=S.useMemo(()=>{let v=ul(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:x},navigationType:i}},[c,d,f,h,m,x,i]);return g==null?null:S.createElement(aa.Provider,{value:u},S.createElement(vp.Provider,{children:r,value:g}))}function z5(e){let{children:t,location:r}=e;return S5(xv(t),r)}new Promise(()=>{});function xv(e,t){t===void 0&&(t=[]);let r=[];return S.Children.forEach(e,(n,i)=>{if(!S.isValidElement(n))return;let a=[...t,i];if(n.type===S.Fragment){r.push.apply(r,xv(n.props.children,a));return}n.type!==Ie&&Ot(!1),!n.props.index||!n.props.children||Ot(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=xv(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fh.apply(this,arguments)}function bA(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function F5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function U5(e,t){return e.button===0&&(!t||t==="_self")&&!F5(e)}const B5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],V5=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],q5="6";try{window.__reactRouterVersion=q5}catch{}const W5=S.createContext({isTransitioning:!1}),H5="startTransition",lS=II[H5];function Y5(e){let{basename:t,children:r,future:n,window:i}=e,a=S.useRef();a.current==null&&(a.current=G6({window:i,v5Compat:!0}));let s=a.current,[l,c]=S.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=S.useCallback(f=>{u&&lS?lS(()=>c(f)):c(f)},[c,u]);return S.useLayoutEffect(()=>s.listen(d),[s,d]),S.useEffect(()=>R5(n),[n]),S.createElement(L5,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:s,future:n})}const G5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jr=S.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=bA(t,B5),{basename:m}=S.useContext(aa),x,g=!1;if(typeof u=="string"&&K5.test(u)&&(x=u,G5))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),w=ul(_.pathname,m);_.origin===b.origin&&w!=null?u=w+_.search+_.hash:g=!0}catch{}let v=x5(u,{relative:i}),p=J5(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function y(b){n&&n(b),b.defaultPrevented||p(b)}return S.createElement("a",Fh({},h,{href:x||v,onClick:g||a?n:y,ref:r,target:c}))}),Xr=S.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:s=!1,style:l,to:c,viewTransition:u,children:d}=t,f=bA(t,V5),h=xp(c,{relative:f.relative}),m=eo(),x=S.useContext(mA),{navigator:g,basename:v}=S.useContext(aa),p=x!=null&&Z5(h)&&u===!0,y=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,b=m.pathname,_=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(b=b.toLowerCase(),_=_?_.toLowerCase():null,y=y.toLowerCase()),_&&v&&(_=ul(_,v)||_);const w=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let j=b===y||!s&&b.startsWith(y)&&b.charAt(w)==="/",N=_!=null&&(_===y||!s&&_.startsWith(y)&&_.charAt(y.length)==="/"),k={isActive:j,isPending:N,isTransitioning:p},E=j?n:void 0,M;typeof a=="function"?M=a(k):M=[a,j?"active":null,N?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let C=typeof l=="function"?l(k):l;return S.createElement(Jr,Fh({},f,{"aria-current":E,className:M,ref:r,style:C,to:c,viewTransition:u}),typeof d=="function"?d(k):d)});var bv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(bv||(bv={}));var cS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cS||(cS={}));function X5(e){let t=S.useContext(yp);return t||Ot(!1),t}function J5(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:l}=t===void 0?{}:t,c=dr(),u=eo(),d=xp(e,{relative:s});return S.useCallback(f=>{if(U5(f,r)){f.preventDefault();let h=n!==void 0?n:zh(u)===zh(d);c(e,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:l})}},[u,c,d,n,i,r,e,a,s,l])}function Z5(e,t){t===void 0&&(t={});let r=S.useContext(W5);r==null&&Ot(!1);let{basename:n}=X5(bv.useViewTransitionState),i=xp(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=ul(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=ul(r.nextLocation.pathname,n)||r.nextLocation.pathname;return vv(i.pathname,s)!=null||vv(i.pathname,a)!=null}const Q5="modulepreload",eL=function(e){return"/"+e},uS={},dl=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=eL(c),c in uS)return;uS[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Q5,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},tL=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>dl(async()=>{const{default:n}=await Promise.resolve().then(()=>Wl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ew extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class rL extends Ew{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class nL extends Ew{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class iL extends Ew{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wv||(wv={}));var aL=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class sL{constructor(t,{headers:r={},customFetch:n,region:i=wv.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=tL(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return aL(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(l["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(l["Content-Type"]="application/json",u=JSON.stringify(s)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:u}).catch(x=>{throw new rL(x)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new nL(d);if(!d.ok)throw new iL(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(i){return{data:null,error:i}}})}}var Lr={},Pw={},bp={},Rd={},wp={},_p={},oL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fl=oL();const lL=fl.fetch,wA=fl.fetch.bind(fl),_A=fl.Headers,cL=fl.Request,uL=fl.Response,Wl=Object.freeze(Object.defineProperty({__proto__:null,Headers:_A,Request:cL,Response:uL,default:wA,fetch:lL},Symbol.toStringTag,{value:"Module"})),dL=bI(Wl);var jp={};Object.defineProperty(jp,"__esModule",{value:!0});let fL=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};jp.default=fL;var jA=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_p,"__esModule",{value:!0});const hL=jA(dL),mL=jA(jp);let pL=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=hL.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,l,c;let u=null,d=null,f=null,h=a.status,m=a.statusText;if(a.ok){if(this.method!=="HEAD"){const p=await a.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const g=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await a.text();try{u=JSON.parse(g),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,m="OK")}catch{a.status===404&&g===""?(h=204,m="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new mL.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,l,c;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};_p.default=pL;var gL=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wp,"__esModule",{value:!0});const yL=gL(_p);let vL=class extends yL.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};wp.default=vL;var xL=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rd,"__esModule",{value:!0});const bL=xL(wp);let wL=class extends bL.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Rd.default=wL;var _L=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bp,"__esModule",{value:!0});const jc=_L(Rd);let jL=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new jc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const s=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(s.length>0){const l=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new jc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){const s="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new jc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new jc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new jc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};bp.default=jL;var Sp={},Np={};Object.defineProperty(Np,"__esModule",{value:!0});Np.version=void 0;Np.version="0.0.0-automated";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.DEFAULT_HEADERS=void 0;const SL=Np;Sp.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${SL.version}`};var SA=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pw,"__esModule",{value:!0});const NL=SA(bp),kL=SA(Rd),CL=Sp;let EL=class NA{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},CL.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new NL.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new NA(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){let s;const l=new URL(`${this.url}/rpc/${t}`);let c;n||i?(s=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(s="POST",c=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new kL.default({method:s,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Pw.default=EL;var Hl=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.PostgrestError=Lr.PostgrestBuilder=Lr.PostgrestTransformBuilder=Lr.PostgrestFilterBuilder=Lr.PostgrestQueryBuilder=Lr.PostgrestClient=void 0;const kA=Hl(Pw);Lr.PostgrestClient=kA.default;const CA=Hl(bp);Lr.PostgrestQueryBuilder=CA.default;const EA=Hl(Rd);Lr.PostgrestFilterBuilder=EA.default;const PA=Hl(wp);Lr.PostgrestTransformBuilder=PA.default;const OA=Hl(_p);Lr.PostgrestBuilder=OA.default;const AA=Hl(jp);Lr.PostgrestError=AA.default;var PL=Lr.default={PostgrestClient:kA.default,PostgrestQueryBuilder:CA.default,PostgrestFilterBuilder:EA.default,PostgrestTransformBuilder:PA.default,PostgrestBuilder:OA.default,PostgrestError:AA.default};const{PostgrestClient:OL,PostgrestQueryBuilder:twe,PostgrestFilterBuilder:rwe,PostgrestTransformBuilder:nwe,PostgrestBuilder:iwe,PostgrestError:awe}=PL,AL="2.11.2",TL={"X-Client-Info":`realtime-js/${AL}`},ML="1.0.0",TA=1e4,$L=1e3;var Ko;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ko||(Ko={}));var Hr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Hr||(Hr={}));var Ln;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ln||(Ln={}));var _v;(function(e){e.websocket="websocket"})(_v||(_v={}));var _s;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(_s||(_s={}));class DL{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const l=n.decode(t.slice(s,s+i));s=s+i;const c=n.decode(t.slice(s,s+a));s=s+a;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class MA{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ft;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ft||(ft={}));const dS=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,s)=>(a[s]=IL(s,e,t,i),a),{})},IL=(e,t,r,n)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?$A(a,s):jv(s)},$A=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return FL(t,r)}switch(e){case ft.bool:return RL(t);case ft.float4:case ft.float8:case ft.int2:case ft.int4:case ft.int8:case ft.numeric:case ft.oid:return LL(t);case ft.json:case ft.jsonb:return zL(t);case ft.timestamp:return UL(t);case ft.abstime:case ft.date:case ft.daterange:case ft.int4range:case ft.int8range:case ft.money:case ft.reltime:case ft.text:case ft.time:case ft.timestamptz:case ft.timetz:case ft.tsrange:case ft.tstzrange:return jv(t);default:return jv(t)}},jv=e=>e,RL=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},LL=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zL=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},FL=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(l=>$A(t,l))}return e},UL=e=>typeof e=="string"?e.replace(" ","T"):e,DA=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class w0{constructor(t,r,n={},i=TA){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fS||(fS={}));class eu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=eu.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=eu.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=eu.syncDiff(this.state,i,a,s),l())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=a[u];if(f){const h=d.map(v=>v.presence_ref),m=f.map(v=>v.presence_ref),x=d.filter(v=>m.indexOf(v.presence_ref)<0),g=f.filter(v=>h.indexOf(v.presence_ref)<0);x.length>0&&(l[u]=x),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(s,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hS;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(hS||(hS={}));var mS;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(mS||(mS={}));var Ei;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ei||(Ei={}));class Ow{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Hr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new w0(this,Ln.join,this.params,this.timeout),this.rejoinTimer=new MA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Hr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Hr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Hr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Hr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ln.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new eu(this),this.broadcastEndpointURL=DA(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:s,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Ei.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Ei.CLOSED));const c={},u={broadcast:a,presence:s,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Ei.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,x=[];for(let g=0;g<m;g++){const v=h[g],{filter:{event:p,schema:y,table:b,filter:_}}=v,w=d&&d[g];if(w&&w.event===p&&w.schema===y&&w.table===b&&w.filter===_)x.push(Object.assign(Object.assign({},v),{id:w.id}));else{this.unsubscribe(),t==null||t(Ei.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Ei.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Ei.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ei.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Hr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ln.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new w0(this,Ln.leave,{},t);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new w0(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ln;if(n&&[l,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var x,g,v;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((v=(g=m.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(m=>m.callback(h,n)):(a=this.bindings[s])===null||a===void 0||a.filter(m=>{var x,g,v,p,y,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in m){const _=m.id,w=(x=m.filter)===null||x===void 0?void 0:x.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(y=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===s}).map(m=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:g,table:v,commit_timestamp:p,type:y,errors:b}=x;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:p,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(x))}m.callback(h,n)})}_isClosed(){return this.state===Hr.closed}_isJoined(){return this.state===Hr.joined}_isJoining(){return this.state===Hr.joining}_isLeaving(){return this.state===Hr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Ow.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ln.close,{},t)}_onError(t){this._on(Ln.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Hr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=dS(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=dS(t.columns,t.old_record)),r}}const BL=()=>{},VL=typeof WebSocket<"u",qL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class WL{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=TL,this.params={},this.timeout=TA,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=BL,this.conn=null,this.sendBuffer=[],this.serializer=new DL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...l)=>dl(async()=>{const{default:c}=await Promise.resolve().then(()=>Wl);return{default:c}},void 0).then(({default:c})=>c(...l)):s=fetch,(...l)=>s(...l)},this.endPoint=`${t}/${_v.websocket}`,this.httpEndpoint=DA(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,s)=>s(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new MA(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(VL){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new HL(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),dl(async()=>{const{default:t}=await import("./browser-DU6qtGrr.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ML}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ko.connecting:return _s.Connecting;case Ko.open:return _s.Open;case Ko.closing:return _s.Closing;default:return _s.Closed}}isConnected(){return this.connectionState()===_s.Open}channel(t,r={config:{}}){const n=new Ow(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(i=>{r&&i.updateJoinPayload({access_token:r}),i.joinedOnce&&i._isJoined()&&i._push(Ln.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close($L,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:a,ref:s}=r;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${s&&"("+s+")"||""}`,a),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,a,s)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ln.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([qL],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class HL{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ko.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Aw extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Zt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class YL extends Aw{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Sv extends Aw{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var GL=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const IA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>dl(async()=>{const{default:n}=await Promise.resolve().then(()=>Wl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},KL=()=>GL(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield dl(()=>Promise.resolve().then(()=>Wl),void 0)).Response:Response}),Nv=e=>{if(Array.isArray(e))return e.map(r=>Nv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Nv(n)}),t};var to=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const _0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),XL=(e,t,r)=>to(void 0,void 0,void 0,function*(){const n=yield KL();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{t(new YL(_0(i),e.status||500))}).catch(i=>{t(new Sv(_0(i),i))}):t(new Sv(_0(e),e))}),JL=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function Ld(e,t,r,n,i,a){return to(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(r,JL(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>XL(c,l,n))})})}function Uh(e,t,r,n){return to(this,void 0,void 0,function*(){return Ld(e,"GET",t,r,n)})}function ba(e,t,r,n,i){return to(this,void 0,void 0,function*(){return Ld(e,"POST",t,n,i,r)})}function ZL(e,t,r,n,i){return to(this,void 0,void 0,function*(){return Ld(e,"PUT",t,n,i,r)})}function QL(e,t,r,n){return to(this,void 0,void 0,function*(){return Ld(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function RA(e,t,r,n,i){return to(this,void 0,void 0,function*(){return Ld(e,"DELETE",t,n,i,r)})}var Dr=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const ez={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tz{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=IA(i)}uploadOrUpdate(t,r,n,i){return Dr(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},pS),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(Zt(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Dr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Dr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:pS.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Zt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Dr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield ba(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),l=s.searchParams.get("token");if(!l)throw new Aw("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:l},error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Dr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Dr(this,void 0,void 0,function*(){try{return{data:yield ba(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Zt(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Dr(this,void 0,void 0,function*(){try{return{data:{path:(yield ba(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Zt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Dr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield ba(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(Zt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Dr(this,void 0,void 0,function*(){try{const i=yield ba(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(Zt(i))return{data:null,error:i};throw i}})}download(t,r){return Dr(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Uh(this.fetch,`${this.url}/${i}/${l}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Zt(l))return{data:null,error:l};throw l}})}info(t){return Dr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Uh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Nv(n),error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}})}exists(t){return Dr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield QL(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Zt(n)&&n instanceof Sv){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Dr(this,void 0,void 0,function*(){try{return{data:yield RA(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Zt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Dr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},ez),r),{prefix:t||""});return{data:yield ba(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Zt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const rz="2.7.1",nz={"X-Client-Info":`storage-js/${rz}`};var uo=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class iz{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},nz),r),this.fetch=IA(n)}listBuckets(){return uo(this,void 0,void 0,function*(){try{return{data:yield Uh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Zt(t))return{data:null,error:t};throw t}})}getBucket(t){return uo(this,void 0,void 0,function*(){try{return{data:yield Uh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Zt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return uo(this,void 0,void 0,function*(){try{return{data:yield ba(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return uo(this,void 0,void 0,function*(){try{return{data:yield ZL(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return uo(this,void 0,void 0,function*(){try{return{data:yield ba(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Zt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return uo(this,void 0,void 0,function*(){try{return{data:yield RA(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Zt(r))return{data:null,error:r};throw r}})}}class az extends iz{constructor(t,r={},n){super(t,r,n)}from(t){return new tz(this.url,this.headers,t,this.fetch)}}const sz="2.49.4";let Uc="";typeof Deno<"u"?Uc="deno":typeof document<"u"?Uc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Uc="react-native":Uc="node";const oz={"X-Client-Info":`supabase-js-${Uc}/${sz}`},lz={headers:oz},cz={schema:"public"},uz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dz={};var fz=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const hz=e=>{let t;return e?t=e:typeof fetch>"u"?t=wA:t=fetch,(...r)=>t(...r)},mz=()=>typeof Headers>"u"?_A:Headers,pz=(e,t,r)=>{const n=hz(r),i=mz();return(a,s)=>fz(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},s),{headers:u}))})};var gz=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function yz(e){return e.replace(/\/$/,"")}function vz(e,t){const{db:r,auth:n,realtime:i,global:a}=e,{db:s,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},s),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),i),global:Object.assign(Object.assign({},u),a),accessToken:()=>gz(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const LA="2.69.1",vo=30*1e3,kv=3,j0=kv*vo,xz="http://localhost:9999",bz="supabase.auth.token",wz={"X-Client-Info":`gotrue-js/${LA}`},Cv="X-Supabase-Api-Version",zA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_z=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jz=6e5;class Tw extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Re(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Sz extends Tw{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Nz(e){return Re(e)&&e.name==="AuthApiError"}class FA extends Tw{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ts extends Tw{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class pa extends ts{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kz(e){return Re(e)&&e.name==="AuthSessionMissingError"}class S0 extends ts{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wf extends ts{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _f extends ts{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Cz(e){return Re(e)&&e.name==="AuthImplicitGrantRedirectError"}class gS extends ts{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ev extends ts{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function N0(e){return Re(e)&&e.name==="AuthRetryableFetchError"}class yS extends ts{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class tu extends ts{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const vS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xS=` 	
\r=`.split(""),Ez=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<xS.length;t+=1)e[xS[t].charCodeAt(0)]=-2;for(let t=0;t<vS.length;t+=1)e[vS[t].charCodeAt(0)]=t;return e})();function UA(e,t,r){const n=Ez[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function bS(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{Az(s,n,r)};for(let s=0;s<e.length;s+=1)UA(e.charCodeAt(s),i,a);return t.join("")}function Pz(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Oz(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Pz(n,t)}}function Az(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Tz(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)UA(e.charCodeAt(i),r,n);return new Uint8Array(t)}function Mz(e){const t=[];return Oz(e,r=>t.push(r)),new Uint8Array(t)}function $z(e){return Math.round(Date.now()/1e3)+e}function Dz(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ei=()=>typeof window<"u"&&typeof document<"u",os={tested:!1,writable:!1},ru=()=>{if(!ei())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(os.tested)return os.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),os.tested=!0,os.writable=!0}catch{os.tested=!0,os.writable=!1}return os.writable};function Iz(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const BA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>dl(async()=>{const{default:n}=await Promise.resolve().then(()=>Wl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Rz=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",VA=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},jf=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Sf=async(e,t)=>{await e.removeItem(t)};class kp{constructor(){this.promise=new kp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}kp.promiseConstructor=Promise;function k0(e){const t=e.split(".");if(t.length!==3)throw new tu("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!_z.test(t[n]))throw new tu("JWT not in base64url format");return{header:JSON.parse(bS(t[0])),payload:JSON.parse(bS(t[1])),signature:Tz(t[2]),raw:{header:t[0],payload:t[1]}}}async function Lz(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zz(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function Fz(e){return("0"+e.toString(16)).substr(-2)}function Uz(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Fz).join("")}async function Bz(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Vz(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Bz(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fo(e,t,r=!1){const n=Uz();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await VA(e,`${t}-code-verifier`,i);const a=await Vz(n);return[a,n===a?"plain":"s256"]}const qz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Wz(e){const t=e.headers.get(Cv);if(!t||!t.match(qz))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Hz(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Yz(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Gz=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const ys=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Kz=[502,503,504];async function wS(e){var t;if(!Rz(e))throw new Ev(ys(e),0);if(Kz.includes(e.status))throw new Ev(ys(e),e.status);let r;try{r=await e.json()}catch(a){throw new FA(ys(a),a)}let n;const i=Wz(e);if(i&&i.getTime()>=zA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new yS(ys(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new pa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new yS(ys(r),e.status,r.weak_password.reasons);throw new Sz(ys(r),e.status||500,n)}const Xz=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ye(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Cv]||(a[Cv]=zA["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await Jz(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Jz(e,t,r,n,i,a){const s=Xz(t,n,i,a);let l;try{l=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new Ev(ys(c),0)}if(l.ok||await wS(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await wS(c)}}function ga(e){var t;let r=null;tF(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=$z(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function _S(e){const t=ga(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Na(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Zz(e){return{data:e,error:null}}function Qz(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=Gz(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function eF(e){return e}function tF(e){return e.access_token&&e.refresh_token&&e.expires_in}var rF=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class nF{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=BA(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Na})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=rF(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Qz,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Na})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:eF});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(x.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Re(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Na})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Na})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Na})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}}const iF={getItem:e=>ru()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ru()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ru()&&globalThis.localStorage.removeItem(e)}};function jS(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function aF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ho={debug:!!(globalThis&&ru()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class sF extends qA{}async function oF(e,t,r){ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ho.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new sF(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ho.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}aF();const lF={url:xz,storageKey:bz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function SS(e,t,r){return await r()}class $u{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$u.nextInstanceID,$u.nextInstanceID+=1,this.instanceID>0&&ei()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},lF),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new nF({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=BA(i.fetch),this.lock=i.lock||SS,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ei()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=oF:this.lock=SS,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:ru()?this.storage=iF:(this.memoryStorage={},this.storage=jS(this.memoryStorage)):(this.memoryStorage={},this.storage=jS(this.memoryStorage)),ei()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${LA}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Iz(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ei()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Cz(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Re(r)?{error:r}:{error:new FA("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:ga}),{data:s,error:l}=a;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Re(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await fo(this.storage,this.storageKey)),a=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:x},xform:ga})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ga})}else throw new wf("You must provide either an email or phone number and a password");const{data:s,error:l}=a;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Re(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:l}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_S})}else if("phone"in t){const{phone:a,password:s,options:l}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_S})}else throw new wf("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new S0}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await jf(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ga});if(await Sf(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new S0}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(Re(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,l=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ga}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new S0}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await fo(this.storage,this.storageKey));const{error:f}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new wf("You must provide either an email or phone number.")}catch(l){if(Re(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await Ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:ga});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Re(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await fo(this.storage,this.storageKey)),await Ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:Zz})}catch(a){if(Re(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new pa;const{error:i}=await Ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Re(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:l}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l}}throw new wf("You must provide either an email or phone number and a type")}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await jf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<j0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Na}):await this._useSession(async r=>{var n,i,a;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pa}:await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Na})})}catch(r){if(Re(r))return kz(r)&&(await this._removeSession(),await Sf(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new pa;const s=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await fo(this.storage,this.storageKey));const{data:u,error:d}=await Ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:Na});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pa;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=k0(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Re(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:l}=r;if(l)throw l;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new pa;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ei())throw new _f("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _f(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _f("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new gS("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!s||!u)throw new _f("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=vo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:g,error:v}=await this._getUser(a);if(v)throw v;const p={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(Re(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await jf(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(Nz(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Sf(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Dz(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await fo(this.storage,this.storageKey,!0));try{return await Ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Re(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ye(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ei()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Re(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await Ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await zz(async i=>(i>0&&await Lz(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ga})),(i,a)=>{const s=200*Math.pow(2,i);return a&&N0(a)&&Date.now()+s-n<vo})}catch(n){if(this._debug(r,"error",n),Re(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ei()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await jf(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<j0;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${j0}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),N0(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new pa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new kp;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new pa;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Re(a)){const s={session:null,error:a};return N0(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await VA(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Sf(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ei()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),vo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/vo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${vo}ms, refresh threshold is ${kv} ticks`),i<=kv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof qA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ei()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await fo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Ye(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:s,error:l}=await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:l})})}catch(r){if(Re(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Re(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=k0(i.access_token);let l=null;s.aal&&(l=s.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=s.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n||(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+jz>Date.now()))return n;const{data:i,error:a}=await Ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new tu("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(s=>s.kid===t),!n)throw new tu("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:m,error:x}=await this.getSession();if(x||!m.session)return{data:null,error:x};n=m.session.access_token}const{header:i,payload:a,signature:s,raw:{header:l,payload:c}}=k0(n);if(Hz(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:i,signature:s},error:null}}const u=Yz(i.alg),d=await this.fetchJwk(i.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,s,Mz(`${l}.${c}`)))throw new tu("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}}}$u.nextInstanceID=0;const cF=$u;class uF extends cF{constructor(t){super(t)}}var dF=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class fF{constructor(t,r,n){var i,a,s;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=yz(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:cz,realtime:dz,auth:Object.assign(Object.assign({},uz),{storageKey:c}),global:lz},d=vz(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=pz(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new OL(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new sL(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new az(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return dF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:s,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uF({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:s,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new WL(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hF=(e,t,r)=>new fF(e,t,r),mF="https://yphrgrvbvxjnueypjwpb.supabase.co",pF="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlwaHJncnZidnhqbnVleXBqd3BiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYyNDI0NjQsImV4cCI6MjA2MTgxODQ2NH0.jC5GckSrG6fgM1wgO0-UWheFYDqeifPvfow1AWRyEMQ",T=hF(mF,pF,{auth:{storage:localStorage,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),WA=S.createContext(void 0),gF=({children:e})=>{const[t,r]=S.useState(null),[n,i]=S.useState(!1),[a,s]=S.useState(!0);S.useEffect(()=>{const{data:d}=T.auth.onAuthStateChange(async(f,h)=>{var m;if(console.log("AuthContext: onAuthStateChange event:",f),h!=null&&h.user){const x=h.user;console.log("AuthContext: Supabase User ID:",x.id),console.log("AuthContext: Supabase User Email:",x.email);let g;try{console.log("AuthContext: Attempting to fetch user_roles for id_user:",x.id);const v=new Promise((b,_)=>setTimeout(()=>_(new Error("Supabase query timed out after 5 seconds")),5e3));console.log("AuthContext: Executing Supabase query for user_roles...");const{data:p,error:y}=await Promise.race([T.from("user_roles").select("id_rol").eq("id_user",x.id).single(),v]);if(console.log("AuthContext: Raw user_roles data response:",p),console.log("AuthContext: Raw user_roles error response:",y),y&&(y.code==="PGRST116"?console.warn("AuthContext: No role assigned in user_roles for this user (PGRST116). User ID:",x.id):console.error("AuthContext: Error fetching user role from user_roles:",y.message,y)),p){console.log("AuthContext: userRoleData found:",p),console.log("AuthContext: Attempting to fetch role name for id_rol:",p.id_rol);const{data:b,error:_}=await Promise.race([T.from("roles").select("nombre").eq("id_rol",p.id_rol).single(),v]);console.log("AuthContext: Raw roles data response:",b),console.log("AuthContext: Raw roles error response:",_),_?console.error("AuthContext: Error fetching role name from roles:",_.message,_):(g=(m=b==null?void 0:b.nombre)==null?void 0:m.toLowerCase().trim(),console.log("AuthContext: ROL ASIGNADO AL USUARIO:",g))}else console.warn("AuthContext: No userRoleData returned for user ID:",x.id,". User might not have a role assigned in user_roles table.")}catch(v){console.error("AuthContext: UNHANDLED ERROR IN ROLE FETCH BLOCK:",v.message,v)}finally{s(!1),console.log("AuthContext: Loading set to false after role fetch attempt.")}r({id:x.id,email:x.email,role:g}),i(!0),console.log("AuthContext: User state set. isAuthenticated:",!0,"User:",{id:x.id,email:x.email,role:g})}else console.log("AuthContext: onAuthStateChange: User logged out/no session."),r(null),i(!1),s(!1),console.log("AuthContext: User state cleared. isAuthenticated:",!1,"Loading set to false.")});return()=>{d.subscription.unsubscribe()}},[]);const u={user:t,isAuthenticated:n,loading:a,login:d=>{r(d),i(!0),console.log("AuthContext: login function called. User:",d)},logout:async()=>{s(!0);const{error:d}=await T.auth.signOut();d&&console.error("AuthContext: Error al cerrar sesión:",d.message),console.log("AuthContext: logout function initiated.")}};return o.jsx(WA.Provider,{value:u,children:e})},gi=()=>{const e=S.useContext(WA);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ve=(e,t)=>{const r=S.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:l="",children:c,...u},d)=>S.createElement("svg",{ref:d,...yF,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${vF(e)}`,l].join(" "),...u},[...t.map(([f,h])=>S.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=ve("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=ve("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=ve("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=ve("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=ve("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=ve("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=ve("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=ve("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=ve("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=ve("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=ve("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=ve("Cat",[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=ve("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=ve("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=ve("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=ve("Dog",[["path",{d:"M10 5.172C10 3.782 8.423 2.679 6.5 3c-2.823.47-4.113 6.006-4 7 .08.703 1.725 1.722 3.656 1 1.261-.472 1.96-1.45 2.344-2.5",key:"19br0u"}],["path",{d:"M14.267 5.172c0-1.39 1.577-2.493 3.5-2.172 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"11n1an"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444c0-1.061-.162-2.2-.493-3.309m-9.243-6.082A8.801 8.801 0 0 1 12 5c.78 0 1.5.108 2.161.306",key:"wsu29d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=ve("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=ve("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=ve("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=ve("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=ve("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=ve("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=ve("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=ve("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=ve("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=ve("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=ve("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=ve("PackageX",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=ve("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=ve("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=ve("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=ve("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=ve("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=ve("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=ve("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=ve("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=ve("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=ve("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=ve("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=ve("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=ve("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=ve("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=ve("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=ve("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=ve("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=ve("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=ve("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=ve("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=ve("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=ve("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=ve("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=ve("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),zF=()=>{const[e,t]=S.useState([]),[r,n]=S.useState([]),[i,a]=S.useState([]);S.useEffect(()=>{s()},[]);const s=async()=>{const{data:u}=await T.from("citas_publicas").select("*").order("fecha",{ascending:!0}),{data:d}=await T.from("clientes").select("id_cliente, nombre"),{data:f}=await T.from("mascotas").select("id_mascota, nombre, id_cliente");u&&t(u),d&&n(d),f&&a(f)},l=async(u,d,f)=>{const h=await T.from("citas").insert([{fecha:u.fecha,motivo:u.motivo,estado:"confirmada",tipo:"veterinaria",id_cliente:d,id_mascota:f}]);if(h.error){alert("Error al confirmar cita: "+h.error.message);return}await T.from("citas_publicas").update({estado:"confirmada"}).eq("id_cita",u.id_cita),s()},c=async u=>{await T.from("citas_publicas").delete().eq("id_cita",u),s()};return o.jsxs("div",{className:"p-6 bg-gray-900 text-white",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-indigo-400",children:"Solicitudes de Citas Públicas"}),o.jsxs("table",{className:"w-full bg-gray-800 rounded-lg text-sm mb-8",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-2",children:"Nombre"}),o.jsx("th",{children:"Email"}),o.jsx("th",{children:"Teléfono"}),o.jsx("th",{children:"Fecha"}),o.jsx("th",{children:"Motivo"}),o.jsx("th",{children:"Estado"}),o.jsx("th",{children:"Acciones"})]})}),o.jsx("tbody",{children:e.map(u=>o.jsxs("tr",{className:"border-b border-gray-700",children:[o.jsx("td",{className:"p-2",children:u.nombre}),o.jsx("td",{children:u.email}),o.jsx("td",{children:u.telefono}),o.jsx("td",{children:new Date(u.fecha).toLocaleString()}),o.jsx("td",{children:u.motivo}),o.jsx("td",{children:u.estado}),o.jsxs("td",{className:"space-x-2 flex",children:[o.jsxs("select",{onChange:d=>{const f=d.target.value.split(",");l(u,Number(f[0]),Number(f[1]))},className:"text-sm bg-gray-700 text-white rounded px-2 py-1",children:[o.jsx("option",{children:"Asignar cliente y mascota"}),r.map(d=>i.filter(f=>f.id_cliente===d.id_cliente).map(f=>o.jsxs("option",{value:`${d.id_cliente},${f.id_mascota}`,children:[d.nombre," - ",f.nombre]},f.id_mascota)))]}),o.jsx("button",{onClick:()=>c(u.id_cita),className:"text-red-400 hover:text-red-600",children:o.jsx(wr,{size:16})})]})]},u.id_cita))})]})]})},E0=()=>{const{mascotaId:e}=j5();dr();const[t,r]=S.useState(e?"historyDetail":"clientList"),[n,i]=S.useState(null),[a,s]=S.useState(null),[l,c]=S.useState([]),[u,d]=S.useState([]),[f,h]=S.useState([]),[m,x]=S.useState([]),[g,v]=S.useState([]),[p,y]=S.useState([]),[b,_]=S.useState(!0),[w,j]=S.useState(null),[N,k]=S.useState(null),[E,M]=S.useState(!1),[C,O]=S.useState({id_mascota:0,id_cita:null,fecha_consulta:new Date().toISOString().split("T")[0],motivo_consulta:"",diagnostico:"",tratamiento:"",observaciones:null}),[L,$]=S.useState([]),[B,Y]=S.useState([]),[F,R]=S.useState({nombre_tratamiento:"",descripcion:null,fecha_inicio:new Date().toISOString().split("T")[0],fecha_fin:null}),[D,X]=S.useState({id_medicamento:0,cantidad_prescrita:1,dosis:"",frecuencia:"",duracion:null,fecha_prescripcion:new Date().toISOString().split("T")[0],instrucciones_adicionales:null}),[ne,Q]=S.useState(null),[K,ce]=S.useState(null),[me,xe]=S.useState(null),[ue,be]=S.useState(null),[U,se]=S.useState(!1),[W,I]=S.useState(null),[G,ee]=S.useState({tipo_item:"",id_referencia_item:null,cantidad_consumida:1,lote_consumido:"",observaciones:""}),[de,J]=S.useState([]),A=S.useCallback(V=>{k(V),j(null),setTimeout(()=>k(null),5e3)},[]),P=S.useCallback(V=>{j(V),k(null),setTimeout(()=>j(null),8e3)},[]),q=S.useCallback(()=>{k(null),j(null)},[]),oe=S.useCallback(async()=>{_(!0),q();try{const{data:V,error:H}=await T.from("clientes").select("*").order("nombre",{ascending:!0});if(H)throw H;c(V||[])}catch(V){console.error("Error al cargar clientes:",V),P("Error al cargar clientes: "+V.message)}finally{_(!1)}},[q,P]),re=S.useCallback(async V=>{_(!0),q();try{const{data:H,error:te}=await T.from("mascotas").select("*").eq("id_cliente",V).order("nombre",{ascending:!0});if(te)throw te;d(H||[])}catch(H){console.error("Error al cargar mascotas:",H),P("Error al cargar mascotas: "+H.message)}finally{_(!1)}},[q,P]),le=S.useCallback(async()=>{try{const[{data:V,error:H},{data:te,error:ye},{data:Ue,error:Ce}]=await Promise.all([T.from("medicamentos").select("*"),T.from("suministros").select("*"),T.from("inventario_stock").select("*")]);if(H)throw H;if(x(V||[]),ye)throw ye;if(v(te||[]),Ce)throw Ce;const De=(Ue||[]).map(ze=>{let lt="Desconocido",$r=null;if(ze.tipo_item==="medicamento"){const ln=(V||[]).find(fa=>fa.id_medicamento===ze.id_referencia_item);lt=ln?ln.nombre_generico||ln.nombre_comercial||"Medicamento Desconocido":`Med. ID ${ze.id_referencia_item}`,ze.fecha_caducidad_lote&&($r=new Date(ze.fecha_caducidad_lote+"T00:00:00").toLocaleDateString("es-ES"))}else if(ze.tipo_item==="suministro"){const ln=(te||[]).find(fa=>fa.id_suministro===ze.id_referencia_item);lt=ln?ln.nombre:`Sum. ID ${ze.id_referencia_item}`}return{...ze,nombre_item:lt,vencimiento_display:$r}});y(De)}catch(V){console.error("Error al cargar catálogos o inventario:",V),P("Error al cargar catálogos o inventario: "+V.message)}},[P]),ae=S.useCallback(async V=>{_(!0),q();try{const{data:H,error:te}=await T.from("historial_clinico").select("*").eq("id_mascota",V).order("fecha_consulta",{ascending:!1});if(te)throw te;const ye=[],Ue=m,Ce=g;for(const De of H||[]){const[{data:ze,error:lt},{data:$r,error:ln},{data:fa,error:mc}]=await Promise.all([T.from("tratamientos_detalles").select("*").eq("id_historial",De.id_historial).order("fecha_inicio",{ascending:!1}),T.from("prescripciones").select("*").eq("id_historial",De.id_historial).order("fecha_prescripcion",{ascending:!1}),T.from("consumos_historial").select("*").eq("id_historial",De.id_historial).order("fecha_consumo",{ascending:!1})]);if(lt)throw lt;if(ln)throw ln;if(mc)throw mc;const cn=($r||[]).map(Jt=>{var ji;return{...Jt,nombre_medicamento:((ji=Ue.find(ha=>ha.id_medicamento===Jt.id_medicamento))==null?void 0:ji.nombre_generico)||"Medicamento Desconocido"}}),Zn=(fa||[]).map(Jt=>{let ji="Desconocido";if(Jt.tipo_item==="medicamento"&&Jt.id_medicamento_consumido){const ha=Ue.find(Yg=>Yg.id_medicamento===Jt.id_medicamento_consumido);ji=ha?ha.nombre_generico||ha.nombre_comercial||"Medicamento Consumido":`Med. ID ${Jt.id_medicamento_consumido}`}else if(Jt.tipo_item==="suministro"&&Jt.id_suministro_consumido){const ha=Ce.find(Yg=>Yg.id_suministro===Jt.id_suministro_consumido);ji=ha?ha.nombre:`Sum. ID ${Jt.id_suministro_consumido}`}return{...Jt,nombre_item:ji}});ye.push({...De,detalles_tratamiento:ze||[],prescripciones:cn,consumos:Zn})}h(ye),O(De=>({...De,id_mascota:V}))}catch(H){console.error("Error al cargar historial clínico:",H),P("Error al cargar historial clínico: "+H.message)}finally{_(!1)}},[q,P,m,g]);S.useEffect(()=>{le();const V=T.channel("medicamentos_changes_historial_page").on("postgres_changes",{event:"*",schema:"public",table:"medicamentos"},()=>{console.log("Realtime change for medicamentos received. Refetching catalogs and inventory."),le()}).subscribe(),H=T.channel("suministros_changes_historial_page").on("postgres_changes",{event:"*",schema:"public",table:"suministros"},()=>{console.log("Realtime change for suministros received. Refetching catalogs and inventory."),le()}).subscribe(),te=T.channel("inventario_stock_changes_historial_page").on("postgres_changes",{event:"*",schema:"public",table:"inventario_stock"},()=>{console.log("Realtime change for inventario_stock received. Refetching catalogs and inventory."),le()}).subscribe();return()=>{T.removeChannel(V),T.removeChannel(H),T.removeChannel(te),console.log("Unsubscribed from catalogs and inventory channels.")}},[le]),S.useEffect(()=>{const V=m.length>0||g.length>0;if(!V&&t==="historyDetail"){console.log("HistorialClinicoPage: Esperando carga de catálogos e inventario para la vista de historial..."),_(!0);return}const H=T.channel("historial_clinico_changes_main").on("postgres_changes",{event:"*",schema:"public",table:"historial_clinico"},Ce=>{console.log("Realtime change for historial_clinico received:",Ce),a&&ae(a.id_mascota)}).subscribe(),te=T.channel("tratamientos_detalles_changes_main").on("postgres_changes",{event:"*",schema:"public",table:"tratamientos_detalles"},Ce=>{console.log("Realtime change for tratamientos_detalles received:",Ce),a&&ae(a.id_mascota)}).subscribe(),ye=T.channel("prescripciones_changes_main").on("postgres_changes",{event:"*",schema:"public",table:"prescripciones"},Ce=>{console.log("Realtime change for prescripciones received:",Ce),a&&ae(a.id_mascota)}).subscribe(),Ue=T.channel("consumos_historial_changes_main").on("postgres_changes",{event:"*",schema:"public",table:"consumos_historial"},Ce=>{console.log("Realtime change for consumos_historial received:",Ce),a&&ae(a.id_mascota)}).subscribe();return t==="clientList"?oe():t==="petList"&&n?re(n.id_cliente):t==="historyDetail"&&(e&&!a?(async()=>{var De;_(!0),q();try{const{data:ze,error:lt}=await T.from("mascotas").select("*, clientes(id_cliente, nombre, email, telefono)").eq("id_mascota",parseInt(e)).single();if(lt)throw lt;if(!ze){P("Mascota no encontrada para la URL."),_(!1);return}s({...ze,cliente_nombre:((De=ze.clientes)==null?void 0:De.nombre)||"Desconocido"}),ze.clientes?i({id_cliente:ze.clientes.id_cliente,nombre:ze.clientes.nombre||"Nombre no disponible",email:ze.clientes.email,telefono:ze.clientes.telefono,direccion:null,ciudad:null,recibir_recordatorios:null}):i(null),V?await ae(parseInt(e)):console.log("Catálogos aún no cargados para fetchHistorial desde URL, esperando...")}catch(ze){console.error("Error al cargar mascota o historial desde URL:",ze),P("Error al cargar la mascota o su historial: "+ze.message)}finally{_(!1)}})():a&&V?ae(a.id_mascota):a&&!V&&(_(!0),console.log("HistorialClinicoPage: Mascota seleccionada, pero esperando catálogos para fetchHistorial."))),()=>{T.removeChannel(H),T.removeChannel(te),T.removeChannel(ye),T.removeChannel(Ue),console.log("Desuscribiéndose de los canales principales relacionados con el historial.")}},[t,n,a,e,oe,re,ae,m.length,g.length,P,q]);const Se=V=>{i(V),d([]),r("petList"),h([]),s(null)},Pe=()=>{i(null),d([]),r("clientList"),h([]),s(null)},$e=V=>{if(s(V),h([]),r("historyDetail"),V.id_cliente){const H=l.find(te=>te.id_cliente===V.id_cliente);i(H?{...H,nombre:H.nombre||"Nombre no disponible"}:null)}else i(null)},ot=()=>{s(null),h([]),r("petList")},He=V=>{const{name:H,value:te}=V.target;O(ye=>({...ye,[H]:te}))},Me=V=>{const{name:H,value:te}=V.target;R(ye=>ye&&{...ye,[H]:te})},zt=()=>{if(q(),!F.nombre_tratamiento||!F.fecha_inicio){P("Nombre y fecha de inicio del tratamiento son obligatorios.");return}$(V=>[...V,F]),R({nombre_tratamiento:"",descripcion:null,fecha_inicio:new Date().toISOString().split("T")[0],fecha_fin:null}),A("Tratamiento añadido a la lista.")},Mr=V=>{$(H=>H.filter((te,ye)=>ye!==V)),A("Tratamiento eliminado de la lista.")},tt=V=>{const{name:H,value:te}=V.target;if(H==="id_medicamento"){const ye=parseInt(te);X(Ce=>({...Ce,[H]:ye}));const Ue=p.filter(Ce=>Ce.tipo_item==="medicamento"&&Ce.id_referencia_item===ye);if(Ue.length===0)ce("NO_EN_CLINICA"),Q(0);else{const Ce=Ue.reduce((De,ze)=>De+ze.cantidad,0);Q(Ce),ce(Ce===0?"AGOTADO":"DISPONIBLE")}}else X(ye=>({...ye,[H]:H==="cantidad_prescrita"?parseInt(te):te}))},oo=()=>{var Ce,De;if(q(),!D.id_medicamento||D.id_medicamento===0||!D.cantidad_prescrita||D.cantidad_prescrita<=0||!D.dosis||!D.frecuencia||!D.fecha_prescripcion){P("Por favor, completa todos los campos obligatorios para la prescripción (medicamento, cantidad, dosis, frecuencia, fecha).");return}const V=D.cantidad_prescrita,H=((Ce=m.find(ze=>ze.id_medicamento===D.id_medicamento))==null?void 0:Ce.nombre_generico)||"Medicamento Desconocido";let te="",ye=!0;if(K==="NO_EN_CLINICA"?(te=`Advertencia: El medicamento "${H}" no está registrado como disponible en la clínica. 

¿Desea continuar con esta prescripción? (Esta acción solo registra la prescripción y NO afecta el inventario).`,ye=window.confirm(te)):K==="AGOTADO"?(te=`Advertencia: El medicamento "${H}" está actualmente AGOTADO en la clínica. 

¿Desea continuar con esta prescripción? (Esta acción solo registra la prescripción y NO afecta el inventario).`,ye=window.confirm(te)):K==="DISPONIBLE"&&ne!==null&&V>ne&&(te=`Advertencia: La cantidad prescrita de "${H}" (${V} unid.) es mayor que el stock disponible (${ne} unid.).

¿Desea continuar con esta prescripción de todos modos? (Esta acción solo registra la prescripción y NO afecta el inventario directamente).`,ye=window.confirm(te)),!ye){P("Prescripción cancelada por el usuario.");return}const Ue=((De=m.find(ze=>ze.id_medicamento===D.id_medicamento))==null?void 0:De.nombre_generico)||"Medicamento Desconocido";Y(ze=>[...ze,{...D,nombre_medicamento:Ue}]),X({id_medicamento:0,cantidad_prescrita:1,dosis:"",frecuencia:"",duracion:null,fecha_prescripcion:new Date().toISOString().split("T")[0],instrucciones_adicionales:null}),Q(null),ce(null),A("Prescripción añadida a la lista.")},wi=V=>{Y(H=>H.filter((te,ye)=>ye!==V)),A("Prescripción eliminada de la lista.")},hc=async V=>{if(V.preventDefault(),q(),!a){P("No hay mascota seleccionada.");return}if(!C.motivo_consulta||!C.diagnostico||!C.tratamiento||!C.fecha_consulta){P("Por favor, completa los campos obligatorios del historial clínico.");return}M(!0);try{const{data:H,error:te}=await T.from("historial_clinico").insert([{...C,id_mascota:a.id_mascota}]).select().single();if(te)throw te;const ye=H.id_historial;for(const Ue of L){const{error:Ce}=await T.from("tratamientos_detalles").insert([{...Ue,id_historial:ye}]);if(Ce)throw Ce}for(const Ue of B){const{error:Ce}=await T.from("prescripciones").insert([{id_historial:ye,id_medicamento:Ue.id_medicamento,cantidad_prescrita:Ue.cantidad_prescrita,dosis:Ue.dosis,frecuencia:Ue.frecuencia,duracion:Ue.duracion,fecha_prescripcion:Ue.fecha_prescripcion,instrucciones_adicionales:Ue.instrucciones_adicionales}]);if(Ce)throw Ce}A("Nuevo registro de historial creado exitosamente."),O({id_mascota:a.id_mascota,id_cita:null,fecha_consulta:new Date().toISOString().split("T")[0],motivo_consulta:"",diagnostico:"",tratamiento:"",observaciones:null}),$([]),Y([]),R({nombre_tratamiento:"",descripcion:null,fecha_inicio:new Date().toISOString().split("T")[0],fecha_fin:null}),X({id_medicamento:0,cantidad_prescrita:1,dosis:"",frecuencia:"",duracion:null,fecha_prescripcion:new Date().toISOString().split("T")[0],instrucciones_adicionales:null}),Q(null),ce(null),ae(a.id_mascota)}catch(H){console.error("Error al añadir registro de historial:",H),P("Error al añadir registro de historial: "+H.message)}finally{M(!1)}},tf=V=>{q(),xe(V.id_historial),be({...V}),$(V.detalles_tratamiento||[]),Y((V.prescripciones||[]).map(H=>({...H,cantidad_prescrita:H.cantidad_prescrita||1,frecuencia:H.frecuencia||"",instrucciones_adicionales:H.instrucciones_adicionales||null,duracion:H.duracion||null}))),Q(null),ce(null)},rf=()=>{q(),xe(null),be(null),$([]),Y([]),R({nombre_tratamiento:"",descripcion:null,fecha_inicio:new Date().toISOString().split("T")[0],fecha_fin:null}),X({id_medicamento:0,cantidad_prescrita:1,dosis:"",frecuencia:"",duracion:null,fecha_prescripcion:new Date().toISOString().split("T")[0],instrucciones_adicionales:null}),Q(null),ce(null)},fr=V=>{const{name:H,value:te}=V.target;be(ye=>ye?{...ye,[H]:te}:null)},Wg=async V=>{if(V.preventDefault(),q(),!ue||!me){P("No hay registro para editar.");return}if(!ue.motivo_consulta||!ue.diagnostico||!ue.tratamiento||!ue.fecha_consulta){P("Por favor, completa los campos obligatorios del historial clínico.");return}M(!0);try{const{error:H}=await T.from("historial_clinico").update({fecha_consulta:ue.fecha_consulta,motivo_consulta:ue.motivo_consulta,diagnostico:ue.diagnostico,tratamiento:ue.tratamiento,observaciones:ue.observaciones}).eq("id_historial",me);if(H)throw H;await T.from("tratamientos_detalles").delete().eq("id_historial",me);for(const te of L){const{error:ye}=await T.from("tratamientos_detalles").insert([{...te,id_historial:me}]);if(ye)throw ye}await T.from("prescripciones").delete().eq("id_historial",me);for(const te of B){const{error:ye}=await T.from("prescripciones").insert([{id_historial:me,id_medicamento:te.id_medicamento,cantidad_prescrita:te.cantidad_prescrita,dosis:te.dosis,frecuencia:te.frecuencia,duracion:te.duracion,fecha_prescripcion:te.fecha_prescripcion,instrucciones_adicionales:te.instrucciones_adicionales}]);if(ye)throw ye}A("Registro de historial actualizado exitosamente."),xe(null),be(null),$([]),Y([]),R({nombre_tratamiento:"",descripcion:null,fecha_inicio:new Date().toISOString().split("T")[0],fecha_fin:null}),X({id_medicamento:0,cantidad_prescrita:1,dosis:"",frecuencia:"",duracion:null,fecha_prescripcion:new Date().toISOString().split("T")[0],instrucciones_adicionales:null}),Q(null),ce(null),a&&ae(a.id_mascota)}catch(H){console.error("Error al actualizar registro de historial:",H),P("Error al actualizar registro de historial: "+H.message)}finally{M(!1)}},lo=async V=>{if(window.confirm("¿Estás seguro de que quieres eliminar este registro de historial clínico y todos sus tratamientos, prescripciones y consumos asociados?")){M(!0),q();try{const{error:H}=await T.from("consumos_historial").delete().eq("id_historial",V);if(H)throw H;const{error:te}=await T.from("tratamientos_detalles").delete().eq("id_historial",V);if(te)throw te;const{error:ye}=await T.from("prescripciones").delete().eq("id_historial",V);if(ye)throw ye;const{error:Ue}=await T.from("historial_clinico").delete().eq("id_historial",V);if(Ue)throw Ue;A("Registro de historial eliminado exitosamente."),h(Ce=>Ce.filter(De=>De.id_historial!==V))}catch(H){console.error("Error al eliminar registro:",H),P("Error al eliminar registro: "+H.message)}finally{M(!1)}}},Hg=V=>{q(),I(V),ee({tipo_item:"",id_referencia_item:null,cantidad_consumida:1,lote_consumido:"",observaciones:""}),J([]),se(!0)},_i=V=>{const{name:H,value:te}=V.target;ee(ye=>({...ye,[H]:H==="cantidad_consumida"||H==="id_referencia_item"?Number(te):te}))};S.useEffect(()=>{if(G.tipo_item&&G.id_referencia_item){const V=p.filter(H=>H.tipo_item===G.tipo_item&&H.id_referencia_item===G.id_referencia_item&&H.cantidad>0);J(V),V.length===1&&G.tipo_item==="medicamento"?ee(H=>({...H,lote_consumido:V[0].lote||""})):ee(H=>({...H,lote_consumido:""}))}else J([])},[G.tipo_item,G.id_referencia_item,p]);const Z=async V=>{if(V.preventDefault(),q(),M(!0),!W||!G.tipo_item||G.id_referencia_item===null||G.cantidad_consumida<=0){P("Por favor, completa los campos obligatorios para registrar el consumo."),M(!1);return}let H;if(G.tipo_item==="medicamento"?H=p.find(te=>te.tipo_item==="medicamento"&&te.id_referencia_item===G.id_referencia_item&&te.lote===G.lote_consumido):H=p.find(te=>te.tipo_item==="suministro"&&te.id_referencia_item===G.id_referencia_item),!H||H.cantidad<G.cantidad_consumida){P("Stock insuficiente o lote no encontrado para el consumo solicitado."),M(!1);return}try{const te={id_historial:W.id_historial,tipo_item:G.tipo_item,id_medicamento_consumido:G.tipo_item==="medicamento"?G.id_referencia_item:null,id_suministro_consumido:G.tipo_item==="suministro"?G.id_referencia_item:null,cantidad_consumida:G.cantidad_consumida,lote_consumido:G.tipo_item==="medicamento"&&G.lote_consumido||null,fecha_consumo:new Date().toISOString().split("T")[0],observaciones:G.observaciones||null},{error:ye}=await T.from("consumos_historial").insert([te]);if(ye)throw ye;const Ue=H.cantidad-G.cantidad_consumida,{error:Ce}=await T.from("inventario_stock").update({cantidad:Ue,ultima_actualizacion:new Date().toISOString()}).eq("id_stock",H.id_stock);if(Ce)throw Ce;A("Consumo registrado y stock actualizado exitosamente."),se(!1),a&&ae(a.id_mascota)}catch(te){console.error("Error al registrar consumo o actualizar stock:",te.message),P("Error al registrar consumo o actualizar stock: "+te.message)}finally{M(!1)}},Ne=async(V,H,te,ye,Ue)=>{if(window.confirm("¿Estás seguro de que quieres eliminar este registro de consumo? Esto DEVOLVERÁ la cantidad al inventario.")){M(!0),q();try{const{error:Ce}=await T.from("consumos_historial").delete().eq("id_consumo",V);if(Ce)throw Ce;let De=T.from("inventario_stock").select("id_stock, cantidad").eq("tipo_item",H).eq("id_referencia_item",te);H==="medicamento"&&(De=De.eq("lote",Ue));const{data:ze,error:lt}=await De.single();if(lt&&lt.code==="PGRST116"){P("No se encontró el ítem de stock original para devolver la cantidad (posiblemente eliminado del inventario). Por favor, ajusta manualmente el inventario si es necesario."),M(!1);return}if(lt)throw lt;const{error:$r}=await T.from("inventario_stock").update({cantidad:ze.cantidad+ye,ultima_actualizacion:new Date().toISOString()}).eq("id_stock",ze.id_stock);if($r)throw $r;A("Consumo eliminado y stock devuelto exitosamente."),a&&ae(a.id_mascota)}catch(Ce){console.error("Error al eliminar consumo o devolver stock:",Ce.message),P("Error al eliminar consumo o devolver stock: "+Ce.message)}finally{M(!1)}}};if(b)return o.jsxs("div",{className:`flex items-center justify-center min-h-screen bg-gray-950 text-white\r
        font-inter`,children:[o.jsx(Fe,{className:"animate-spin mr-3 text-blue-400",size:36}),o.jsx("p",{className:"text-xl text-indigo-400",children:"Cargando datos del sistema..."})]});if(w)return o.jsxs("div",{className:"p-6 bg-gray-950 text-white min-h-screen font-inter",children:[o.jsxs("div",{className:"bg-red-800 p-4 rounded-lg text-red-100 mb-6 flex items-center justify-between shadow-md animate-fade-in",children:[o.jsx(Yt,{size:24,className:"flex-shrink-0 mr-3"}),o.jsxs("span",{className:"flex-grow",children:["Error: ",w]}),o.jsx(Ve,{size:20,className:"cursor-pointer ml-3",onClick:()=>j(null)})]}),o.jsx("button",{onClick:()=>{q(),_(!0),t==="clientList"?oe():t==="historyDetail"&&e&&(async()=>{var H;_(!0),q();try{const{data:te,error:ye}=await T.from("mascotas").select("*, clientes(id_cliente, nombre, email, telefono)").eq("id_mascota",parseInt(e)).single();if(ye)throw ye;if(!te){P("Mascota no encontrada para la URL."),_(!1);return}s({...te,cliente_nombre:((H=te.clientes)==null?void 0:H.nombre)||"Desconocido"}),te.clientes?i({id_cliente:te.clientes.id_cliente,nombre:te.clientes.nombre||"Nombre no disponible",email:te.clientes.email,telefono:te.clientes.telefono,direccion:null,ciudad:null,recibir_recordatorios:null}):i(null),m.length>0||g.length>0?await ae(parseInt(e)):console.log("Catálogos aún no cargados para fetchHistorial desde URL, esperando...")}catch(te){console.error("Error al cargar mascota o historial desde URL en reintento:",te),P("Error al cargar la mascota o su historial: "+te.message)}finally{_(!1)}})()},className:`px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition\r
            shadow-md`,children:"Reintentar Carga"})]});const Xe=f.filter(V=>{var $r,ln,fa,mc;if(!C.motivo_consulta)return!0;const H=C.motivo_consulta.toLowerCase(),te=V.motivo_consulta.toLowerCase().includes(H),ye=V.diagnostico.toLowerCase().includes(H),Ue=V.tratamiento.toLowerCase().includes(H),Ce=(($r=V.observaciones)==null?void 0:$r.toLowerCase().includes(H))||!1,De=((ln=V.detalles_tratamiento)==null?void 0:ln.some(cn=>{var Zn;return cn.nombre_tratamiento.toLowerCase().includes(H)||((Zn=cn.descripcion)==null?void 0:Zn.toLowerCase().includes(H))}))||!1,ze=((fa=V.prescripciones)==null?void 0:fa.some(cn=>{var Zn,Jt;return((Zn=cn.nombre_medicamento)==null?void 0:Zn.toLowerCase().includes(H))||cn.dosis.toLowerCase().includes(H)||((Jt=cn.frecuencia)==null?void 0:Jt.toLowerCase().includes(H))}))||!1,lt=((mc=V.consumos)==null?void 0:mc.some(cn=>{var Zn,Jt,ji;return((Zn=cn.nombre_item)==null?void 0:Zn.toLowerCase().includes(H))||((Jt=cn.observaciones)==null?void 0:Jt.toLowerCase().includes(H))||((ji=cn.lote_consumido)==null?void 0:ji.toLowerCase().includes(H))}))||!1;return te||ye||Ue||Ce||De||ze||lt});return o.jsxs("div",{className:"p-6 bg-gray-950 text-white space-y-12 min-h-screen font-inter",children:[o.jsxs("h2",{className:`text-3xl font-extrabold text-indigo-400 text-center mb-8 flex items-center\r
        justify-center gap-2`,children:[o.jsx(Du,{size:28})," Historial Clínico"]}),w&&o.jsxs("div",{className:"bg-red-800 text-red-100 p-4 rounded-lg text-center border border-red-600 mb-6 flex items-center justify-between shadow-md animate-fade-in",children:[o.jsx(Yt,{size:24,className:"flex-shrink-0 mr-3"}),o.jsx("span",{className:"flex-grow",children:w}),o.jsx(Ve,{size:20,className:"cursor-pointer ml-3",onClick:()=>j(null)})]}),N&&o.jsxs("div",{className:"bg-green-800 text-green-100 p-4 rounded-lg text-center border border-green-600 mb-6 flex items-center justify-between shadow-md animate-fade-in",children:[o.jsx(oi,{size:24,className:"flex-shrink-0 mr-3"}),o.jsx("span",{className:"flex-grow",children:N}),o.jsx(Ve,{size:20,className:"cursor-pointer ml-3",onClick:()=>k(null)})]}),t==="clientList"&&o.jsxs("section",{className:"bg-gray-800 p-6 rounded-lg shadow-lg border border-indigo-700",children:[o.jsxs("h3",{className:"text-2xl text-indigo-300 mb-6 font-semibold flex items-center gap-2",children:[o.jsx(Pp,{size:24})," Seleccionar Cliente"]}),o.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-700",children:o.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[o.jsx("thead",{className:"text-xs text-gray-200 uppercase bg-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Nombre"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Email"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Teléfono"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Acciones"})]})}),o.jsx("tbody",{children:l.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:"No hay clientes registrados."})}):l.map(V=>o.jsxs("tr",{className:`bg-gray-800 border-b border-gray-700\r
                      hover:bg-gray-700 transition-colors duration-200`,children:[o.jsx("td",{className:"px-6 py-4 font-medium text-white",children:V.nombre}),o.jsx("td",{className:"px-6 py-4",children:V.email}),o.jsx("td",{className:"px-6 py-4",children:V.telefono}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("button",{onClick:()=>Se(V),className:"px-3 py-1 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition shadow-md",children:"Ver Mascotas"})})]},V.id_cliente))})]})})]}),t==="petList"&&n&&o.jsxs("section",{className:"bg-gray-800 p-6 rounded-lg shadow-lg border border-indigo-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("button",{onClick:Pe,className:"flex items-center px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition shadow-md",children:[o.jsx(NS,{size:18,className:"mr-2"})," Volver a Clientes"]}),o.jsxs("h3",{className:"text-2xl text-indigo-300 font-semibold flex-grow text-center",children:["Mascotas de ",n.nombre]}),o.jsx("div",{className:"w-24"})," "]}),o.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-700",children:o.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[o.jsx("thead",{className:"text-xs text-gray-200 uppercase bg-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Nombre"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Especie"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Raza"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Edad"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Acciones"})]})}),o.jsx("tbody",{children:u.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"No hay mascotas registradas para este cliente."})}):u.map(V=>o.jsxs("tr",{className:`bg-gray-800 border-b border-gray-700\r
                      hover:bg-gray-700 transition-colors duration-200`,children:[o.jsx("td",{className:"px-6 py-4 font-medium text-white",children:V.nombre}),o.jsx("td",{className:"px-6 py-4",children:V.especie}),o.jsx("td",{className:"px-6 py-4",children:V.raza||"N/A"}),o.jsx("td",{className:"px-6 py-4",children:V.edad?`${V.edad} años`:"N/A"}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("button",{onClick:()=>$e(V),className:"px-3 py-1 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition shadow-md",children:"Ver Historial"})})]},V.id_mascota))})]})})]}),t==="historyDetail"&&a&&o.jsxs("section",{className:"bg-gray-800 p-6 rounded-xl shadow-lg border border-blue-800",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("button",{onClick:ot,className:"flex items-center px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition shadow-md",children:[o.jsx(NS,{size:18,className:"mr-2"})," Volver a Mascotas"]}),o.jsxs("h3",{className:"text-2xl font-extrabold text-indigo-300 text-center flex-grow flex items-center justify-center gap-2",children:[o.jsx(Mw,{size:24})," Historial de ",a.nombre," (",a.especie,")"]}),o.jsx("div",{className:"w-24"})," "]}),o.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg shadow-md mb-8 text-lg",children:[o.jsxs("p",{children:[o.jsxs("strong",{className:"text-indigo-200",children:[o.jsx(tn,{size:18,className:"inline mr-1"}),"Propietario:"]}),(n==null?void 0:n.nombre)||"Desconocido"," "]}),n!=null&&n.telefono||n!=null&&n.email?o.jsxs("p",{children:[o.jsx("strong",{className:"text-indigo-200",children:"Contacto:"}),n.telefono&&n.email?`${n.telefono} | ${n.email}`:n.telefono?n.telefono:n.email]}):null]}),o.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg shadow-md mb-8",children:[o.jsxs("h4",{className:"text-xl font-semibold text-indigo-300 mb-4 flex items-center gap-2",children:[o.jsx(Wt,{size:20})," Añadir Nuevo Registro Clínico"]}),o.jsxs("form",{onSubmit:hc,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"fecha_consulta",className:`block text-sm\r
                  font-medium text-gray-300`,children:"Fecha de Consulta:"}),o.jsx("input",{type:"date",id:"fecha_consulta",name:"fecha_consulta",value:C.fecha_consulta,onChange:He,className:`mt-1 block w-full p-2.5 bg-gray-600 border\r
                    border-gray-500 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500`,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"motivo_consulta",className:`block text-sm\r
                  font-medium text-gray-300`,children:"Motivo de Consulta:"}),o.jsx("textarea",{id:"motivo_consulta",name:"motivo_consulta",value:C.motivo_consulta,onChange:He,rows:2,className:`mt-1 block w-full p-2.5 bg-gray-600 border\r
                    border-gray-500 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500 resize-y`,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"diagnostico",className:"block text-sm font-medium text-gray-300",children:"Diagnóstico:"}),o.jsx("textarea",{id:"diagnostico",name:"diagnostico",value:C.diagnostico,onChange:He,rows:3,className:`mt-1 block w-full p-2.5 bg-gray-600 border\r
                    border-gray-500 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500 resize-y`,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"tratamiento",className:"block text-sm font-medium text-gray-300",children:"Resumen de Tratamiento:"}),o.jsx("textarea",{id:"tratamiento",name:"tratamiento",value:C.tratamiento,onChange:He,rows:3,className:`mt-1 block w-full p-2.5 bg-gray-600 border\r
                    border-gray-500 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500 resize-y`,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"observaciones",className:`block text-sm\r
                  font-medium text-gray-300`,children:"Observaciones (Opcional):"}),o.jsx("textarea",{id:"observaciones",name:"observaciones",value:C.observaciones||"",onChange:He,rows:2,className:`mt-1 block w-full p-2.5 bg-gray-600 border\r
                    border-gray-500 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500 resize-y`})]}),o.jsxs("div",{className:"bg-gray-600 p-4 rounded-md mt-4 border border-gray-500",children:[o.jsx("h5",{className:"text-lg font-semibold text-indigo-200 mb-3",children:"Detalles de Tratamiento"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"new_tratamiento_nombre",className:`block\r
                      text-sm font-medium text-gray-300`,children:"Nombre del Tratamiento:"}),o.jsx("input",{type:"text",id:"new_tratamiento_nombre",name:"nombre_tratamiento",value:F.nombre_tratamiento,onChange:Me,className:`mt-1 block w-full p-2.5 bg-gray-700 border\r
                        border-gray-500 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500`})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"new_tratamiento_descripcion",className:"block text-sm font-medium text-gray-300",children:"Descripción:"}),o.jsx("input",{type:"text",id:"new_tratamiento_descripcion",name:"descripcion",value:F.descripcion||"",onChange:Me,className:`mt-1 block w-full p-2.5 bg-gray-700 border\r
                        border-gray-500 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500`})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"new_tratamiento_fecha_inicio",className:"block text-sm font-medium text-gray-300",children:"Fecha Inicio:"}),o.jsx("input",{type:"date",id:"new_tratamiento_fecha_inicio",name:"fecha_inicio",value:F.fecha_inicio,onChange:Me,className:`mt-1 block w-full p-2.5 bg-gray-700 border\r
                        border-gray-500 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500`})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"new_tratamiento_fecha_fin",className:"block text-sm font-medium text-gray-300",children:"Fecha Fin (Opcional):"}),o.jsx("input",{type:"date",id:"new_tratamiento_fecha_fin",name:"fecha_fin",value:F.fecha_fin||"",onChange:Me,className:`mt-1 block w-full p-2.5 bg-gray-700 border\r
                        border-gray-500 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500`})]})]}),o.jsxs("button",{type:"button",onClick:zt,className:`mt-3 px-4 py-2 bg-emerald-600 text-white\r
                    rounded-md hover:bg-emerald-700 transition flex items-center gap-1 shadow-md`,children:[o.jsx(Wt,{size:18})," Añadir Tratamiento"]}),L.length>0&&o.jsx("ul",{className:"mt-4 space-y-2 text-gray-300",children:L.map((V,H)=>o.jsxs("li",{className:`flex justify-between items-center bg-gray-700 p-2\r
                        rounded-md`,children:[o.jsxs("span",{children:[V.nombre_tratamiento," (",V.fecha_inicio,V.fecha_fin?` - ${V.fecha_fin}`:"",")"]}),o.jsx("button",{type:"button",onClick:()=>Mr(H),className:`text-red-400\r
                          hover:text-red-600`,title:"Eliminar Tratamiento",children:o.jsx(Ve,{size:18})})]},H))})]}),o.jsxs("div",{className:"bg-gray-600 p-4 rounded-md mt-4 border border-gray-500",children:[o.jsx("h5",{className:"text-lg font-semibold text-indigo-200 mb-3",children:"Prescripciones"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"new_prescripcion_medicamento",className:"block text-sm font-medium text-gray-300",children:"Medicamento:"}),o.jsxs("select",{id:"new_prescripcion_medicamento",name:"id_medicamento",value:D.id_medicamento,onChange:tt,className:`mt-1 block w-full p-2.5 bg-gray-700 border\r
                        border-gray-500 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500`,required:!0,children:[o.jsx("option",{value:0,children:"Selecciona un medicamento"}),m.map(V=>o.jsxs("option",{value:V.id_medicamento,children:[V.nombre_generico," ",V.nombre_comercial?`(${V.nombre_comercial})`:""]},V.id_medicamento))]}),D.id_medicamento>0&&K&&o.jsxs("p",{className:`text-sm mt-1
                          ${K==="DISPONIBLE"&&ne!==null&&D.cantidad_prescrita<=ne?"text-green-300":""}
                          ${K==="AGOTADO"?"text-red-300":""}
                          ${K==="NO_EN_CLINICA"?"text-gray-400":""}
                          ${K==="DISPONIBLE"&&ne!==null&&D.cantidad_prescrita>ne?"text-orange-300":""}
                          `,children:[K==="DISPONIBLE"&&`Stock Disponible:
                            ${ne} unidades.`,K==="AGOTADO"&&`Stock: Agotado
                            (${ne} unidades).`,K==="NO_EN_CLINICA"&&`Estado: No
                            disponible en la clínica (sin stock registrado).`,K==="DISPONIBLE"&&ne!==null&&D.cantidad_prescrita>ne&&o.jsx("span",{children:"(Cantidad excede stock disponible)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"new_prescripcion_cantidad",className:`block\r
                      text-sm font-medium text-gray-300`,children:"Cantidad (por dosis):"}),o.jsx("input",{type:"number",id:"new_prescripcion_cantidad",name:"cantidad_prescrita",value:D.cantidad_prescrita,onChange:tt,className:`mt-1 block w-full p-2.5 bg-gray-700 border\r
                        border-gray-500 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500`,min:"1",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"new_prescripcion_dosis",className:`block\r
                      text-sm font-medium text-gray-300`,children:"Dosis (ej. 10mg):"}),o.jsx("input",{type:"text",id:"new_prescripcion_dosis",name:"dosis",value:D.dosis,onChange:tt,className:`mt-1 block w-full p-2.5 bg-gray-700 border\r
                        border-gray-500 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500`,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"new_prescripcion_frecuencia",className:`block\r
                      text-sm font-medium text-gray-300`,children:"Frecuencia (ej. Cada 8 horas):"}),o.jsx("input",{type:"text",id:"new_prescripcion_frecuencia",name:"frecuencia",value:D.frecuencia,onChange:tt,className:`mt-1 block w-full p-2.5 bg-gray-700 border\r
                        border-gray-500 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500`,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"new_prescripcion_duracion",className:"block text-sm font-medium text-gray-300",children:"Duración (ej. 7 días, Hasta terminar):"}),o.jsx("input",{type:"text",id:"new_prescripcion_duracion",name:"duracion",value:D.duracion||"",onChange:tt,className:`mt-1 block w-full p-2.5 bg-gray-700 border\r
                        border-gray-500 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500`})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"new_prescripcion_fecha",className:`block\r
                      text-sm font-medium text-gray-300`,children:"Fecha Prescripción:"}),o.jsx("input",{type:"date",id:"new_prescripcion_fecha",name:"fecha_prescripcion",value:D.fecha_prescripcion,onChange:tt,className:`mt-1 block w-full p-2.5 bg-gray-700 border\r
                        border-gray-500 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500`,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"new_prescripcion_instrucciones",className:`block\r
                      text-sm font-medium text-gray-300`,children:"Instrucciones Adicionales (Opcional):"}),o.jsx("textarea",{id:"new_prescripcion_instrucciones",name:"instrucciones_adicionales",value:D.instrucciones_adicionales||"",onChange:tt,rows:2,className:`mt-1 block w-full p-2.5 bg-gray-700 border\r
                        border-gray-500 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500 resize-y`})]})]}),o.jsxs("button",{type:"button",onClick:oo,className:`mt-3 px-4 py-2 bg-emerald-600 text-white\r
                    rounded-md hover:bg-emerald-700 transition flex items-center gap-1 shadow-md`,children:[o.jsx(Wt,{size:18})," Añadir Prescripción"]}),B.length>0&&o.jsx("ul",{className:"mt-4 space-y-2 text-gray-300",children:B.map((V,H)=>o.jsxs("li",{className:`flex justify-between items-center bg-gray-700 p-2\r
                        rounded-md`,children:[o.jsxs("span",{children:[o.jsx("strong",{className:"text-gray-200",children:"Medicamento:"}),V.nombre_medicamento," - ",o.jsx("strong",{className:"text-gray-200",children:"Dosis:"})," ",V.dosis,"(",V.cantidad_prescrita," unid.) - ",o.jsx("strong",{className:"text-gray-200",children:"Frecuencia:"}),V.frecuencia,"(",o.jsx("span",{className:"text-xs",children:new Date(V.fecha_prescripcion).toLocaleDateString("es-ES")}),")"]}),o.jsx("button",{type:"button",onClick:()=>wi(H),className:`text-red-400\r
                          hover:text-red-600`,title:"Eliminar Prescripción",children:o.jsx(Ve,{size:18})})]},H))})]}),o.jsxs("button",{type:"submit",className:`w-full px-4 py-2 bg-indigo-600 text-white font-semibold rounded-md\r
                  hover:bg-indigo-700 transition shadow-lg flex items-center justify-center gap-2`,disabled:E,children:[E?o.jsx(Fe,{className:"animate-spin mr-2",size:20}):o.jsx(C0,{size:20}),E?"Guardando...":"Guardar Nuevo Registro"]})]})]}),o.jsx("h4",{className:"text-xl font-semibold text-indigo-300 mb-4 flex items-center gap-2",children:"Registros Existentes"}),f.length===0?o.jsx("p",{className:"text-gray-400 text-center py-8 bg-gray-700 rounded-lg shadow-md",children:"No hay registros"}):o.jsx("div",{className:"space-y-6",children:Xe.map(V=>o.jsx("div",{className:`bg-gray-700 p-5\r
                  rounded-lg shadow-md border border-gray-600`,children:me===V.id_historial?o.jsxs("form",{onSubmit:Wg,className:"space-y-4",children:[o.jsxs("h5",{className:"text-lg font-bold text-indigo-200 mb-3",children:["Editando Registro: ",new Date(V.fecha_consulta).toLocaleDateString("es-ES")]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:`edit_fecha_consulta_${V.id_historial}`,className:`block\r
                          text-sm font-medium text-gray-300`,children:"Fecha de Consulta:"}),o.jsx("input",{type:"date",id:`edit_fecha_consulta_${V.id_historial}`,name:"fecha_consulta",value:(ue==null?void 0:ue.fecha_consulta.split("T")[0])||"",onChange:fr,className:`mt-1 block w-full p-2.5 bg-gray-600\r
                            border border-gray-500 rounded-md text-white`,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:`edit_motivo_consulta_${V.id_historial}`,className:`block\r
                          text-sm font-medium text-gray-300`,children:"Motivo de Consulta:"}),o.jsx("textarea",{id:`edit_motivo_consulta_${V.id_historial}`,name:"motivo_consulta",value:(ue==null?void 0:ue.motivo_consulta)||"",onChange:fr,rows:2,className:`mt-1 block w-full p-2.5 bg-gray-600\r
                            border border-gray-500 rounded-md text-white resize-y`,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:`edit_diagnostico_${V.id_historial}`,className:`block text-sm\r
                          font-medium text-gray-300`,children:"Diagnóstico:"}),o.jsx("textarea",{id:`edit_diagnostico_${V.id_historial}`,name:"diagnostico",value:(ue==null?void 0:ue.diagnostico)||"",onChange:fr,rows:3,className:`mt-1 block w-full p-2.5 bg-gray-600\r
                            border border-gray-500 rounded-md text-white resize-y`,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:`edit_tratamiento_${V.id_historial}`,className:`block text-sm\r
                          font-medium text-gray-300`,children:"Resumen de Tratamiento:"}),o.jsx("textarea",{id:`edit_tratamiento_${V.id_historial}`,name:"tratamiento",value:(ue==null?void 0:ue.tratamiento)||"",onChange:fr,rows:3,className:`mt-1 block w-full p-2.5 bg-gray-600\r
                            border border-gray-500 rounded-md text-white resize-y`,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:`edit_observaciones_${V.id_historial}`,className:"block text-sm font-medium text-gray-300",children:"Observaciones (Opcional):"}),o.jsx("textarea",{id:`edit_observaciones_${V.id_historial}`,name:"observaciones",value:(ue==null?void 0:ue.observaciones)||"",onChange:fr,rows:2,className:`mt-1 block w-full p-2.5 bg-gray-600\r
                            border border-gray-500 rounded-md text-white resize-y`})]}),o.jsxs("div",{className:"bg-gray-600 p-4 rounded-md mt-4 border border-gray-500",children:[o.jsx("h5",{className:"text-base font-semibold text-indigo-200 mb-3",children:"Detalles de Tratamiento (Edición)"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"edit_tratamiento_nombre",className:"block text-sm font-medium text-gray-300",children:"Nombre del Tratamiento:"}),o.jsx("input",{type:"text",id:"edit_tratamiento_nombre",name:"nombre_tratamiento",value:F.nombre_tratamiento,onChange:Me,className:`mt-1 block w-full p-2.5 bg-gray-700\r
                                border border-gray-500 rounded-md text-white`})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"edit_tratamiento_descripcion",className:"block text-sm font-medium text-gray-300",children:"Descripción:"}),o.jsx("input",{type:"text",id:"edit_tratamiento_descripcion",name:"descripcion",value:F.descripcion||"",onChange:Me,className:`mt-1 block w-full p-2.5 bg-gray-700\r
                                border border-gray-500 rounded-md text-white`})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"edit_tratamiento_fecha_inicio",className:"block text-sm font-medium text-gray-300",children:"Fecha Inicio:"}),o.jsx("input",{type:"date",id:"edit_tratamiento_fecha_inicio",name:"fecha_inicio",value:F.fecha_inicio,onChange:Me,className:`mt-1 block w-full p-2.5 bg-gray-700\r
                                border border-gray-500 rounded-md text-white`})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"edit_tratamiento_fecha_fin",className:"block text-sm font-medium text-gray-300",children:"Fecha Fin (Opcional):"}),o.jsx("input",{type:"date",id:"edit_tratamiento_fecha_fin",name:"fecha_fin",value:F.fecha_fin||"",onChange:Me,className:`mt-1 block w-full p-2.5 bg-gray-700\r
                                border border-gray-500 rounded-md text-white`})]})]}),o.jsxs("button",{type:"button",onClick:zt,className:"mt-3 px-4 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 transition flex items-center gap-1 shadow-md",children:[o.jsx(Wt,{size:18})," Añadir Tratamiento"]}),L.length>0&&o.jsx("ul",{className:"mt-4 space-y-2 text-gray-300",children:L.map((H,te)=>o.jsxs("li",{className:`flex justify-between items-center bg-gray-700 p-2\r
                                rounded-md`,children:[o.jsxs("span",{children:[H.nombre_tratamiento,"(",H.fecha_inicio," ",H.fecha_fin?` - ${H.fecha_fin}`:"",")"]}),o.jsx("button",{type:"button",onClick:()=>Mr(te),className:`text-red-400\r
                                  hover:text-red-600`,title:"Eliminar Tratamiento",children:o.jsx(Ve,{size:18})})]},te))})]}),o.jsxs("div",{className:"bg-gray-600 p-4 rounded-md mt-4 border border-gray-500",children:[o.jsx("h5",{className:"text-base font-semibold text-indigo-200 mb-3",children:"Prescripciones (Edición)"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"edit_prescripcion_medicamento",className:"block text-sm font-medium text-gray-300",children:"Medicamento:"}),o.jsxs("select",{id:"edit_prescripcion_medicamento",name:"id_medicamento",value:D.id_medicamento,onChange:tt,className:`mt-1 block w-full p-2.5 bg-gray-700\r
                                border border-gray-500 rounded-md text-white`,required:!0,children:[o.jsx("option",{value:0,children:"Selecciona un medicamento"}),m.map(H=>o.jsxs("option",{value:H.id_medicamento,children:[H.nombre_generico,H.nombre_comercial?`(${H.nombre_comercial})`:""]},H.id_medicamento))]}),D.id_medicamento>0&&K&&o.jsxs("p",{className:`text-sm mt-1
                                  ${K==="DISPONIBLE"&&ne!==null&&D.cantidad_prescrita<=ne?"text-green-300":""}
                                  ${K==="AGOTADO"?"text-red-300":""}
                                  ${K==="NO_EN_CLINICA"?"text-gray-400":""}
                                  ${K==="DISPONIBLE"&&ne!==null&&D.cantidad_prescrita>ne?"text-orange-300":""}
                                  `,children:[K==="DISPONIBLE"&&`Stock Disponible:
                                    ${ne} unidades.`,K==="AGOTADO"&&`Stock: Agotado
                                    (${ne} unidades).`,K==="NO_EN_CLINICA"&&`Estado: No
                                    disponible en la clínica (sin stock registrado).`,K==="DISPONIBLE"&&ne!==null&&D.cantidad_prescrita>ne&&o.jsx("span",{children:"(Cantidad excede stock disponible)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"edit_prescripcion_cantidad",className:`block\r
                              text-sm font-medium text-gray-300`,children:"Cantidad (por dosis):"}),o.jsx("input",{type:"number",id:"edit_prescripcion_cantidad",name:"cantidad_prescrita",value:D.cantidad_prescrita,onChange:tt,className:`mt-1 block w-full p-2.5 bg-gray-700 border\r
                                border-gray-500 rounded-md text-white`,min:"1",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"edit_prescripcion_dosis",className:"block text-sm font-medium text-gray-300",children:"Dosis:"}),o.jsx("input",{type:"text",id:"edit_prescripcion_dosis",name:"dosis",value:D.dosis,onChange:tt,className:`mt-1 block w-full p-2.5 bg-gray-700\r
                                border border-gray-500 rounded-md text-white`,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"edit_prescripcion_frecuencia",className:`block\r
                              text-sm font-medium text-gray-300`,children:"Frecuencia:"}),o.jsx("input",{type:"text",id:"edit_prescripcion_frecuencia",name:"frecuencia",value:D.frecuencia,onChange:tt,className:`mt-1 block w-full p-2.5 bg-gray-700 border\r
                                border-gray-500 rounded-md text-white`,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"edit_prescripcion_duracion",className:"block text-sm font-medium text-gray-300",children:"Duración (Opcional):"}),o.jsx("input",{type:"text",id:"edit_prescripcion_duracion",name:"duracion",value:D.duracion||"",onChange:tt,className:`mt-1 block w-full p-2.5 bg-gray-700\r
                                border border-gray-500 rounded-md text-white`})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"edit_prescripcion_fecha",className:"block text-sm font-medium text-gray-300",children:"Fecha Prescripción:"}),o.jsx("input",{type:"date",id:"edit_prescripcion_fecha",name:"fecha_prescripcion",value:D.fecha_prescripcion,onChange:tt,className:`mt-1 block w-full p-2.5 bg-gray-700\r
                                border border-gray-500 rounded-md text-white`,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"edit_prescripcion_instrucciones",className:`block\r
                              text-sm font-medium text-gray-300`,children:"Instrucciones Adicionales (Opcional):"}),o.jsx("textarea",{id:"edit_prescripcion_instrucciones",name:"instrucciones_adicionales",value:D.instrucciones_adicionales||"",onChange:tt,rows:2,className:`mt-1 block w-full p-2.5 bg-gray-700 border\r
                                border-gray-500 rounded-md text-white resize-y`})]})]}),o.jsxs("button",{type:"button",onClick:oo,className:"mt-3 px-4 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 transition flex items-center gap-1 shadow-md",children:[o.jsx(Wt,{size:18})," Añadir Prescripción"]}),B.length>0&&o.jsx("ul",{className:"mt-4 space-y-2 text-gray-300",children:B.map((H,te)=>o.jsxs("li",{className:`flex justify-between items-center bg-gray-700 p-2\r
                                rounded-md`,children:[o.jsxs("span",{children:[o.jsx("strong",{className:"text-gray-200",children:"Medicamento:"}),H.nombre_medicamento," - ",o.jsx("strong",{className:"text-gray-200",children:"Dosis:"})," ",H.dosis,"(",H.cantidad_prescrita," unid.) - ",o.jsx("strong",{className:"text-gray-200",children:"Frecuencia:"}),H.frecuencia,"(",o.jsx("span",{className:"text-xs",children:new Date(H.fecha_prescripcion).toLocaleDateString("es-ES")}),")"]}),o.jsx("button",{type:"button",onClick:()=>wi(te),className:`text-red-400\r
                                  hover:text-red-600`,title:"Eliminar Prescripción",children:o.jsx(Ve,{size:18})})]},te))})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[o.jsxs("button",{type:"submit",className:`px-4 py-2 bg-indigo-600 text-white\r
                            rounded-md hover:bg-indigo-700 transition flex items-center gap-2 shadow-md`,disabled:E,children:[E?o.jsx(Fe,{className:"animate-spin mr-2",size:18}):o.jsx(C0,{size:18}),E?"Guardando...":"Guardar Cambios"]}),o.jsxs("button",{type:"button",onClick:rf,className:`px-4 py-2 bg-gray-500 text-white\r
                            rounded-md hover:bg-gray-600 transition flex items-center gap-2 shadow-md`,disabled:E,children:[o.jsx(Ve,{size:18})," Cancelar"]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-xl font-bold text-indigo-200 flex items-center gap-2",children:[o.jsx(Fi,{size:20})," Fecha: ",new Date(V.fecha_consulta).toLocaleDateString("es-ES")]}),V.id_cita&&o.jsxs("p",{className:"text-sm text-gray-400",children:["ID Cita:",V.id_cita]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>tf(V),className:`p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700\r
                              transition shadow-sm`,"aria-label":"Editar registro",children:o.jsx(_n,{size:18})}),o.jsx("button",{onClick:()=>lo(V.id_historial),className:`p-2 bg-red-600 text-white rounded-full hover:bg-red-700 transition\r
                              shadow-sm`,"aria-label":"Eliminar registro",disabled:E,children:E?o.jsx(Fe,{className:"animate-spin",size:18}):o.jsx(wr,{size:18})})]})]}),o.jsxs("p",{className:"mb-2",children:[o.jsx("strong",{className:"text-gray-300",children:"Motivo:"}),V.motivo_consulta]}),o.jsxs("p",{className:"mb-2",children:[o.jsx("strong",{className:"text-gray-300",children:"Diagnóstico:"})," ",V.diagnostico]}),o.jsxs("p",{className:"mb-2",children:[o.jsx("strong",{className:"text-gray-300",children:"Tratamiento:"})," ",V.tratamiento]}),V.observaciones&&o.jsxs("p",{className:"mb-2",children:[o.jsx("strong",{className:"text-gray-300",children:"Observaciones:"}),V.observaciones]}),V.detalles_tratamiento&&V.detalles_tratamiento.length>0&&o.jsxs("div",{className:"mt-4 border-t border-gray-600 pt-4",children:[o.jsxs("h6",{className:`text-md font-semibold text-indigo-200 mb-2 flex items-center\r
                              gap-1`,children:[o.jsx(Du,{size:16})," Tratamientos Específicos:"]}),o.jsx("ul",{className:`list-disc list-inside text-gray-300\r
                              space-y-1`,children:V.detalles_tratamiento.map((H,te)=>o.jsxs("li",{children:[o.jsxs("strong",{className:"text-gray-200",children:[H.nombre_tratamiento,":"]}),H.descripcion||"Sin descripción","(",new Date(H.fecha_inicio).toLocaleDateString("es-ES")," ",H.fecha_fin?` -
                                    ${new Date(H.fecha_fin).toLocaleDateString("es-ES")}`:"",")"]},te))})]}),V.prescripciones&&V.prescripciones.length>0&&o.jsxs("div",{className:"mt-4 border-t border-gray-600 pt-4",children:[o.jsxs("h6",{className:`text-md font-semibold text-indigo-200 mb-2 flex items-center\r
                              gap-1`,children:[o.jsx(eT,{size:16})," Prescripciones:"]}),o.jsx("ul",{className:`list-disc list-inside text-gray-300\r
                              space-y-1`,children:V.prescripciones.map((H,te)=>o.jsxs("li",{children:[o.jsx("strong",{className:"text-gray-200",children:"Medicamento:"}),H.nombre_medicamento," (",H.cantidad_prescrita," unid.) - ",o.jsx("strong",{className:"text-gray-200",children:"Dosis:"})," ",H.dosis," - ",o.jsx("strong",{className:"text-gray-200",children:"Frecuencia:"}),H.frecuencia," - ",o.jsx("strong",{className:"text-gray-200",children:"Duración:"})," ",H.duracion||"N/A",H.instrucciones_adicionales&&` (${H.instrucciones_adicionales})`,o.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:["(",new Date(H.fecha_prescripcion).toLocaleDateString("es-ES"),")"]})]},te))})]}),V.consumos&&V.consumos.length>0&&o.jsxs("div",{className:"mt-4 border-t border-gray-600 pt-4",children:[o.jsxs("h6",{className:`text-md font-semibold text-indigo-200 mb-2 flex items-center\r
                            gap-1`,children:[o.jsx(Is,{size:16})," Consumos Registrados:"]}),o.jsx("ul",{className:"list-disc list-inside text-gray-300 space-y-1",children:V.consumos.map((H,te)=>o.jsxs("li",{className:`flex justify-between items-center bg-gray-700/30 p-2\r
                                rounded-md`,children:[o.jsxs("span",{children:[o.jsxs("strong",{className:"text-gray-200",children:[H.nombre_item," (",H.tipo_item==="medicamento"?"Medicamento":"Suministro","):"]})," ",H.cantidad_consumida," unid.",H.lote_consumido&&` (Lote: ${H.lote_consumido})`,H.observaciones&&` - Obs: ${H.observaciones}`,o.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:["(",new Date(H.fecha_consumo).toLocaleDateString("es-ES"),")"]})]}),o.jsx("div",{className:"flex space-x-2",children:o.jsx("button",{onClick:()=>Ne(H.id_consumo,H.tipo_item,H.tipo_item==="medicamento"?H.id_medicamento_consumido:H.id_suministro_consumido,H.cantidad_consumida,H.lote_consumido),className:`p-1 bg-red-500 hover:bg-red-600 text-white rounded-md\r
                                      transition-colors text-xs`,title:"Eliminar Consumo y Devolver Stock",disabled:E,children:E?o.jsx(Fe,{className:"animate-spin",size:14}):o.jsx(wr,{size:14})})})]},te))})]}),o.jsxs("button",{onClick:()=>Hg(V),className:`mt-4 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white\r
                          rounded-md font-semibold text-sm transition-colors flex items-center gap-1 shadow-md`,children:[o.jsx(hl,{size:16})," Registrar Consumo de Ítem"]})]})},V.id_historial))})]}),U&&W&&o.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4\r
          z-50 animate-fade-in`,children:o.jsxs("div",{className:"bg-gray-800 p-8 rounded-lg shadow-xl w-full max-w-md border border-purple-700",children:[o.jsxs("h3",{className:`text-2xl font-bold text-purple-400 mb-6 text-center flex items-center\r
              justify-center gap-2`,children:[o.jsx(Is,{size:24})," Registrar Consumo de Ítem"]}),o.jsxs("p",{className:"text-gray-300 text-center mb-4",children:["Para: ",o.jsx("span",{className:"font-semibold",children:a==null?void 0:a.nombre})," (",o.jsx("span",{className:"font-semibold",children:new Date(W.fecha_consulta).toLocaleDateString("es-ES")}),")"]}),o.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"consume_tipo_item",className:"block text-sm font-medium text-gray-300",children:"Tipo de Ítem:"}),o.jsxs("select",{id:"consume_tipo_item",name:"tipo_item",value:G.tipo_item,onChange:_i,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-purple-500 focus:border-purple-500",required:!0,children:[o.jsx("option",{value:"",children:"Selecciona tipo"}),o.jsx("option",{value:"medicamento",children:"Medicamento"}),o.jsx("option",{value:"suministro",children:"Suministro"})]})]}),G.tipo_item&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"consume_id_referencia_item",className:"block text-sm font-medium text-gray-300",children:"Selecciona el Ítem:"}),o.jsxs("select",{id:"consume_id_referencia_item",name:"id_referencia_item",value:G.id_referencia_item||"",onChange:_i,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-purple-500 focus:border-purple-500",required:!0,children:[o.jsx("option",{value:"",children:"Selecciona un ítem"}),G.tipo_item==="medicamento"&&m.map(V=>o.jsxs("option",{value:V.id_medicamento,children:[V.nombre_generico," ",V.nombre_comercial?`(${V.nombre_comercial})`:""," (",V.unidad_medida||"Unid.",")"]},V.id_medicamento)),G.tipo_item==="suministro"&&g.map(V=>o.jsxs("option",{value:V.id_suministro,children:[V.nombre," (",V.unidad_medida||"Unid.",")"]},V.id_suministro))]})]}),G.tipo_item==="medicamento"&&G.id_referencia_item&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"consume_lote_consumido",className:"block text-sm font-medium text-gray-300",children:"Selecciona Lote (disponibles):"}),o.jsxs("select",{id:"consume_lote_consumido",name:"lote_consumido",value:G.lote_consumido||"",onChange:_i,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-purple-500 focus:border-purple-500",required:!0,children:[o.jsx("option",{value:"",children:"Selecciona un lote"}),de.length>0?de.map(V=>o.jsxs("option",{value:V.lote||"",children:[V.lote||"Sin Lote"," (Disp: ",V.cantidad,") ",V.fecha_caducidad_lote?` - Vence:
                            ${new Date(V.fecha_caducidad_lote+"T00:00:00").toLocaleDateString("es-ES")}`:""]},V.id_stock)):o.jsx("option",{value:"",disabled:!0,children:"No hay lotes disponibles para este medicamento"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"consume_cantidad",className:"block text-sm font-medium text-gray-300",children:"Cantidad a consumir:"}),o.jsx("input",{type:"number",id:"consume_cantidad",name:"cantidad_consumida",value:G.cantidad_consumida,onChange:_i,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-purple-500 focus:border-purple-500",min:"1",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"consume_observaciones",className:`block text-sm font-medium\r
                  text-gray-300`,children:"Observaciones (opcional):"}),o.jsx("textarea",{id:"consume_observaciones",name:"observaciones",value:G.observaciones,onChange:_i,rows:2,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-purple-500 focus:border-purple-500 resize-y"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>se(!1),className:"px-5 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold transition shadow-md",disabled:E,children:"Cancelar"}),o.jsxs("button",{type:"submit",className:`px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg\r
                    font-semibold transition shadow-md flex items-center justify-center`,disabled:E||!G.tipo_item||G.id_referencia_item===null||G.cantidad_consumida<=0||G.tipo_item==="medicamento"&&!G.lote_consumido,children:[E?o.jsx(Fe,{className:"animate-spin mr-2",size:20}):o.jsx(C0,{size:20,className:"mr-2"}),E?"Registrando...":"Registrar Consumo"]})]})]})]})})]})};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var nT;function ge(){return nT.apply(null,arguments)}function FF(e){nT=e}function Gn(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Rs(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Ze(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Rw(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Ze(e,t))return!1;return!0}function Ir(e){return e===void 0}function Ji(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function zd(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function iT(e,t){var r=[],n,i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function Aa(e,t){for(var r in t)Ze(t,r)&&(e[r]=t[r]);return Ze(t,"toString")&&(e.toString=t.toString),Ze(t,"valueOf")&&(e.valueOf=t.valueOf),e}function yi(e,t,r,n){return CT(e,t,r,n,!0).utc()}function UF(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Le(e){return e._pf==null&&(e._pf=UF()),e._pf}var Av;Array.prototype.some?Av=Array.prototype.some:Av=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function Lw(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=Le(e),r=Av.call(t.parsedDateParts,function(i){return i!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function Tp(e){var t=yi(NaN);return e!=null?Aa(Le(t),e):Le(t).userInvalidated=!0,t}var CS=ge.momentProperties=[],P0=!1;function zw(e,t){var r,n,i,a=CS.length;if(Ir(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Ir(t._i)||(e._i=t._i),Ir(t._f)||(e._f=t._f),Ir(t._l)||(e._l=t._l),Ir(t._strict)||(e._strict=t._strict),Ir(t._tzm)||(e._tzm=t._tzm),Ir(t._isUTC)||(e._isUTC=t._isUTC),Ir(t._offset)||(e._offset=t._offset),Ir(t._pf)||(e._pf=Le(t)),Ir(t._locale)||(e._locale=t._locale),a>0)for(r=0;r<a;r++)n=CS[r],i=t[n],Ir(i)||(e[n]=i);return e}function Fd(e){zw(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),P0===!1&&(P0=!0,ge.updateOffset(this),P0=!1)}function Kn(e){return e instanceof Fd||e!=null&&e._isAMomentObject!=null}function aT(e){ge.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function En(e,t){var r=!0;return Aa(function(){if(ge.deprecationHandler!=null&&ge.deprecationHandler(null,e),r){var n=[],i,a,s,l=arguments.length;for(a=0;a<l;a++){if(i="",typeof arguments[a]=="object"){i+=`
[`+a+"] ";for(s in arguments[0])Ze(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[a];n.push(i)}aT(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var ES={};function sT(e,t){ge.deprecationHandler!=null&&ge.deprecationHandler(e,t),ES[e]||(aT(t),ES[e]=!0)}ge.suppressDeprecationWarnings=!1;ge.deprecationHandler=null;function vi(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function BF(e){var t,r;for(r in e)Ze(e,r)&&(t=e[r],vi(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Tv(e,t){var r=Aa({},e),n;for(n in t)Ze(t,n)&&(Rs(e[n])&&Rs(t[n])?(r[n]={},Aa(r[n],e[n]),Aa(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)Ze(e,n)&&!Ze(t,n)&&Rs(e[n])&&(r[n]=Aa({},r[n]));return r}function Fw(e){e!=null&&this.set(e)}var Mv;Object.keys?Mv=Object.keys:Mv=function(e){var t,r=[];for(t in e)Ze(e,t)&&r.push(t);return r};var VF={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function qF(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return vi(n)?n.call(t,r):n}function hi(e,t,r){var n=""+Math.abs(e),i=t-n.length,a=e>=0;return(a?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var Uw=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,kf=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,O0={},Jo={};function ke(e,t,r,n){var i=n;typeof n=="string"&&(i=function(){return this[n]()}),e&&(Jo[e]=i),t&&(Jo[t[0]]=function(){return hi(i.apply(this,arguments),t[1],t[2])}),r&&(Jo[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function WF(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function HF(e){var t=e.match(Uw),r,n;for(r=0,n=t.length;r<n;r++)Jo[t[r]]?t[r]=Jo[t[r]]:t[r]=WF(t[r]);return function(i){var a="",s;for(s=0;s<n;s++)a+=vi(t[s])?t[s].call(i,e):t[s];return a}}function oh(e,t){return e.isValid()?(t=oT(t,e.localeData()),O0[t]=O0[t]||HF(t),O0[t](e)):e.localeData().invalidDate()}function oT(e,t){var r=5;function n(i){return t.longDateFormat(i)||i}for(kf.lastIndex=0;r>=0&&kf.test(e);)e=e.replace(kf,n),kf.lastIndex=0,r-=1;return e}var YF={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function GF(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(Uw).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var KF="Invalid date";function XF(){return this._invalidDate}var JF="%d",ZF=/\d{1,2}/;function QF(e){return this._ordinal.replace("%d",e)}var e8={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function t8(e,t,r,n){var i=this._relativeTime[r];return vi(i)?i(e,t,r,n):i.replace(/%d/i,e)}function r8(e,t){var r=this._relativeTime[e>0?"future":"past"];return vi(r)?r(t):r.replace(/%s/i,t)}var PS={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Pn(e){return typeof e=="string"?PS[e]||PS[e.toLowerCase()]:void 0}function Bw(e){var t={},r,n;for(n in e)Ze(e,n)&&(r=Pn(n),r&&(t[r]=e[n]));return t}var n8={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function i8(e){var t=[],r;for(r in e)Ze(e,r)&&t.push({unit:r,priority:n8[r]});return t.sort(function(n,i){return n.priority-i.priority}),t}var lT=/\d/,on=/\d\d/,cT=/\d{3}/,Vw=/\d{4}/,Mp=/[+-]?\d{6}/,jt=/\d\d?/,uT=/\d\d\d\d?/,dT=/\d\d\d\d\d\d?/,$p=/\d{1,3}/,qw=/\d{1,4}/,Dp=/[+-]?\d{1,6}/,Gl=/\d+/,Ip=/[+-]?\d+/,a8=/Z|[+-]\d\d:?\d\d/gi,Rp=/Z|[+-]\d\d(?::?\d\d)?/gi,s8=/[+-]?\d+(\.\d{1,3})?/,Ud=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Kl=/^[1-9]\d?/,Ww=/^([1-9]\d|\d)/,Yh;Yh={};function we(e,t,r){Yh[e]=vi(t)?t:function(n,i){return n&&r?r:t}}function o8(e,t){return Ze(Yh,e)?Yh[e](t._strict,t._locale):new RegExp(l8(e))}function l8(e){return Bi(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,i,a){return r||n||i||a}))}function Bi(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function yn(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Ge(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=yn(t)),r}var $v={};function ut(e,t){var r,n=t,i;for(typeof e=="string"&&(e=[e]),Ji(t)&&(n=function(a,s){s[t]=Ge(a)}),i=e.length,r=0;r<i;r++)$v[e[r]]=n}function Bd(e,t){ut(e,function(r,n,i,a){i._w=i._w||{},t(r,i._w,i,a)})}function c8(e,t,r){t!=null&&Ze($v,e)&&$v[e](t,r._a,r,e)}function Lp(e){return e%4===0&&e%100!==0||e%400===0}var _r=0,$i=1,ni=2,Gt=3,Bn=4,Di=5,Cs=6,u8=7,d8=8;ke("Y",0,0,function(){var e=this.year();return e<=9999?hi(e,4):"+"+e});ke(0,["YY",2],0,function(){return this.year()%100});ke(0,["YYYY",4],0,"year");ke(0,["YYYYY",5],0,"year");ke(0,["YYYYYY",6,!0],0,"year");we("Y",Ip);we("YY",jt,on);we("YYYY",qw,Vw);we("YYYYY",Dp,Mp);we("YYYYYY",Dp,Mp);ut(["YYYYY","YYYYYY"],_r);ut("YYYY",function(e,t){t[_r]=e.length===2?ge.parseTwoDigitYear(e):Ge(e)});ut("YY",function(e,t){t[_r]=ge.parseTwoDigitYear(e)});ut("Y",function(e,t){t[_r]=parseInt(e,10)});function nu(e){return Lp(e)?366:365}ge.parseTwoDigitYear=function(e){return Ge(e)+(Ge(e)>68?1900:2e3)};var fT=Xl("FullYear",!0);function f8(){return Lp(this.year())}function Xl(e,t){return function(r){return r!=null?(hT(this,e,r),ge.updateOffset(this,t),this):Ru(this,e)}}function Ru(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function hT(e,t,r){var n,i,a,s,l;if(!(!e.isValid()||isNaN(r))){switch(n=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(i?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(i?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(i?n.setUTCHours(r):n.setHours(r));case"Date":return void(i?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}a=r,s=e.month(),l=e.date(),l=l===29&&s===1&&!Lp(a)?28:l,i?n.setUTCFullYear(a,s,l):n.setFullYear(a,s,l)}}function h8(e){return e=Pn(e),vi(this[e])?this[e]():this}function m8(e,t){if(typeof e=="object"){e=Bw(e);var r=i8(e),n,i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(e=Pn(e),vi(this[e]))return this[e](t);return this}function p8(e,t){return(e%t+t)%t}var Rt;Array.prototype.indexOf?Rt=Array.prototype.indexOf:Rt=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Hw(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=p8(t,12);return e+=(t-r)/12,r===1?Lp(e)?29:28:31-r%7%2}ke("M",["MM",2],"Mo",function(){return this.month()+1});ke("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});ke("MMMM",0,0,function(e){return this.localeData().months(this,e)});we("M",jt,Kl);we("MM",jt,on);we("MMM",function(e,t){return t.monthsShortRegex(e)});we("MMMM",function(e,t){return t.monthsRegex(e)});ut(["M","MM"],function(e,t){t[$i]=Ge(e)-1});ut(["MMM","MMMM"],function(e,t,r,n){var i=r._locale.monthsParse(e,n,r._strict);i!=null?t[$i]=i:Le(r).invalidMonth=e});var g8="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),mT="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),pT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,y8=Ud,v8=Ud;function x8(e,t){return e?Gn(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||pT).test(t)?"format":"standalone"][e.month()]:Gn(this._months)?this._months:this._months.standalone}function b8(e,t){return e?Gn(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[pT.test(t)?"format":"standalone"][e.month()]:Gn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function w8(e,t,r){var n,i,a,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=yi([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return r?t==="MMM"?(i=Rt.call(this._shortMonthsParse,s),i!==-1?i:null):(i=Rt.call(this._longMonthsParse,s),i!==-1?i:null):t==="MMM"?(i=Rt.call(this._shortMonthsParse,s),i!==-1?i:(i=Rt.call(this._longMonthsParse,s),i!==-1?i:null)):(i=Rt.call(this._longMonthsParse,s),i!==-1?i:(i=Rt.call(this._shortMonthsParse,s),i!==-1?i:null))}function _8(e,t,r){var n,i,a;if(this._monthsParseExact)return w8.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=yi([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function gT(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Ge(t);else if(t=e.localeData().monthsParse(t),!Ji(t))return e}var r=t,n=e.date();return n=n<29?n:Math.min(n,Hw(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function yT(e){return e!=null?(gT(this,e),ge.updateOffset(this,!0),this):Ru(this,"Month")}function j8(){return Hw(this.year(),this.month())}function S8(e){return this._monthsParseExact?(Ze(this,"_monthsRegex")||vT.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Ze(this,"_monthsShortRegex")||(this._monthsShortRegex=y8),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function N8(e){return this._monthsParseExact?(Ze(this,"_monthsRegex")||vT.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Ze(this,"_monthsRegex")||(this._monthsRegex=v8),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function vT(){function e(c,u){return u.length-c.length}var t=[],r=[],n=[],i,a,s,l;for(i=0;i<12;i++)a=yi([2e3,i]),s=Bi(this.monthsShort(a,"")),l=Bi(this.months(a,"")),t.push(s),r.push(l),n.push(l),n.push(s);t.sort(e),r.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function k8(e,t,r,n,i,a,s){var l;return e<100&&e>=0?(l=new Date(e+400,t,r,n,i,a,s),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,r,n,i,a,s),l}function Lu(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Gh(e,t,r){var n=7+t-r,i=(7+Lu(e,0,n).getUTCDay()-t)%7;return-i+n-1}function xT(e,t,r,n,i){var a=(7+r-n)%7,s=Gh(e,n,i),l=1+7*(t-1)+a+s,c,u;return l<=0?(c=e-1,u=nu(c)+l):l>nu(e)?(c=e+1,u=l-nu(e)):(c=e,u=l),{year:c,dayOfYear:u}}function zu(e,t,r){var n=Gh(e.year(),t,r),i=Math.floor((e.dayOfYear()-n-1)/7)+1,a,s;return i<1?(s=e.year()-1,a=i+Vi(s,t,r)):i>Vi(e.year(),t,r)?(a=i-Vi(e.year(),t,r),s=e.year()+1):(s=e.year(),a=i),{week:a,year:s}}function Vi(e,t,r){var n=Gh(e,t,r),i=Gh(e+1,t,r);return(nu(e)-n+i)/7}ke("w",["ww",2],"wo","week");ke("W",["WW",2],"Wo","isoWeek");we("w",jt,Kl);we("ww",jt,on);we("W",jt,Kl);we("WW",jt,on);Bd(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=Ge(e)});function C8(e){return zu(e,this._week.dow,this._week.doy).week}var E8={dow:0,doy:6};function P8(){return this._week.dow}function O8(){return this._week.doy}function A8(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function T8(e){var t=zu(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}ke("d",0,"do","day");ke("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});ke("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});ke("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});ke("e",0,0,"weekday");ke("E",0,0,"isoWeekday");we("d",jt);we("e",jt);we("E",jt);we("dd",function(e,t){return t.weekdaysMinRegex(e)});we("ddd",function(e,t){return t.weekdaysShortRegex(e)});we("dddd",function(e,t){return t.weekdaysRegex(e)});Bd(["dd","ddd","dddd"],function(e,t,r,n){var i=r._locale.weekdaysParse(e,n,r._strict);i!=null?t.d=i:Le(r).invalidWeekday=e});Bd(["d","e","E"],function(e,t,r,n){t[n]=Ge(e)});function M8(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function $8(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Yw(e,t){return e.slice(t,7).concat(e.slice(0,t))}var D8="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),bT="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),I8="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),R8=Ud,L8=Ud,z8=Ud;function F8(e,t){var r=Gn(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Yw(r,this._week.dow):e?r[e.day()]:r}function U8(e){return e===!0?Yw(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function B8(e){return e===!0?Yw(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function V8(e,t,r){var n,i,a,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=yi([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return r?t==="dddd"?(i=Rt.call(this._weekdaysParse,s),i!==-1?i:null):t==="ddd"?(i=Rt.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=Rt.call(this._minWeekdaysParse,s),i!==-1?i:null):t==="dddd"?(i=Rt.call(this._weekdaysParse,s),i!==-1||(i=Rt.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=Rt.call(this._minWeekdaysParse,s),i!==-1?i:null)):t==="ddd"?(i=Rt.call(this._shortWeekdaysParse,s),i!==-1||(i=Rt.call(this._weekdaysParse,s),i!==-1)?i:(i=Rt.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=Rt.call(this._minWeekdaysParse,s),i!==-1||(i=Rt.call(this._weekdaysParse,s),i!==-1)?i:(i=Rt.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function q8(e,t,r){var n,i,a;if(this._weekdaysParseExact)return V8.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=yi([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function W8(e){if(!this.isValid())return e!=null?this:NaN;var t=Ru(this,"Day");return e!=null?(e=M8(e,this.localeData()),this.add(e-t,"d")):t}function H8(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Y8(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=$8(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function G8(e){return this._weekdaysParseExact?(Ze(this,"_weekdaysRegex")||Gw.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Ze(this,"_weekdaysRegex")||(this._weekdaysRegex=R8),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function K8(e){return this._weekdaysParseExact?(Ze(this,"_weekdaysRegex")||Gw.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ze(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=L8),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function X8(e){return this._weekdaysParseExact?(Ze(this,"_weekdaysRegex")||Gw.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ze(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=z8),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Gw(){function e(d,f){return f.length-d.length}var t=[],r=[],n=[],i=[],a,s,l,c,u;for(a=0;a<7;a++)s=yi([2e3,1]).day(a),l=Bi(this.weekdaysMin(s,"")),c=Bi(this.weekdaysShort(s,"")),u=Bi(this.weekdays(s,"")),t.push(l),r.push(c),n.push(u),i.push(l),i.push(c),i.push(u);t.sort(e),r.sort(e),n.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Kw(){return this.hours()%12||12}function J8(){return this.hours()||24}ke("H",["HH",2],0,"hour");ke("h",["hh",2],0,Kw);ke("k",["kk",2],0,J8);ke("hmm",0,0,function(){return""+Kw.apply(this)+hi(this.minutes(),2)});ke("hmmss",0,0,function(){return""+Kw.apply(this)+hi(this.minutes(),2)+hi(this.seconds(),2)});ke("Hmm",0,0,function(){return""+this.hours()+hi(this.minutes(),2)});ke("Hmmss",0,0,function(){return""+this.hours()+hi(this.minutes(),2)+hi(this.seconds(),2)});function wT(e,t){ke(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}wT("a",!0);wT("A",!1);function _T(e,t){return t._meridiemParse}we("a",_T);we("A",_T);we("H",jt,Ww);we("h",jt,Kl);we("k",jt,Kl);we("HH",jt,on);we("hh",jt,on);we("kk",jt,on);we("hmm",uT);we("hmmss",dT);we("Hmm",uT);we("Hmmss",dT);ut(["H","HH"],Gt);ut(["k","kk"],function(e,t,r){var n=Ge(e);t[Gt]=n===24?0:n});ut(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});ut(["h","hh"],function(e,t,r){t[Gt]=Ge(e),Le(r).bigHour=!0});ut("hmm",function(e,t,r){var n=e.length-2;t[Gt]=Ge(e.substr(0,n)),t[Bn]=Ge(e.substr(n)),Le(r).bigHour=!0});ut("hmmss",function(e,t,r){var n=e.length-4,i=e.length-2;t[Gt]=Ge(e.substr(0,n)),t[Bn]=Ge(e.substr(n,2)),t[Di]=Ge(e.substr(i)),Le(r).bigHour=!0});ut("Hmm",function(e,t,r){var n=e.length-2;t[Gt]=Ge(e.substr(0,n)),t[Bn]=Ge(e.substr(n))});ut("Hmmss",function(e,t,r){var n=e.length-4,i=e.length-2;t[Gt]=Ge(e.substr(0,n)),t[Bn]=Ge(e.substr(n,2)),t[Di]=Ge(e.substr(i))});function Z8(e){return(e+"").toLowerCase().charAt(0)==="p"}var Q8=/[ap]\.?m?\.?/i,e7=Xl("Hours",!0);function t7(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var jT={calendar:VF,longDateFormat:YF,invalidDate:KF,ordinal:JF,dayOfMonthOrdinalParse:ZF,relativeTime:e8,months:g8,monthsShort:mT,week:E8,weekdays:D8,weekdaysMin:I8,weekdaysShort:bT,meridiemParse:Q8},St={},Sc={},Fu;function r7(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function OS(e){return e&&e.toLowerCase().replace("_","-")}function n7(e){for(var t=0,r,n,i,a;t<e.length;){for(a=OS(e[t]).split("-"),r=a.length,n=OS(e[t+1]),n=n?n.split("-"):null;r>0;){if(i=zp(a.slice(0,r).join("-")),i)return i;if(n&&n.length>=r&&r7(a,n)>=r-1)break;r--}t++}return Fu}function i7(e){return!!(e&&e.match("^[^/\\\\]*$"))}function zp(e){var t=null,r;if(St[e]===void 0&&typeof module<"u"&&module&&module.exports&&i7(e))try{t=Fu._abbr,r=require,r("./locale/"+e),Va(t)}catch{St[e]=null}return St[e]}function Va(e,t){var r;return e&&(Ir(t)?r=sa(e):r=Xw(e,t),r?Fu=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Fu._abbr}function Xw(e,t){if(t!==null){var r,n=jT;if(t.abbr=e,St[e]!=null)sT("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=St[e]._config;else if(t.parentLocale!=null)if(St[t.parentLocale]!=null)n=St[t.parentLocale]._config;else if(r=zp(t.parentLocale),r!=null)n=r._config;else return Sc[t.parentLocale]||(Sc[t.parentLocale]=[]),Sc[t.parentLocale].push({name:e,config:t}),null;return St[e]=new Fw(Tv(n,t)),Sc[e]&&Sc[e].forEach(function(i){Xw(i.name,i.config)}),Va(e),St[e]}else return delete St[e],null}function a7(e,t){if(t!=null){var r,n,i=jT;St[e]!=null&&St[e].parentLocale!=null?St[e].set(Tv(St[e]._config,t)):(n=zp(e),n!=null&&(i=n._config),t=Tv(i,t),n==null&&(t.abbr=e),r=new Fw(t),r.parentLocale=St[e],St[e]=r),Va(e)}else St[e]!=null&&(St[e].parentLocale!=null?(St[e]=St[e].parentLocale,e===Va()&&Va(e)):St[e]!=null&&delete St[e]);return St[e]}function sa(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Fu;if(!Gn(e)){if(t=zp(e),t)return t;e=[e]}return n7(e)}function s7(){return Mv(St)}function Jw(e){var t,r=e._a;return r&&Le(e).overflow===-2&&(t=r[$i]<0||r[$i]>11?$i:r[ni]<1||r[ni]>Hw(r[_r],r[$i])?ni:r[Gt]<0||r[Gt]>24||r[Gt]===24&&(r[Bn]!==0||r[Di]!==0||r[Cs]!==0)?Gt:r[Bn]<0||r[Bn]>59?Bn:r[Di]<0||r[Di]>59?Di:r[Cs]<0||r[Cs]>999?Cs:-1,Le(e)._overflowDayOfYear&&(t<_r||t>ni)&&(t=ni),Le(e)._overflowWeeks&&t===-1&&(t=u8),Le(e)._overflowWeekday&&t===-1&&(t=d8),Le(e).overflow=t),e}var o7=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,l7=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,c7=/Z|[+-]\d\d(?::?\d\d)?/,Cf=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],A0=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],u7=/^\/?Date\((-?\d+)/i,d7=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,f7={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ST(e){var t,r,n=e._i,i=o7.exec(n)||l7.exec(n),a,s,l,c,u=Cf.length,d=A0.length;if(i){for(Le(e).iso=!0,t=0,r=u;t<r;t++)if(Cf[t][1].exec(i[1])){s=Cf[t][0],a=Cf[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(i[3]){for(t=0,r=d;t<r;t++)if(A0[t][1].exec(i[3])){l=(i[2]||" ")+A0[t][0];break}if(l==null){e._isValid=!1;return}}if(!a&&l!=null){e._isValid=!1;return}if(i[4])if(c7.exec(i[4]))c="Z";else{e._isValid=!1;return}e._f=s+(l||"")+(c||""),Qw(e)}else e._isValid=!1}function h7(e,t,r,n,i,a){var s=[m7(e),mT.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return a&&s.push(parseInt(a,10)),s}function m7(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function p7(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function g7(e,t,r){if(e){var n=bT.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(n!==i)return Le(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function y7(e,t,r){if(e)return f7[e];if(t)return 0;var n=parseInt(r,10),i=n%100,a=(n-i)/100;return a*60+i}function NT(e){var t=d7.exec(p7(e._i)),r;if(t){if(r=h7(t[4],t[3],t[2],t[5],t[6],t[7]),!g7(t[1],r,e))return;e._a=r,e._tzm=y7(t[8],t[9],t[10]),e._d=Lu.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Le(e).rfc2822=!0}else e._isValid=!1}function v7(e){var t=u7.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(ST(e),e._isValid===!1)delete e._isValid;else return;if(NT(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:ge.createFromInputFallback(e)}ge.createFromInputFallback=En("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function xo(e,t,r){return e??t??r}function x7(e){var t=new Date(ge.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Zw(e){var t,r,n=[],i,a,s;if(!e._d){for(i=x7(e),e._w&&e._a[ni]==null&&e._a[$i]==null&&b7(e),e._dayOfYear!=null&&(s=xo(e._a[_r],i[_r]),(e._dayOfYear>nu(s)||e._dayOfYear===0)&&(Le(e)._overflowDayOfYear=!0),r=Lu(s,0,e._dayOfYear),e._a[$i]=r.getUTCMonth(),e._a[ni]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=i[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Gt]===24&&e._a[Bn]===0&&e._a[Di]===0&&e._a[Cs]===0&&(e._nextDay=!0,e._a[Gt]=0),e._d=(e._useUTC?Lu:k8).apply(null,n),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Gt]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==a&&(Le(e).weekdayMismatch=!0)}}function b7(e){var t,r,n,i,a,s,l,c,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(a=1,s=4,r=xo(t.GG,e._a[_r],zu(_t(),1,4).year),n=xo(t.W,1),i=xo(t.E,1),(i<1||i>7)&&(c=!0)):(a=e._locale._week.dow,s=e._locale._week.doy,u=zu(_t(),a,s),r=xo(t.gg,e._a[_r],u.year),n=xo(t.w,u.week),t.d!=null?(i=t.d,(i<0||i>6)&&(c=!0)):t.e!=null?(i=t.e+a,(t.e<0||t.e>6)&&(c=!0)):i=a),n<1||n>Vi(r,a,s)?Le(e)._overflowWeeks=!0:c!=null?Le(e)._overflowWeekday=!0:(l=xT(r,n,i,a,s),e._a[_r]=l.year,e._dayOfYear=l.dayOfYear)}ge.ISO_8601=function(){};ge.RFC_2822=function(){};function Qw(e){if(e._f===ge.ISO_8601){ST(e);return}if(e._f===ge.RFC_2822){NT(e);return}e._a=[],Le(e).empty=!0;var t=""+e._i,r,n,i,a,s,l=t.length,c=0,u,d;for(i=oT(e._f,e._locale).match(Uw)||[],d=i.length,r=0;r<d;r++)a=i[r],n=(t.match(o8(a,e))||[])[0],n&&(s=t.substr(0,t.indexOf(n)),s.length>0&&Le(e).unusedInput.push(s),t=t.slice(t.indexOf(n)+n.length),c+=n.length),Jo[a]?(n?Le(e).empty=!1:Le(e).unusedTokens.push(a),c8(a,n,e)):e._strict&&!n&&Le(e).unusedTokens.push(a);Le(e).charsLeftOver=l-c,t.length>0&&Le(e).unusedInput.push(t),e._a[Gt]<=12&&Le(e).bigHour===!0&&e._a[Gt]>0&&(Le(e).bigHour=void 0),Le(e).parsedDateParts=e._a.slice(0),Le(e).meridiem=e._meridiem,e._a[Gt]=w7(e._locale,e._a[Gt],e._meridiem),u=Le(e).era,u!==null&&(e._a[_r]=e._locale.erasConvertYear(u,e._a[_r])),Zw(e),Jw(e)}function w7(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function _7(e){var t,r,n,i,a,s,l=!1,c=e._f.length;if(c===0){Le(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<c;i++)a=0,s=!1,t=zw({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],Qw(t),Lw(t)&&(s=!0),a+=Le(t).charsLeftOver,a+=Le(t).unusedTokens.length*10,Le(t).score=a,l?a<n&&(n=a,r=t):(n==null||a<n||s)&&(n=a,r=t,s&&(l=!0));Aa(e,r||t)}function j7(e){if(!e._d){var t=Bw(e._i),r=t.day===void 0?t.date:t.day;e._a=iT([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),Zw(e)}}function S7(e){var t=new Fd(Jw(kT(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function kT(e){var t=e._i,r=e._f;return e._locale=e._locale||sa(e._l),t===null||r===void 0&&t===""?Tp({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Kn(t)?new Fd(Jw(t)):(zd(t)?e._d=t:Gn(r)?_7(e):r?Qw(e):N7(e),Lw(e)||(e._d=null),e))}function N7(e){var t=e._i;Ir(t)?e._d=new Date(ge.now()):zd(t)?e._d=new Date(t.valueOf()):typeof t=="string"?v7(e):Gn(t)?(e._a=iT(t.slice(0),function(r){return parseInt(r,10)}),Zw(e)):Rs(t)?j7(e):Ji(t)?e._d=new Date(t):ge.createFromInputFallback(e)}function CT(e,t,r,n,i){var a={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(Rs(e)&&Rw(e)||Gn(e)&&e.length===0)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=r,a._i=e,a._f=t,a._strict=n,S7(a)}function _t(e,t,r,n){return CT(e,t,r,n,!1)}var k7=En("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=_t.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Tp()}),C7=En("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=_t.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Tp()});function ET(e,t){var r,n;if(t.length===1&&Gn(t[0])&&(t=t[0]),!t.length)return _t();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function E7(){var e=[].slice.call(arguments,0);return ET("isBefore",e)}function P7(){var e=[].slice.call(arguments,0);return ET("isAfter",e)}var O7=function(){return Date.now?Date.now():+new Date},Nc=["year","quarter","month","week","day","hour","minute","second","millisecond"];function A7(e){var t,r=!1,n,i=Nc.length;for(t in e)if(Ze(e,t)&&!(Rt.call(Nc,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<i;++n)if(e[Nc[n]]){if(r)return!1;parseFloat(e[Nc[n]])!==Ge(e[Nc[n]])&&(r=!0)}return!0}function T7(){return this._isValid}function M7(){return Xn(NaN)}function Fp(e){var t=Bw(e),r=t.year||0,n=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,s=t.day||0,l=t.hour||0,c=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=A7(t),this._milliseconds=+d+u*1e3+c*6e4+l*1e3*60*60,this._days=+s+a*7,this._months=+i+n*3+r*12,this._data={},this._locale=sa(),this._bubble()}function lh(e){return e instanceof Fp}function Dv(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function $7(e,t,r){var n=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0,s;for(s=0;s<n;s++)Ge(e[s])!==Ge(t[s])&&a++;return a+i}function PT(e,t){ke(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+hi(~~(r/60),2)+t+hi(~~r%60,2)})}PT("Z",":");PT("ZZ","");we("Z",Rp);we("ZZ",Rp);ut(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=e_(Rp,e)});var D7=/([\+\-]|\d\d)/gi;function e_(e,t){var r=(t||"").match(e),n,i,a;return r===null?null:(n=r[r.length-1]||[],i=(n+"").match(D7)||["-",0,0],a=+(i[1]*60)+Ge(i[2]),a===0?0:i[0]==="+"?a:-a)}function t_(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(Kn(e)||zd(e)?e.valueOf():_t(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),ge.updateOffset(r,!1),r):_t(e).local()}function Iv(e){return-Math.round(e._d.getTimezoneOffset())}ge.updateOffset=function(){};function I7(e,t,r){var n=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=e_(Rp,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(i=Iv(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),n!==e&&(!t||this._changeInProgress?TT(this,Xn(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ge.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:Iv(this)}function R7(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function L7(e){return this.utcOffset(0,e)}function z7(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Iv(this),"m")),this}function F7(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=e_(a8,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function U7(e){return this.isValid()?(e=e?_t(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function B7(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function V7(){if(!Ir(this._isDSTShifted))return this._isDSTShifted;var e={},t;return zw(e,this),e=kT(e),e._a?(t=e._isUTC?yi(e._a):_t(e._a),this._isDSTShifted=this.isValid()&&$7(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function q7(){return this.isValid()?!this._isUTC:!1}function W7(){return this.isValid()?this._isUTC:!1}function OT(){return this.isValid()?this._isUTC&&this._offset===0:!1}var H7=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Y7=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Xn(e,t){var r=e,n=null,i,a,s;return lh(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:Ji(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=H7.exec(e))?(i=n[1]==="-"?-1:1,r={y:0,d:Ge(n[ni])*i,h:Ge(n[Gt])*i,m:Ge(n[Bn])*i,s:Ge(n[Di])*i,ms:Ge(Dv(n[Cs]*1e3))*i}):(n=Y7.exec(e))?(i=n[1]==="-"?-1:1,r={y:ls(n[2],i),M:ls(n[3],i),w:ls(n[4],i),d:ls(n[5],i),h:ls(n[6],i),m:ls(n[7],i),s:ls(n[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(s=G7(_t(r.from),_t(r.to)),r={},r.ms=s.milliseconds,r.M=s.months),a=new Fp(r),lh(e)&&Ze(e,"_locale")&&(a._locale=e._locale),lh(e)&&Ze(e,"_isValid")&&(a._isValid=e._isValid),a}Xn.fn=Fp.prototype;Xn.invalid=M7;function ls(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function AS(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function G7(e,t){var r;return e.isValid()&&t.isValid()?(t=t_(t,e),e.isBefore(t)?r=AS(e,t):(r=AS(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function AT(e,t){return function(r,n){var i,a;return n!==null&&!isNaN(+n)&&(sT(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=r,r=n,n=a),i=Xn(r,n),TT(this,i,e),this}}function TT(e,t,r,n){var i=t._milliseconds,a=Dv(t._days),s=Dv(t._months);e.isValid()&&(n=n??!0,s&&gT(e,Ru(e,"Month")+s*r),a&&hT(e,"Date",Ru(e,"Date")+a*r),i&&e._d.setTime(e._d.valueOf()+i*r),n&&ge.updateOffset(e,a||s))}var K7=AT(1,"add"),X7=AT(-1,"subtract");function MT(e){return typeof e=="string"||e instanceof String}function J7(e){return Kn(e)||zd(e)||MT(e)||Ji(e)||Q7(e)||Z7(e)||e===null||e===void 0}function Z7(e){var t=Rs(e)&&!Rw(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,a,s=n.length;for(i=0;i<s;i+=1)a=n[i],r=r||Ze(e,a);return t&&r}function Q7(e){var t=Gn(e),r=!1;return t&&(r=e.filter(function(n){return!Ji(n)&&MT(e)}).length===0),t&&r}function eU(e){var t=Rs(e)&&!Rw(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,a;for(i=0;i<n.length;i+=1)a=n[i],r=r||Ze(e,a);return t&&r}function tU(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function rU(e,t){arguments.length===1&&(arguments[0]?J7(arguments[0])?(e=arguments[0],t=void 0):eU(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||_t(),n=t_(r,this).startOf("day"),i=ge.calendarFormat(this,n)||"sameElse",a=t&&(vi(t[i])?t[i].call(this,r):t[i]);return this.format(a||this.localeData().calendar(i,this,_t(r)))}function nU(){return new Fd(this)}function iU(e,t){var r=Kn(e)?e:_t(e);return this.isValid()&&r.isValid()?(t=Pn(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function aU(e,t){var r=Kn(e)?e:_t(e);return this.isValid()&&r.isValid()?(t=Pn(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function sU(e,t,r,n){var i=Kn(e)?e:_t(e),a=Kn(t)?t:_t(t);return this.isValid()&&i.isValid()&&a.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(n[1]===")"?this.isBefore(a,r):!this.isAfter(a,r))):!1}function oU(e,t){var r=Kn(e)?e:_t(e),n;return this.isValid()&&r.isValid()?(t=Pn(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function lU(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function cU(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function uU(e,t,r){var n,i,a;if(!this.isValid())return NaN;if(n=t_(e,this),!n.isValid())return NaN;switch(i=(n.utcOffset()-this.utcOffset())*6e4,t=Pn(t),t){case"year":a=ch(this,n)/12;break;case"month":a=ch(this,n);break;case"quarter":a=ch(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-i)/864e5;break;case"week":a=(this-n-i)/6048e5;break;default:a=this-n}return r?a:yn(a)}function ch(e,t){if(e.date()<t.date())return-ch(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),i,a;return t-n<0?(i=e.clone().add(r-1,"months"),a=(t-n)/(n-i)):(i=e.clone().add(r+1,"months"),a=(t-n)/(i-n)),-(r+a)||0}ge.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ge.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function dU(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function fU(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?oh(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):vi(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",oh(r,"Z")):oh(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function hU(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,i,a;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",a=t+'[")]',this.format(r+n+i+a)}function mU(e){e||(e=this.isUtc()?ge.defaultFormatUtc:ge.defaultFormat);var t=oh(this,e);return this.localeData().postformat(t)}function pU(e,t){return this.isValid()&&(Kn(e)&&e.isValid()||_t(e).isValid())?Xn({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function gU(e){return this.from(_t(),e)}function yU(e,t){return this.isValid()&&(Kn(e)&&e.isValid()||_t(e).isValid())?Xn({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function vU(e){return this.to(_t(),e)}function $T(e){var t;return e===void 0?this._locale._abbr:(t=sa(e),t!=null&&(this._locale=t),this)}var DT=En("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function IT(){return this._locale}var Kh=1e3,Zo=60*Kh,Xh=60*Zo,RT=(365*400+97)*24*Xh;function Qo(e,t){return(e%t+t)%t}function LT(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-RT:new Date(e,t,r).valueOf()}function zT(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-RT:Date.UTC(e,t,r)}function xU(e){var t,r;if(e=Pn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?zT:LT,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Qo(t+(this._isUTC?0:this.utcOffset()*Zo),Xh);break;case"minute":t=this._d.valueOf(),t-=Qo(t,Zo);break;case"second":t=this._d.valueOf(),t-=Qo(t,Kh);break}return this._d.setTime(t),ge.updateOffset(this,!0),this}function bU(e){var t,r;if(e=Pn(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?zT:LT,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Xh-Qo(t+(this._isUTC?0:this.utcOffset()*Zo),Xh)-1;break;case"minute":t=this._d.valueOf(),t+=Zo-Qo(t,Zo)-1;break;case"second":t=this._d.valueOf(),t+=Kh-Qo(t,Kh)-1;break}return this._d.setTime(t),ge.updateOffset(this,!0),this}function wU(){return this._d.valueOf()-(this._offset||0)*6e4}function _U(){return Math.floor(this.valueOf()/1e3)}function jU(){return new Date(this.valueOf())}function SU(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function NU(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function kU(){return this.isValid()?this.toISOString():null}function CU(){return Lw(this)}function EU(){return Aa({},Le(this))}function PU(){return Le(this).overflow}function OU(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ke("N",0,0,"eraAbbr");ke("NN",0,0,"eraAbbr");ke("NNN",0,0,"eraAbbr");ke("NNNN",0,0,"eraName");ke("NNNNN",0,0,"eraNarrow");ke("y",["y",1],"yo","eraYear");ke("y",["yy",2],0,"eraYear");ke("y",["yyy",3],0,"eraYear");ke("y",["yyyy",4],0,"eraYear");we("N",r_);we("NN",r_);we("NNN",r_);we("NNNN",UU);we("NNNNN",BU);ut(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var i=r._locale.erasParse(e,n,r._strict);i?Le(r).era=i:Le(r).invalidEra=e});we("y",Gl);we("yy",Gl);we("yyy",Gl);we("yyyy",Gl);we("yo",VU);ut(["y","yy","yyy","yyyy"],_r);ut(["yo"],function(e,t,r,n){var i;r._locale._eraYearOrdinalRegex&&(i=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[_r]=r._locale.eraYearOrdinalParse(e,i):t[_r]=parseInt(e,10)});function AU(e,t){var r,n,i,a=this._eras||sa("en")._eras;for(r=0,n=a.length;r<n;++r){switch(typeof a[r].since){case"string":i=ge(a[r].since).startOf("day"),a[r].since=i.valueOf();break}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":i=ge(a[r].until).startOf("day").valueOf(),a[r].until=i.valueOf();break}}return a}function TU(e,t,r){var n,i,a=this.eras(),s,l,c;for(e=e.toUpperCase(),n=0,i=a.length;n<i;++n)if(s=a[n].name.toUpperCase(),l=a[n].abbr.toUpperCase(),c=a[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(l===e)return a[n];break;case"NNNN":if(s===e)return a[n];break;case"NNNNN":if(c===e)return a[n];break}else if([s,l,c].indexOf(e)>=0)return a[n]}function MU(e,t){var r=e.since<=e.until?1:-1;return t===void 0?ge(e.since).year():ge(e.since).year()+(t-e.offset)*r}function $U(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function DU(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function IU(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function RU(){var e,t,r,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(r=i[e].since<=i[e].until?1:-1,n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return(this.year()-ge(i[e].since).year())*r+i[e].offset;return this.year()}function LU(e){return Ze(this,"_erasNameRegex")||n_.call(this),e?this._erasNameRegex:this._erasRegex}function zU(e){return Ze(this,"_erasAbbrRegex")||n_.call(this),e?this._erasAbbrRegex:this._erasRegex}function FU(e){return Ze(this,"_erasNarrowRegex")||n_.call(this),e?this._erasNarrowRegex:this._erasRegex}function r_(e,t){return t.erasAbbrRegex(e)}function UU(e,t){return t.erasNameRegex(e)}function BU(e,t){return t.erasNarrowRegex(e)}function VU(e,t){return t._eraYearOrdinalRegex||Gl}function n_(){var e=[],t=[],r=[],n=[],i,a,s,l,c,u=this.eras();for(i=0,a=u.length;i<a;++i)s=Bi(u[i].name),l=Bi(u[i].abbr),c=Bi(u[i].narrow),t.push(s),e.push(l),r.push(c),n.push(s),n.push(l),n.push(c);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}ke(0,["gg",2],0,function(){return this.weekYear()%100});ke(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Up(e,t){ke(0,[e,e.length],0,t)}Up("gggg","weekYear");Up("ggggg","weekYear");Up("GGGG","isoWeekYear");Up("GGGGG","isoWeekYear");we("G",Ip);we("g",Ip);we("GG",jt,on);we("gg",jt,on);we("GGGG",qw,Vw);we("gggg",qw,Vw);we("GGGGG",Dp,Mp);we("ggggg",Dp,Mp);Bd(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=Ge(e)});Bd(["gg","GG"],function(e,t,r,n){t[n]=ge.parseTwoDigitYear(e)});function qU(e){return FT.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function WU(e){return FT.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function HU(){return Vi(this.year(),1,4)}function YU(){return Vi(this.isoWeekYear(),1,4)}function GU(){var e=this.localeData()._week;return Vi(this.year(),e.dow,e.doy)}function KU(){var e=this.localeData()._week;return Vi(this.weekYear(),e.dow,e.doy)}function FT(e,t,r,n,i){var a;return e==null?zu(this,n,i).year:(a=Vi(e,n,i),t>a&&(t=a),XU.call(this,e,t,r,n,i))}function XU(e,t,r,n,i){var a=xT(e,t,r,n,i),s=Lu(a.year,0,a.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}ke("Q",0,"Qo","quarter");we("Q",lT);ut("Q",function(e,t){t[$i]=(Ge(e)-1)*3});function JU(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}ke("D",["DD",2],"Do","date");we("D",jt,Kl);we("DD",jt,on);we("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});ut(["D","DD"],ni);ut("Do",function(e,t){t[ni]=Ge(e.match(jt)[0])});var UT=Xl("Date",!0);ke("DDD",["DDDD",3],"DDDo","dayOfYear");we("DDD",$p);we("DDDD",cT);ut(["DDD","DDDD"],function(e,t,r){r._dayOfYear=Ge(e)});function ZU(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}ke("m",["mm",2],0,"minute");we("m",jt,Ww);we("mm",jt,on);ut(["m","mm"],Bn);var QU=Xl("Minutes",!1);ke("s",["ss",2],0,"second");we("s",jt,Ww);we("ss",jt,on);ut(["s","ss"],Di);var eB=Xl("Seconds",!1);ke("S",0,0,function(){return~~(this.millisecond()/100)});ke(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ke(0,["SSS",3],0,"millisecond");ke(0,["SSSS",4],0,function(){return this.millisecond()*10});ke(0,["SSSSS",5],0,function(){return this.millisecond()*100});ke(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ke(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ke(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ke(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});we("S",$p,lT);we("SS",$p,on);we("SSS",$p,cT);var Ta,BT;for(Ta="SSSS";Ta.length<=9;Ta+="S")we(Ta,Gl);function tB(e,t){t[Cs]=Ge(("0."+e)*1e3)}for(Ta="S";Ta.length<=9;Ta+="S")ut(Ta,tB);BT=Xl("Milliseconds",!1);ke("z",0,0,"zoneAbbr");ke("zz",0,0,"zoneName");function rB(){return this._isUTC?"UTC":""}function nB(){return this._isUTC?"Coordinated Universal Time":""}var he=Fd.prototype;he.add=K7;he.calendar=rU;he.clone=nU;he.diff=uU;he.endOf=bU;he.format=mU;he.from=pU;he.fromNow=gU;he.to=yU;he.toNow=vU;he.get=h8;he.invalidAt=PU;he.isAfter=iU;he.isBefore=aU;he.isBetween=sU;he.isSame=oU;he.isSameOrAfter=lU;he.isSameOrBefore=cU;he.isValid=CU;he.lang=DT;he.locale=$T;he.localeData=IT;he.max=C7;he.min=k7;he.parsingFlags=EU;he.set=m8;he.startOf=xU;he.subtract=X7;he.toArray=SU;he.toObject=NU;he.toDate=jU;he.toISOString=fU;he.inspect=hU;typeof Symbol<"u"&&Symbol.for!=null&&(he[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});he.toJSON=kU;he.toString=dU;he.unix=_U;he.valueOf=wU;he.creationData=OU;he.eraName=$U;he.eraNarrow=DU;he.eraAbbr=IU;he.eraYear=RU;he.year=fT;he.isLeapYear=f8;he.weekYear=qU;he.isoWeekYear=WU;he.quarter=he.quarters=JU;he.month=yT;he.daysInMonth=j8;he.week=he.weeks=A8;he.isoWeek=he.isoWeeks=T8;he.weeksInYear=GU;he.weeksInWeekYear=KU;he.isoWeeksInYear=HU;he.isoWeeksInISOWeekYear=YU;he.date=UT;he.day=he.days=W8;he.weekday=H8;he.isoWeekday=Y8;he.dayOfYear=ZU;he.hour=he.hours=e7;he.minute=he.minutes=QU;he.second=he.seconds=eB;he.millisecond=he.milliseconds=BT;he.utcOffset=I7;he.utc=L7;he.local=z7;he.parseZone=F7;he.hasAlignedHourOffset=U7;he.isDST=B7;he.isLocal=q7;he.isUtcOffset=W7;he.isUtc=OT;he.isUTC=OT;he.zoneAbbr=rB;he.zoneName=nB;he.dates=En("dates accessor is deprecated. Use date instead.",UT);he.months=En("months accessor is deprecated. Use month instead",yT);he.years=En("years accessor is deprecated. Use year instead",fT);he.zone=En("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",R7);he.isDSTShifted=En("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",V7);function iB(e){return _t(e*1e3)}function aB(){return _t.apply(null,arguments).parseZone()}function VT(e){return e}var et=Fw.prototype;et.calendar=qF;et.longDateFormat=GF;et.invalidDate=XF;et.ordinal=QF;et.preparse=VT;et.postformat=VT;et.relativeTime=t8;et.pastFuture=r8;et.set=BF;et.eras=AU;et.erasParse=TU;et.erasConvertYear=MU;et.erasAbbrRegex=zU;et.erasNameRegex=LU;et.erasNarrowRegex=FU;et.months=x8;et.monthsShort=b8;et.monthsParse=_8;et.monthsRegex=N8;et.monthsShortRegex=S8;et.week=C8;et.firstDayOfYear=O8;et.firstDayOfWeek=P8;et.weekdays=F8;et.weekdaysMin=B8;et.weekdaysShort=U8;et.weekdaysParse=q8;et.weekdaysRegex=G8;et.weekdaysShortRegex=K8;et.weekdaysMinRegex=X8;et.isPM=Z8;et.meridiem=t7;function Jh(e,t,r,n){var i=sa(),a=yi().set(n,t);return i[r](a,e)}function qT(e,t,r){if(Ji(e)&&(t=e,e=void 0),e=e||"",t!=null)return Jh(e,t,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=Jh(e,n,r,"month");return i}function i_(e,t,r,n){typeof e=="boolean"?(Ji(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,Ji(t)&&(r=t,t=void 0),t=t||"");var i=sa(),a=e?i._week.dow:0,s,l=[];if(r!=null)return Jh(t,(r+a)%7,n,"day");for(s=0;s<7;s++)l[s]=Jh(t,(s+a)%7,n,"day");return l}function sB(e,t){return qT(e,t,"months")}function oB(e,t){return qT(e,t,"monthsShort")}function lB(e,t,r){return i_(e,t,r,"weekdays")}function cB(e,t,r){return i_(e,t,r,"weekdaysShort")}function uB(e,t,r){return i_(e,t,r,"weekdaysMin")}Va("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=Ge(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});ge.lang=En("moment.lang is deprecated. Use moment.locale instead.",Va);ge.langData=En("moment.langData is deprecated. Use moment.localeData instead.",sa);var Si=Math.abs;function dB(){var e=this._data;return this._milliseconds=Si(this._milliseconds),this._days=Si(this._days),this._months=Si(this._months),e.milliseconds=Si(e.milliseconds),e.seconds=Si(e.seconds),e.minutes=Si(e.minutes),e.hours=Si(e.hours),e.months=Si(e.months),e.years=Si(e.years),this}function WT(e,t,r,n){var i=Xn(t,r);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function fB(e,t){return WT(this,e,t,1)}function hB(e,t){return WT(this,e,t,-1)}function TS(e){return e<0?Math.floor(e):Math.ceil(e)}function mB(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,i,a,s,l,c;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=TS(Rv(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,i=yn(e/1e3),n.seconds=i%60,a=yn(i/60),n.minutes=a%60,s=yn(a/60),n.hours=s%24,t+=yn(s/24),c=yn(HT(t)),r+=c,t-=TS(Rv(c)),l=yn(r/12),r%=12,n.days=t,n.months=r,n.years=l,this}function HT(e){return e*4800/146097}function Rv(e){return e*146097/4800}function pB(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=Pn(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+HT(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(Rv(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function oa(e){return function(){return this.as(e)}}var YT=oa("ms"),gB=oa("s"),yB=oa("m"),vB=oa("h"),xB=oa("d"),bB=oa("w"),wB=oa("M"),_B=oa("Q"),jB=oa("y"),SB=YT;function NB(){return Xn(this)}function kB(e){return e=Pn(e),this.isValid()?this[e+"s"]():NaN}function ro(e){return function(){return this.isValid()?this._data[e]:NaN}}var CB=ro("milliseconds"),EB=ro("seconds"),PB=ro("minutes"),OB=ro("hours"),AB=ro("days"),TB=ro("months"),MB=ro("years");function $B(){return yn(this.days()/7)}var Pi=Math.round,To={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function DB(e,t,r,n,i){return i.relativeTime(t||1,!!r,e,n)}function IB(e,t,r,n){var i=Xn(e).abs(),a=Pi(i.as("s")),s=Pi(i.as("m")),l=Pi(i.as("h")),c=Pi(i.as("d")),u=Pi(i.as("M")),d=Pi(i.as("w")),f=Pi(i.as("y")),h=a<=r.ss&&["s",a]||a<r.s&&["ss",a]||s<=1&&["m"]||s<r.m&&["mm",s]||l<=1&&["h"]||l<r.h&&["hh",l]||c<=1&&["d"]||c<r.d&&["dd",c];return r.w!=null&&(h=h||d<=1&&["w"]||d<r.w&&["ww",d]),h=h||u<=1&&["M"]||u<r.M&&["MM",u]||f<=1&&["y"]||["yy",f],h[2]=t,h[3]=+e>0,h[4]=n,DB.apply(null,h)}function RB(e){return e===void 0?Pi:typeof e=="function"?(Pi=e,!0):!1}function LB(e,t){return To[e]===void 0?!1:t===void 0?To[e]:(To[e]=t,e==="s"&&(To.ss=t-1),!0)}function zB(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=To,i,a;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},To,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),i=this.localeData(),a=IB(this,!r,n,i),r&&(a=i.pastFuture(+this,a)),i.postformat(a)}var T0=Math.abs;function mo(e){return(e>0)-(e<0)||+e}function Bp(){if(!this.isValid())return this.localeData().invalidDate();var e=T0(this._milliseconds)/1e3,t=T0(this._days),r=T0(this._months),n,i,a,s,l=this.asSeconds(),c,u,d,f;return l?(n=yn(e/60),i=yn(n/60),e%=60,n%=60,a=yn(r/12),r%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=l<0?"-":"",u=mo(this._months)!==mo(l)?"-":"",d=mo(this._days)!==mo(l)?"-":"",f=mo(this._milliseconds)!==mo(l)?"-":"",c+"P"+(a?u+a+"Y":"")+(r?u+r+"M":"")+(t?d+t+"D":"")+(i||n||e?"T":"")+(i?f+i+"H":"")+(n?f+n+"M":"")+(e?f+s+"S":"")):"P0D"}var Ke=Fp.prototype;Ke.isValid=T7;Ke.abs=dB;Ke.add=fB;Ke.subtract=hB;Ke.as=pB;Ke.asMilliseconds=YT;Ke.asSeconds=gB;Ke.asMinutes=yB;Ke.asHours=vB;Ke.asDays=xB;Ke.asWeeks=bB;Ke.asMonths=wB;Ke.asQuarters=_B;Ke.asYears=jB;Ke.valueOf=SB;Ke._bubble=mB;Ke.clone=NB;Ke.get=kB;Ke.milliseconds=CB;Ke.seconds=EB;Ke.minutes=PB;Ke.hours=OB;Ke.days=AB;Ke.weeks=$B;Ke.months=TB;Ke.years=MB;Ke.humanize=zB;Ke.toISOString=Bp;Ke.toString=Bp;Ke.toJSON=Bp;Ke.locale=$T;Ke.localeData=IT;Ke.toIsoString=En("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Bp);Ke.lang=DT;ke("X",0,0,"unix");ke("x",0,0,"valueOf");we("x",Ip);we("X",s8);ut("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});ut("x",function(e,t,r){r._d=new Date(Ge(e))});//! moment.js
ge.version="2.30.1";FF(_t);ge.fn=he;ge.min=E7;ge.max=P7;ge.now=O7;ge.utc=yi;ge.unix=iB;ge.months=sB;ge.isDate=zd;ge.locale=Va;ge.invalid=Tp;ge.duration=Xn;ge.isMoment=Kn;ge.weekdays=lB;ge.parseZone=aB;ge.localeData=sa;ge.isDuration=lh;ge.monthsShort=oB;ge.weekdaysMin=uB;ge.defineLocale=Xw;ge.updateLocale=a7;ge.locales=s7;ge.weekdaysShort=cB;ge.normalizeUnits=Pn;ge.relativeTimeRounding=RB;ge.relativeTimeThreshold=LB;ge.calendarFormat=tU;ge.prototype=he;ge.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const M0={Grooming:180,"Revision-Consulta":60,chequeo:45,vacunacion:30,emergencia:90,cirugia:240},MS="17:00",FB=({isOpen:e,cita:t,onClose:r,clientes:n,mascotas:i,veterinarios:a})=>{if(!e||!t)return null;const s=t.id_cliente?n.find(u=>u.id_cliente===t.id_cliente):null,l=t.id_mascota?i.find(u=>u.id_mascota===t.id_mascota):null,c=t.id_veterinario?a.find(u=>u.id_veterinario===t.id_veterinario):null;return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 animate-fade-in",children:o.jsxs("div",{className:"bg-gray-800 p-8 rounded-lg shadow-xl max-w-lg w-full border border-blue-700 relative",children:[o.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-400 hover:text-white",title:"Cerrar Detalles",children:o.jsx(Ve,{size:24})}),o.jsxs("h3",{className:"text-2xl font-bold text-blue-400 mb-6 text-center flex items-center justify-center gap-2",children:[o.jsx(Oa,{size:24})," Detalles de Cita Interna"]}),o.jsxs("div",{className:"space-y-3 text-gray-200",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Fecha y Hora:"})," ",ge(t.fecha).format("DD/MM/YYYY HH:mm [hrs]")]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Motivo:"})," ",t.motivo]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Tipo:"})," ",t.tipo]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Estado:"})," ",o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold
            ${t.estado.toLowerCase()==="pendiente"?"bg-yellow-600 text-yellow-50":""}
            ${t.estado.toLowerCase()==="programada"?"bg-blue-600 text-blue-100":""}
            ${t.estado.toLowerCase()==="confirmada"?"bg-indigo-600 text-indigo-100":""}
            ${t.estado.toLowerCase()==="realizada"?"bg-green-600 text-green-100":""}
            ${t.estado.toLowerCase()==="cancelada"||t.estado.toLowerCase()==="rechazada"?"bg-red-600 text-red-100":""}
            `,children:t.estado})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Cliente:"})," ",(s==null?void 0:s.nombre)||t.nombre_cliente_invitado||"N/A"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Mascota:"})," ",(l==null?void 0:l.nombre)||t.nombre_mascota_invitada||"N/A"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Veterinario Asignado:"})," ",c?c.nombre:"No asignado"]})]}),o.jsx("div",{className:"mt-8 flex justify-center",children:o.jsx("button",{onClick:r,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition shadow-md",children:"Cerrar"})})]})})},$0=()=>{const[e,t]=S.useState([]),[r,n]=S.useState([]),[i,a]=S.useState([]),[s,l]=S.useState([]),[c,u]=S.useState([]),[d,f]=S.useState(!1),[h,m]=S.useState(null),[x,g]=S.useState(0),[v,p]=S.useState(0),[y,b]=S.useState(0),[_,w]=S.useState(null),[j,N]=S.useState(null),k=dr(),[E,M]=S.useState(null),[C,O]=S.useState({motivo:"",fecha:"",estado:"programada",tipo:"",id_cliente:null,id_mascota:null,id_veterinario:null,nombre_cliente_invitado:"",nombre_mascota_invitada:""}),[L,$]=S.useState(null),[B,Y]=S.useState(!1),F=S.useCallback(async()=>{w(null),N(null);try{const{data:A,error:P}=await T.from("citas").select("*").order("fecha",{ascending:!0});if(P)throw P;t(A);const{data:q,error:oe}=await T.from("citas_publicas").select("*").order("fecha",{ascending:!0});if(oe)throw oe;n(q);const{data:re,error:le}=await T.from("clientes").select("id_cliente, nombre");if(le)throw le;a(re);const{data:ae,error:Se}=await T.from("mascotas").select("id_mascota, nombre, id_cliente");if(Se)throw Se;l(ae);const{data:Pe,error:$e}=await T.from("veterinarios").select("id_veterinario, nombre, especialidad");if($e)throw $e;u(Pe)}catch(A){console.error("Error al obtener datos:",A.message),w("Error al cargar la información: "+A.message)}},[]);S.useEffect(()=>{F();const A=T.channel("public:citas_channel").on("postgres_changes",{event:"*",schema:"public",table:"citas"},q=>{console.log("Realtime change for citas received:",q),F()}).subscribe((q,oe)=>{q==="SUBSCRIBED"&&console.log("Subscribed to citas changes."),q==="CHANNEL_ERROR"&&console.error("Realtime subscription error for citas:",oe)}),P=T.channel("public:citas_publicas_channel").on("postgres_changes",{event:"*",schema:"public",table:"citas_publicas"},q=>{console.log("Realtime change for citas_publicas received:",q),F()}).subscribe((q,oe)=>{q==="SUBSCRIBED"&&console.log("Subscribed to citas_publicas changes."),q==="CHANNEL_ERROR"&&console.error("Realtime subscription error for citas_publicas:",oe)});return()=>{console.log("Unsubscribed from both channels."),T.removeChannel(A),T.removeChannel(P)}},[F]);const R=S.useCallback(async(A,P)=>{const q=`${P} 00:00:00`,oe=`${P} 23:59:59`,{data:re,error:le}=await T.from("citas").select("id_cita, fecha, tipo, estado").eq("id_veterinario",A).gte("fecha",q).lte("fecha",oe).or("estado.eq.programada, estado.eq.confirmada");if(le)return console.error("Error al obtener citas del veterinario para disponibilidad:",le),[];const ae=[];return re.forEach(Se=>{const Pe=new Date(Se.fecha),$e=M0[Se.tipo];if($e){const ot=new Date(Pe);ot.setMinutes(Pe.getMinutes()+$e),ae.push({start:Pe,end:ot,citaId:Se.id_cita})}else console.warn(`Tipo de servicio desconocido: ${Se.tipo} para cita ID ${Se.id_cita}. No se calculó duración.`)}),ae},[]),D=S.useCallback(async(A,P,q,oe,re)=>{if(w(null),A===null||A===0)return w("Por favor, selecciona un veterinario válido para verificar la disponibilidad."),!1;const le=M0[oe];if(!le)return w(`Tipo de servicio desconocido: "${oe}". No se puede verificar la duración.`),!1;const ae=`${P}T${q}:00`,Se=new Date(ae),Pe=new Date(Se);Pe.setMinutes(Se.getMinutes()+le);const $e=new Date;if($e.setSeconds(0),$e.setMilliseconds(0),Se.getTime()<$e.getTime())return w("No se pueden programar citas en el pasado."),!1;const[ot,He]=MS.split(":").map(Number),Me=new Date(Se);if(Me.setHours(ot,He,0,0),Pe.getTime()>Me.getTime())return w(`La cita de "${oe}" excede el horario de cierre de la clínica (${MS}). Por favor, elige una hora anterior.`),!1;const Mr=(await R(A,P)).filter(tt=>tt.citaId!==re);for(const tt of Mr)if(Se.getTime()<tt.end.getTime()&&Pe.getTime()>tt.start.getTime()){const oo=ge(tt.start).format("HH:mm"),wi=ge(tt.end).format("HH:mm");return w(`Solapamiento: El veterinario seleccionado no está disponible de ${oo} a ${wi} debido a otra cita (ID: ${tt.citaId||"desconocido"}). Por favor, selecciona una hora o veterinario diferente.`),!1}return!0},[R]),X=A=>{const{name:P,value:q}=A.target;O(oe=>({...oe,[P]:["id_cliente","id_mascota","id_veterinario"].includes(P)?q===""||q==="0"?null:Number(q):q}))},ne=A=>{M(A),O({motivo:A.motivo,fecha:A.fecha.slice(0,16),estado:A.estado,tipo:A.tipo,id_cliente:A.id_cliente,id_mascota:A.id_mascota,id_veterinario:A.id_veterinario,nombre_cliente_invitado:A.nombre_cliente_invitado||"",nombre_mascota_invitada:A.nombre_mascota_invitada||""}),w(null),N(null)},Q=async A=>{if(window.confirm("¿Estás seguro de que quieres eliminar esta cita interna? Esta acción es irreversible.")){w(null),N(null);try{const{error:P}=await T.from("citas").delete().eq("id_cita",A);if(P)throw P;N("Cita eliminada correctamente."),F()}catch(P){w("Error al eliminar la cita: "+P.message),console.error("Error deleting internal appointment:",P)}}},K=async A=>{A.preventDefault(),w(null),N(null);const{motivo:P,fecha:q,tipo:oe,id_cliente:re,id_mascota:le,id_veterinario:ae,nombre_cliente_invitado:Se,nombre_mascota_invitada:Pe}=C;if(ae===null||ae===0||!q||!P||!oe){w("Por favor, completa los campos obligatorios: Veterinario, Fecha y Hora, Motivo, Tipo de Servicio.");return}if(re===null&&(!Se||!Pe)){w('Si no seleccionas un cliente registrado, los campos "Nombre de Cliente (Invitado)" y "Nombre de Mascota (Invitada)" son obligatorios.');return}if(re!==null&&(le===null||le===0)){w("Por favor, selecciona una mascota registrada para el cliente seleccionado.");return}const[$e,ot]=q.split("T");if((E==null?void 0:E.estado.toLowerCase())!=="pendiente"&&ae!==null&&!await D(ae,$e,ot,oe,E==null?void 0:E.id_cita))return;const Me={motivo:P,fecha:new Date(q).toISOString(),estado:E?E.estado:"programada",tipo:oe,id_veterinario:ae};re!==null?(Me.id_cliente=re,Me.id_mascota=le,Me.nombre_cliente_invitado=null,Me.nombre_mascota_invitada=null):(Me.id_cliente=null,Me.id_mascota=null,Me.nombre_cliente_invitado=Se,Me.nombre_mascota_invitada=Pe);try{if(E){const{error:zt}=await T.from("citas").update(Me).eq("id_cita",E.id_cita);if(zt)throw zt;N("Cita actualizada correctamente.")}else{const Mr={...Me,estado:ae!==null&&ae!==0?"programada":"pendiente"},{error:tt}=await T.from("citas").insert([Mr]);if(tt)throw tt;N("Cita agregada correctamente.")}O({motivo:"",fecha:"",estado:"programada",tipo:"",id_cliente:null,id_mascota:null,id_veterinario:null,nombre_cliente_invitado:"",nombre_mascota_invitada:""}),M(null),F()}catch(zt){w("Error al guardar la cita: "+zt.message),console.error("Error saving internal appointment:",zt)}},ce=async(A,P)=>{if(!(P==="realizada"&&!window.confirm('¿Estás seguro de que quieres marcar esta cita como "realizada"?'))&&!(P==="cancelada"&&!window.confirm('¿Estás seguro de que quieres marcar esta cita como "cancelada"?'))){w(null),N(null);try{const{error:q}=await T.from("citas").update({estado:P}).eq("id_cita",A);if(q)throw q;N(`Cita marcada como "${P}" correctamente.`),F()}catch(q){w(`Error al actualizar el estado de la cita a "${P}": `+q.message),console.error("Error updating appointment status:",q)}}},me=async A=>{if(w(null),N(null),!!window.confirm(`¿Estás seguro de que quieres REVERTIR el estado de esta cita (ID: ${A.id_cita})? Se restaurará a un estado activo.`))try{let q,oe=A.id_veterinario;A.id_veterinario!==null&&A.id_veterinario!==0?q="programada":(q="pendiente",oe=null);const{error:re}=await T.from("citas").update({estado:q,id_veterinario:oe}).eq("id_cita",A.id_cita);if(re)throw re;N(`Cita revertida a "${q}" correctamente.`),F()}catch(q){w("Error al revertir la cita: "+q.message),console.error("Error reverting internal appointment:",q)}},xe=async A=>{if(w(null),N(null),A.id_veterinario===null||A.id_veterinario===0){w("No se puede aprobar. Esta cita pendiente no tiene un veterinario asignado. Por favor, edítala primero y asigna un veterinario.");return}const[P,q]=A.fecha.split("T");if(!(!await D(A.id_veterinario,P,q,A.tipo,A.id_cita)||!window.confirm('¿Estás seguro de que quieres APROBAR esta cita y asignarla? Se cambiará a "programada".')))try{const{error:le}=await T.from("citas").update({estado:"programada"}).eq("id_cita",A.id_cita);if(le)throw le;N("Cita aprobada y programada correctamente."),F()}catch(le){w("Error al aprobar la cita: "+le.message),console.error("Error approving internal appointment:",le)}},ue=async A=>{if(window.confirm('¿Estás seguro de que quieres RECHAZAR esta cita? Esta acción la marcará como "rechazada".')){w(null),N(null);try{const{error:P}=await T.from("citas").update({estado:"rechazada"}).eq("id_cita",A);if(P)throw P;N("Cita rechazada correctamente."),F()}catch(P){w("Error al rechazar la cita: "+P.message),console.error("Error rejecting internal appointment:",P)}}},be=A=>{k(`../historial-clinico/${A}`)},U=A=>{m(A),g(0),p(0),b(0),w(null),N(null),f(!0)},se=()=>{f(!1),m(null),w(null),N(null)},W=async()=>{if(!h){w("No hay cita pública seleccionada para confirmar.");return}if(w(null),N(null),y===0){w("Por favor, selecciona un veterinario para confirmar la cita.");return}const[A,P]=h.fecha.split("T"),q=h.motivo;if(await D(y,A,P,q))try{let re=null,le=null,ae=null,Se=null;x!==0&&v!==0?(re=x,le=v):(ae=h.nombre,Se=h.nombre_mascota);const Pe={id_cliente:re,id_mascota:le,id_veterinario:y,fecha:new Date(h.fecha).toISOString(),motivo:h.motivo,estado:"programada",tipo:q,nombre_cliente_invitado:ae,nombre_mascota_invitada:Se},{data:$e,error:ot}=await T.from("citas").insert([Pe]).select("id_cita");if(ot)throw ot;const He=$e?$e[0].id_cita:null;if(!He)throw new Error("No se pudo obtener el ID de la cita confirmada.");const{error:Me}=await T.from("citas_publicas").update({estado:"confirmada",id_cita_final:He}).eq("id_cita",h.id_cita);if(Me)throw await T.from("citas").delete().eq("id_cita",He),new Error("Error al confirmar la cita. Se ha revertido la operación. "+Me.message);N("¡Cita confirmada y transferida exitosamente!"),se(),F()}catch(re){console.error("Error en el proceso de confirmación:",re),w(re.message||"Ocurrió un error inesperado al confirmar la cita.")}},I=async A=>{if(window.confirm("¿Estás seguro de que quieres cancelar esta solicitud de cita pública?")){w(null),N(null);try{const{error:P}=await T.from("citas_publicas").update({estado:"cancelada"}).eq("id_cita",A);if(P)throw P;N("Solicitud de cita cancelada correctamente."),F()}catch(P){w("Error al cancelar la solicitud: "+P.message),console.error("Error canceling public appointment request:",P)}}},G=A=>{U(A)},ee=A=>A?s.filter(P=>P.id_cliente===A):[],de=A=>{var P;return A===null||A===0?"No Asignado":((P=c.find(q=>q.id_veterinario===A))==null?void 0:P.nombre)||"N/A"},J=A=>{$(A),Y(!0)};return o.jsxs("div",{className:"p-6 bg-gray-950 text-white min-h-screen font-inter",children:[o.jsxs("h1",{className:`text-4xl font-extrabold text-blue-400 mb-8 text-center\r
        flex items-center justify-center gap-3`,children:[o.jsx(ZA,{size:36})," Panel de Gestión de Citas"]}),_&&o.jsxs("div",{className:`bg-red-800 text-red-100 p-4 rounded-lg text-center\r
          border border-red-600 mb-6 flex items-center justify-between shadow-md\r
          animate-fade-in`,children:[o.jsx(Yt,{size:24,className:"flex-shrink-0 mr-3"}),o.jsx("span",{className:"flex-grow",children:_}),o.jsx(Ve,{size:20,className:"cursor-pointer ml-3",onClick:()=>w(null)})]}),j&&o.jsxs("div",{className:`bg-green-800 text-green-100 p-4 rounded-lg text-center\r
          border border-green-600 mb-6 flex items-center justify-between\r
          shadow-md animate-fade-in`,children:[o.jsx(Nf,{size:24,className:"flex-shrink-0 mr-3"}),o.jsx("span",{className:"flex-grow",children:j}),o.jsx(Ve,{size:20,className:"cursor-pointer ml-3",onClick:()=>N(null)})]}),o.jsxs("div",{className:`bg-gray-900 p-6 rounded-xl shadow-lg border border-\r
        blue-800 mb-8`,children:[o.jsxs("h2",{className:`text-2xl font-bold text-blue-400 mb-5 flex items-\r
          center gap-2`,children:[o.jsx(Wt,{size:22})," ",E?"Editar Cita Programada":"Programar Nueva Cita (Directa)"]}),o.jsxs("form",{onSubmit:K,className:`grid grid-cols-1\r
          md:grid-cols-2 lg:grid-cols-3 gap-5 text-base`,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-gray-300",children:"Cliente Registrado (Opcional)"}),o.jsxs("select",{name:"id_cliente",value:C.id_cliente||0,onChange:X,className:`w-full p-2.5 bg-gray-700 border border-gray-600\r
                rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition`,children:[o.jsx("option",{value:0,children:"Selecciona Cliente"}),i.map(A=>o.jsx("option",{value:A.id_cliente,children:A.nombre},A.id_cliente))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-gray-300",children:"Mascota Registrada (Opcional)"}),o.jsxs("select",{name:"id_mascota",value:C.id_mascota||0,onChange:X,className:`w-full p-2.5 bg-gray-700 border border-gray-600\r
                rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition`,disabled:C.id_cliente===null||C.id_cliente===0,children:[o.jsx("option",{value:0,children:"Selecciona Mascota"}),ee(C.id_cliente).map(A=>o.jsx("option",{value:A.id_mascota,children:A.nombre},A.id_mascota))]})]}),(C.id_cliente===null||C.id_cliente===0)&&!E&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-gray-300",children:"Nombre de Cliente (Invitado)"}),o.jsx("input",{type:"text",name:"nombre_cliente_invitado",value:C.nombre_cliente_invitado||"",onChange:X,className:`w-full p-2.5 bg-gray-700 border border-gray-600\r
                      rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition`,placeholder:"Nombre completo del cliente",required:C.id_cliente===null||C.id_cliente===0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-gray-300",children:"Nombre de Mascota (Invitada)"}),o.jsx("input",{type:"text",name:"nombre_mascota_invitada",value:C.nombre_mascota_invitada||"",onChange:X,className:`w-full p-2.5 bg-gray-700 border border-gray-600\r
                      rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition`,placeholder:"Nombre de la mascota",required:C.id_cliente===null||C.id_cliente===0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-gray-300",children:"Veterinario Asignado"}),o.jsxs("select",{name:"id_veterinario",value:C.id_veterinario||0,onChange:X,className:`w-full p-2.5 bg-gray-700 border border-gray-600\r
                rounded-lg text-white focus:ring-blue-500 focus:border-blue-500 transition`,required:!0,children:[o.jsx("option",{value:0,children:"Selecciona Veterinario"}),c.map(A=>o.jsxs("option",{value:A.id_veterinario,children:[A.nombre," (",A.especialidad,")"]},A.id_veterinario))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-gray-300",children:"Fecha y Hora"}),o.jsx("input",{type:"datetime-local",name:"fecha",value:C.fecha,onChange:X,className:`w-full p-2.5 bg-gray-700 border border-gray-600\r
                rounded-lg text-white focus:ring-blue-500 focus:border-blue-500 transition`,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-gray-300",children:"Tipo de Servicio"}),o.jsxs("select",{name:"tipo",value:C.tipo,onChange:X,className:`w-full p-2.5 bg-gray-700 border border-gray-600\r
                rounded-lg text-white focus:ring-blue-500 focus:border-blue-500 transition`,required:!0,children:[o.jsx("option",{value:"",children:"Selecciona Tipo"}),Object.keys(M0).map(A=>o.jsx("option",{value:A,children:A},A))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-gray-300",children:"Motivo (detalles)"}),o.jsx("input",{type:"text",name:"motivo",value:C.motivo,onChange:X,className:`w-full p-2.5 bg-gray-700 border border-gray-600\r
                rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition`,placeholder:"Ej: Corte de pelo, Vacunación anual",required:!0})]}),o.jsxs("div",{className:`col-span-1 md:col-span-2 lg:col-span-3 flex\r
            justify-end space-x-3 mt-4`,children:[E&&o.jsx("button",{type:"button",onClick:()=>{M(null),O({motivo:"",fecha:"",estado:"programada",tipo:"",id_cliente:null,id_mascota:null,id_veterinario:null,nombre_cliente_invitado:"",nombre_mascota_invitada:""})},className:`px-5 py-2 bg-gray-600 hover:bg-gray-700 text-\r
                  white rounded-lg font-semibold transition shadow-md`,children:"Cancelar Edición"}),o.jsxs("button",{type:"submit",className:`px-6 py-2 bg-indigo-700\r
              hover:bg-indigo-600 text-white rounded-lg font-semibold transition shadow-\r
              md`,children:[E?"Actualizar Cita":"Programar Cita"," "]})]})]})]}),o.jsxs("div",{className:`bg-gray-900 p-6 rounded-xl shadow-lg border border-\r
        blue-800 mb-8`,children:[o.jsxs("h2",{className:`text-2xl font-bold text-blue-400 mb-5 flex items-\r
          center gap-2`,children:[o.jsx(Ov,{size:22})," Citas Programadas y Pendientes (Gestión Interna)"]}),e.length===0?o.jsx("p",{className:"text-gray-400 text-center py-4",children:"No hay citas programadas o pendientes."}):o.jsx("div",{className:`overflow-x-auto rounded-lg border border-gray-\r
            700`,children:o.jsxs("table",{className:`min-w-full table-auto divide-y divide-gray-700\r
              text-sm`,children:[o.jsx("thead",{className:"bg-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:`px-4 py-3 text-left text-gray-300 font-\r
                    semibold text-xs uppercase tracking-wider`,children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tn,{size:14}),"Cliente"]})}),o.jsx("th",{className:`px-4 py-3 text-left text-gray-300 font-\r
                    semibold text-xs uppercase tracking-wider`,children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(yt,{size:14}),"Mascota"]})}),o.jsx("th",{className:`px-4 py-3 text-left text-gray-300 font-\r
                    semibold text-xs uppercase tracking-wider`,children:o.jsx("div",{className:`flex items-center gap-\r
                      1`,children:"Veterinario"})}),o.jsx("th",{className:`px-4 py-3 text-left text-gray-300 font-\r
                    semibold text-xs uppercase tracking-wider`,children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Fi,{size:14}),"Fecha y Hora"]})}),o.jsx("th",{className:`px-4 py-3 text-left text-gray-300 font-\r
                    semibold text-xs uppercase tracking-wider`,children:"Motivo"}),o.jsx("th",{className:`px-4 py-3 text-left text-gray-300 font-\r
                    semibold text-xs uppercase tracking-wider`,children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Op,{size:14}),"Tipo"]})}),o.jsx("th",{className:`px-4 py-3 text-left text-gray-300 font-\r
                    semibold text-xs uppercase tracking-wider`,children:"Estado"}),o.jsx("th",{className:`px-4 py-3 text-right text-gray-300 font-\r
                    semibold text-xs uppercase tracking-wider`,children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-gray-900 divide-y divide-gray-700",children:e.map(A=>{var q,oe;const P=ge(A.fecha).format("DD/MM/YYYY HH:mm");return o.jsxs("tr",{className:"hover:bg-gray-800 transition-colors cursor-pointer",onClick:()=>J(A),children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:A.id_cliente?((q=i.find(re=>re.id_cliente===A.id_cliente))==null?void 0:q.nombre)||"N/A":A.nombre_cliente_invitado||"Cliente Invitado"}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:A.id_mascota?((oe=s.find(re=>re.id_mascota===A.id_mascota))==null?void 0:oe.nombre)||"N/A":A.nombre_mascota_invitada||"Mascota Invitada"}),o.jsx("td",{className:`px-4 py-3 whitespace-\r
                        nowrap`,children:de(A.id_veterinario)}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:P}),o.jsx("td",{className:`px-4 py-3 whitespace-\r
                        nowrap`,children:A.motivo}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:o.jsx("span",{className:`px-2 py-1 inline-flex text-xs
                          leading-5 font-semibold rounded-full
                          ${A.estado.toLowerCase()==="pendiente"?"bg-yellow-600 text-yellow-50":A.estado==="programada"?"bg-blue-600 text-blue-100":A.estado==="confirmada"?"bg-indigo-600 text-indigo-100":A.estado==="realizada"?"bg-green-600 text-green-100":A.estado.toLowerCase()==="cancelada"||A.estado.toLowerCase()==="rechazada"?"bg-red-600 text-red-100":"bg-gray-600 text-gray-200"}`,children:A.estado})}),o.jsx("td",{className:`px-4 py-3 whitespace-nowrap text-right\r
                        space-x-2`,children:A.estado.toLowerCase()==="pendiente"?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:re=>{re.stopPropagation(),xe(A)},className:`text-green-400 hover:text-green-500\r
                                p-2 rounded-md transition-colors`,title:"Aprobar Cita",children:o.jsx(DF,{size:16})}),o.jsx("button",{onClick:re=>{re.stopPropagation(),ue(A.id_cita)},className:`text-red-400 hover:text-red-500 p-2\r
                                rounded-md transition-colors`,title:"Rechazar Cita",children:o.jsx($F,{size:16})})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:re=>{re.stopPropagation(),ne(A)},className:`text-blue-400 hover:text-blue-500 p-2\r
                                rounded-md transition-colors`,title:"Editar Cita",children:o.jsx(Ep,{size:16})}),A.estado==="programada"||A.estado==="confirmada"?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:re=>{re.stopPropagation(),ce(A.id_cita,"realizada")},className:`text-green-400 hover:text-green-\r
                                      500 p-2 rounded-md transition-colors`,title:"Marcar como Realizada",children:o.jsx(Nf,{size:16})}),o.jsx("button",{onClick:re=>{re.stopPropagation(),ce(A.id_cita,"cancelada")},className:`text-red-400 hover:text-red-500\r
                                      p-2 rounded-md transition-colors`,title:"Cancelar Cita",children:o.jsx(Ve,{size:16})})]}):null,(A.estado.toLowerCase()==="cancelada"||A.estado.toLowerCase()==="rechazada")&&o.jsx("button",{onClick:re=>{re.stopPropagation(),me(A)},className:"text-orange-400 hover:text-orange-500 p-2 rounded-md transition-colors",title:"Revertir Cita",children:o.jsx(XA,{size:16})}),A.estado==="realizada"&&A.id_mascota!==null&&o.jsx("button",{onClick:re=>{re.stopPropagation(),be(A.id_mascota)},className:`text-indigo-400 hover:text-indigo-\r
                                    500 p-2 rounded-md transition-colors`,title:"Ver Historial Clínico",children:o.jsx(Iu,{size:16})}),o.jsx("button",{onClick:re=>{re.stopPropagation(),Q(A.id_cita)},className:`text-red-400 hover:text-red-500 p-2\r
                                rounded-md transition-colors`,title:"Eliminar Cita",children:o.jsx(wr,{size:16})})]})})]},A.id_cita)})})]})})]}),o.jsxs("div",{className:`bg-gray-900 p-6 rounded-xl shadow-lg border border-\r
        blue-800`,children:[o.jsxs("h2",{className:`text-2xl font-bold text-blue-400 mb-5 flex items-\r
          center gap-2`,children:[o.jsx(Cp,{size:22})," Solicitudes de Citas Públicas (Pendientes y Historial)"]}),r.length===0?o.jsx("p",{className:"text-gray-400 text-center py-4",children:"No hay solicitudes de citas públicas."}):o.jsx("div",{className:`overflow-x-auto rounded-lg border border-gray-\r
            700`,children:o.jsxs("table",{className:`min-w-full table-auto divide-y divide-gray-700\r
              text-sm`,children:[o.jsx("thead",{className:"bg-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:`px-4 py-3 text-left text-gray-300 font-\r
                    semibold text-xs uppercase tracking-wider`,children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tn,{size:14}),"Solicitante"]})}),o.jsx("th",{className:`px-4 py-3 text-left text-gray-300 font-\r
                    semibold text-xs uppercase tracking-wider`,children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ui,{size:14}),"Teléfono"]})}),o.jsx("th",{className:`px-4 py-3 text-left text-gray-300 font-\r
                    semibold text-xs uppercase tracking-wider`,children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(yt,{size:14}),"Mascota"]})}),o.jsx("th",{className:`px-4 py-3 text-left text-gray-300 font-\r
                    semibold text-xs uppercase tracking-wider`,children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Fi,{size:14}),"Fecha Solicitada"]})}),o.jsx("th",{className:`px-4 py-3 text-left text-gray-300 font-\r
                    semibold text-xs uppercase tracking-wider`,children:"Motivo"}),o.jsx("th",{className:`px-4 py-3 text-left text-gray-300 font-\r
                    semibold text-xs uppercase tracking-wider`,children:"Estado"}),o.jsx("th",{className:`px-4 py-3 text-right text-gray-300 font-\r
                    semibold text-xs uppercase tracking-wider`,children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-gray-900 divide-y divide-gray-700",children:r.map(A=>{const P=ge(A.fecha).format("DD/MM/YYYY HH:mm");return o.jsxs("tr",{className:`hover:bg-gray-800 transition-colors ${A.estado!=="pendiente"?"opacity-70":""} cursor-pointer`,onClick:()=>G(A),children:[o.jsxs("td",{className:`px-4 py-3 whitespace-\r
                        nowrap`,children:[A.nombre," (",A.email||"Sin Email",")"]}),o.jsx("td",{className:`px-4 py-3 whitespace-\r
                        nowrap`,children:A.telefono}),o.jsx("td",{className:`px-4 py-3 whitespace-\r
                        nowrap`,children:A.nombre_mascota}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:P}),o.jsx("td",{className:`px-4 py-3 whitespace-\r
                        nowrap`,children:A.motivo}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:o.jsx("span",{className:`px-2 py-1 inline-flex text-xs
                          leading-5 font-semibold rounded-full
                          ${A.estado==="pendiente"?"bg-yellow-600 text-yellow-50":A.estado==="confirmada"?"bg-green-600 text-green-100":"bg-red-600 text-red-100"}`,children:A.estado})}),o.jsx("td",{className:`px-4 py-3 whitespace-nowrap text-right\r
                        space-x-2`,children:A.estado==="pendiente"?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:q=>{q.stopPropagation(),U(A)},className:`text-green-400 hover:text-green-500\r
                                p-2 rounded-md transition-colors`,title:"Confirmar Solicitud",children:o.jsx(Nf,{size:16})}),o.jsx("button",{onClick:q=>{q.stopPropagation(),I(A.id_cita)},className:`text-red-400 hover:text-red-500 p-2\r
                                rounded-md transition-colors`,title:"Cancelar Solicitud",children:o.jsx(wr,{size:16})})]}):o.jsx("button",{onClick:q=>{q.stopPropagation(),G(A)},className:`text-blue-400 hover:text-blue-500 p-2\r
                              rounded-md transition-colors`,title:"Ver Detalles",children:o.jsx($w,{size:16})})})]},A.id_cita)})})]})})]}),d&&h&&o.jsx("div",{className:`fixed inset-0 bg-gray-900 bg-opacity-80 flex items-\r
          center justify-center p-4 z-50 animate-fade-in`,children:o.jsxs("div",{className:`bg-gray-800 p-8 rounded-xl shadow-2xl w-full max-\r
            w-md space-y-6 border border-blue-700 transform scale-100 animate-scale-in`,children:[o.jsxs("h3",{className:`text-2xl font-bold text-blue-400 text-center flex\r
              items-center justify-center gap-2`,children:[o.jsx(Nf,{size:24}),h.estado==="pendiente"?"Confirmar Cita Pública":"Detalles de Solicitud de Cita"]}),(()=>{const A=ge(h.fecha).format("DD/MM/YYYY HH:mm");return o.jsxs("p",{className:"text-gray-300 text-center mb-4 text-sm",children:["Solicitud de: ",o.jsx("span",{className:`font-semibold text-\r
                    white`,children:h.nombre})," (Mascota: ",o.jsx("span",{className:`font-\r
                    semibold text-white`,children:h.nombre_mascota}),")",o.jsx("br",{})," Fecha y Hora Solicitada: ",o.jsx("span",{className:`font-semibold\r
                    text-white`,children:A}),o.jsx("br",{}),' Motivo: "',o.jsx("span",{className:"italic",children:h.motivo}),'".',o.jsx("br",{})," Estado Actual: ",o.jsx("span",{className:`font-bold ${h.estado==="pendiente"?"text-yellow-400":h.estado==="confirmada"?"text-green-400":"text-red-400"}`,children:h.estado.toUpperCase()}),h.estado==="pendiente"&&o.jsx("span",{className:"text-yellow-300 text-xs mt-2 block",children:"Puedes vincular esta solicitud a un cliente/mascota registrado o confirmarla directamente con los datos proporcionados."})]})})(),_&&o.jsxs("div",{className:`bg-red-800 text-red-100 p-3 rounded text-\r
                center border border-red-600 flex items-center justify-between`,children:[o.jsx("span",{children:_}),o.jsx(Ve,{size:18,className:"cursor-pointer",onClick:()=>w(null)})]}),j&&o.jsxs("div",{className:`bg-green-800 text-green-100 p-3 rounded text-\r
                center border border-green-600 flex items-center justify-between`,children:[o.jsx("span",{children:j}),o.jsx(Ve,{size:18,className:"cursor-pointer",onClick:()=>N(null)})]}),h.estado==="pendiente"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-gray-300",children:"Vincular a Cliente Registrado (Opcional)"}),o.jsxs("select",{value:x,onChange:A=>{g(Number(A.target.value)),p(0)},className:`w-full p-2.5 bg-gray-700 border\r
                      border-gray-600 rounded-lg text-white focus:ring-blue-500 focus:border-blue-500 transition`,children:[o.jsx("option",{value:0,children:"No vincular (usar datos de solicitud)"}),i.map(A=>o.jsx("option",{value:A.id_cliente,children:A.nombre},A.id_cliente))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-gray-300",children:"Mascota Registrada (Opcional)"}),o.jsxs("select",{value:v,onChange:A=>p(Number(A.target.value)),className:`w-full p-2.5 bg-gray-700 border\r
                      border-gray-600 rounded-lg text-white focus:ring-blue-500 focus:border-blue-500 transition`,disabled:x===0,children:[o.jsx("option",{value:0,children:"Selecciona Mascota Existente"}),ee(x).map(A=>o.jsx("option",{value:A.id_mascota,children:A.nombre},A.id_mascota))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-gray-300",children:"Asignar Veterinario"}),o.jsxs("select",{value:y,onChange:A=>b(Number(A.target.value)),className:`w-full p-2.5 bg-gray-700 border\r
                      border-gray-600 rounded-lg text-white focus:ring-blue-500 focus:border-blue-500 transition`,required:!0,children:[o.jsx("option",{value:0,children:"Selecciona Veterinario"}),c.map(A=>o.jsxs("option",{value:A.id_veterinario,children:[A.nombre," (",A.especialidad,")"]},A.id_veterinario))]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{onClick:se,className:`px-5 py-2 bg-gray-600 hover:bg-gray-700 text-\r
                  white rounded-lg font-semibold transition shadow-md`,children:h.estado==="pendiente"?"Cancelar":"Cerrar"}),h.estado==="pendiente"&&o.jsx("button",{onClick:W,className:`px-6 py-2 bg-indigo-700 hover:bg-indigo-600\r
                    text-white rounded-lg font-semibold transition shadow-md`,children:"Confirmar y Agendar"})]})]})}),o.jsx(FB,{isOpen:B,cita:L,onClose:()=>Y(!1),clientes:i,mascotas:s,veterinarios:c})]})},GT=S.createContext({});function UB(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}const a_=typeof window<"u",BB=a_?S.useLayoutEffect:S.useEffect,s_=S.createContext(null),KT=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function VB(e=!0){const t=S.useContext(s_);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,a=S.useId();S.useEffect(()=>{if(e)return i(a)},[e]);const s=S.useCallback(()=>e&&n&&n(a),[a,n,e]);return!r&&n?[!1,s]:[!0]}function o_(e,t){e.indexOf(t)===-1&&e.push(t)}function l_(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Zi=(e,t,r)=>r>t?t:r<e?e:r;let c_=()=>{};const Qi={},XT=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),JT=e=>/^0[^.\s]+$/u.test(e);function u_(e){let t;return()=>(t===void 0&&(t=e()),t)}const jn=e=>e,qB=(e,t)=>r=>t(e(r)),Vd=(...e)=>e.reduce(qB),Uu=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class d_{constructor(){this.subscriptions=[]}add(t){return o_(this.subscriptions,t),()=>l_(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const li=e=>e*1e3,ci=e=>e/1e3;function ZT(e,t){return t?e*(1e3/t):0}const QT=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,WB=1e-7,HB=12;function YB(e,t,r,n,i){let a,s,l=0;do s=t+(r-t)/2,a=QT(s,n,i)-e,a>0?r=s:t=s;while(Math.abs(a)>WB&&++l<HB);return s}function qd(e,t,r,n){if(e===t&&r===n)return jn;const i=a=>YB(a,0,1,e,r);return a=>a===0||a===1?a:QT(i(a),t,n)}const eM=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,tM=e=>t=>1-e(1-t),rM=qd(.33,1.53,.69,.99),f_=tM(rM),nM=eM(f_),iM=e=>(e*=2)<1?.5*f_(e):.5*(2-Math.pow(2,-10*(e-1))),h_=e=>1-Math.sin(Math.acos(e)),aM=tM(h_),sM=eM(h_),GB=qd(.42,0,1,1),KB=qd(0,0,.58,1),oM=qd(.42,0,.58,1),XB=e=>Array.isArray(e)&&typeof e[0]!="number",lM=e=>Array.isArray(e)&&typeof e[0]=="number",JB={linear:jn,easeIn:GB,easeInOut:oM,easeOut:KB,circIn:h_,circInOut:sM,circOut:aM,backIn:f_,backInOut:nM,backOut:rM,anticipate:iM},ZB=e=>typeof e=="string",$S=e=>{if(lM(e)){c_(e.length===4);const[t,r,n,i]=e;return qd(t,r,n,i)}else if(ZB(e))return JB[e];return e},Ef=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],DS={value:null};function QB(e,t){let r=new Set,n=new Set,i=!1,a=!1;const s=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){s.has(f)&&(d.schedule(f),e()),c++,f(l)}const d={schedule:(f,h=!1,m=!1)=>{const g=m&&i?r:n;return h&&s.add(f),g.has(f)||g.add(f),f},cancel:f=>{n.delete(f),s.delete(f)},process:f=>{if(l=f,i){a=!0;return}i=!0,[r,n]=[n,r],r.forEach(u),t&&DS.value&&DS.value.frameloop[t].push(c),c=0,r.clear(),i=!1,a&&(a=!1,d.process(f))}};return d}const eV=40;function cM(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,s=Ef.reduce((b,_)=>(b[_]=QB(a,t?_:void 0),b),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:x}=s,g=()=>{const b=Qi.useManualTiming?i.timestamp:performance.now();r=!1,Qi.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(b-i.timestamp,eV),1)),i.timestamp=b,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),h.process(i),m.process(i),x.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(g))},v=()=>{r=!0,n=!0,i.isProcessing||e(g)};return{schedule:Ef.reduce((b,_)=>{const w=s[_];return b[_]=(j,N=!1,k=!1)=>(r||v(),w.schedule(j,N,k)),b},{}),cancel:b=>{for(let _=0;_<Ef.length;_++)s[Ef[_]].cancel(b)},state:i,steps:s}}const{schedule:At,cancel:Ka,state:or,steps:D0}=cM(typeof requestAnimationFrame<"u"?requestAnimationFrame:jn,!0);let uh;function tV(){uh=void 0}const Fr={now:()=>(uh===void 0&&Fr.set(or.isProcessing||Qi.useManualTiming?or.timestamp:performance.now()),uh),set:e=>{uh=e,queueMicrotask(tV)}},uM=e=>t=>typeof t=="string"&&t.startsWith(e),m_=uM("--"),rV=uM("var(--"),p_=e=>rV(e)?nV.test(e.split("/*")[0].trim()):!1,nV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Bu={...Jl,transform:e=>Zi(0,1,e)},Pf={...Jl,default:1},iu=e=>Math.round(e*1e5)/1e5,g_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iV(e){return e==null}const aV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,y_=(e,t)=>r=>!!(typeof r=="string"&&aV.test(r)&&r.startsWith(e)||t&&!iV(r)&&Object.prototype.hasOwnProperty.call(r,t)),dM=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,a,s,l]=n.match(g_);return{[e]:parseFloat(i),[t]:parseFloat(a),[r]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},sV=e=>Zi(0,255,e),I0={...Jl,transform:e=>Math.round(sV(e))},Es={test:y_("rgb","red"),parse:dM("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+I0.transform(e)+", "+I0.transform(t)+", "+I0.transform(r)+", "+iu(Bu.transform(n))+")"};function oV(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Lv={test:y_("#"),parse:oV,transform:Es.transform},Wd=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ya=Wd("deg"),ui=Wd("%"),Oe=Wd("px"),lV=Wd("vh"),cV=Wd("vw"),IS={...ui,parse:e=>ui.parse(e)/100,transform:e=>ui.transform(e*100)},Mo={test:y_("hsl","hue"),parse:dM("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+ui.transform(iu(t))+", "+ui.transform(iu(r))+", "+iu(Bu.transform(n))+")"},pr={test:e=>Es.test(e)||Lv.test(e)||Mo.test(e),parse:e=>Es.test(e)?Es.parse(e):Mo.test(e)?Mo.parse(e):Lv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Es.transform(e):Mo.transform(e)},uV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function dV(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(g_))==null?void 0:t.length)||0)+(((r=e.match(uV))==null?void 0:r.length)||0)>0}const fM="number",hM="color",fV="var",hV="var(",RS="${}",mV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vu(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(mV,c=>(pr.test(c)?(n.color.push(a),i.push(hM),r.push(pr.parse(c))):c.startsWith(hV)?(n.var.push(a),i.push(fV),r.push(c)):(n.number.push(a),i.push(fM),r.push(parseFloat(c))),++a,RS)).split(RS);return{values:r,split:l,indexes:n,types:i}}function mM(e){return Vu(e).values}function pM(e){const{split:t,types:r}=Vu(e),n=t.length;return i=>{let a="";for(let s=0;s<n;s++)if(a+=t[s],i[s]!==void 0){const l=r[s];l===fM?a+=iu(i[s]):l===hM?a+=pr.transform(i[s]):a+=i[s]}return a}}const pV=e=>typeof e=="number"?0:e;function gV(e){const t=mM(e);return pM(e)(t.map(pV))}const Xa={test:dV,parse:mM,createTransformer:pM,getAnimatableNone:gV};function R0(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function yV({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,a=0,s=0;if(!t)i=a=s=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=R0(c,l,e+1/3),a=R0(c,l,e),s=R0(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:n}}function Zh(e,t){return r=>r>0?t:e}const Et=(e,t,r)=>e+(t-e)*r,L0=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},vV=[Lv,Es,Mo],xV=e=>vV.find(t=>t.test(e));function LS(e){const t=xV(e);if(!t)return!1;let r=t.parse(e);return t===Mo&&(r=yV(r)),r}const zS=(e,t)=>{const r=LS(e),n=LS(t);if(!r||!n)return Zh(e,t);const i={...r};return a=>(i.red=L0(r.red,n.red,a),i.green=L0(r.green,n.green,a),i.blue=L0(r.blue,n.blue,a),i.alpha=Et(r.alpha,n.alpha,a),Es.transform(i))},zv=new Set(["none","hidden"]);function bV(e,t){return zv.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function wV(e,t){return r=>Et(e,t,r)}function v_(e){return typeof e=="number"?wV:typeof e=="string"?p_(e)?Zh:pr.test(e)?zS:SV:Array.isArray(e)?gM:typeof e=="object"?pr.test(e)?zS:_V:Zh}function gM(e,t){const r=[...e],n=r.length,i=e.map((a,s)=>v_(a)(a,t[s]));return a=>{for(let s=0;s<n;s++)r[s]=i[s](a);return r}}function _V(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=v_(e[i])(e[i],t[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}}function jV(e,t){const r=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],s=e.indexes[a][n[a]],l=e.values[s]??0;r[i]=l,n[a]++}return r}const SV=(e,t)=>{const r=Xa.createTransformer(t),n=Vu(e),i=Vu(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?zv.has(e)&&!i.values.length||zv.has(t)&&!n.values.length?bV(e,t):Vd(gM(jV(n,i),i.values),r):Zh(e,t)};function yM(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Et(e,t,r):v_(e)(e,t)}const NV=e=>{const t=({timestamp:r})=>e(r);return{start:()=>At.update(t,!0),stop:()=>Ka(t),now:()=>or.isProcessing?or.timestamp:Fr.now()}},vM=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let a=0;a<i;a++)n+=e(a/(i-1))+", ";return`linear(${n.substring(0,n.length-2)})`},Qh=2e4;function x_(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Qh;)t+=r,n=e.next(t);return t>=Qh?1/0:t}function kV(e,t=100,r){const n=r({...e,keyframes:[0,t]}),i=Math.min(x_(n),Qh);return{type:"keyframes",ease:a=>n.next(i*a).value/t,duration:ci(i)}}const CV=5;function xM(e,t,r){const n=Math.max(t-CV,0);return ZT(r-e(n),t-n)}const Mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},FS=.001;function EV({duration:e=Mt.duration,bounce:t=Mt.bounce,velocity:r=Mt.velocity,mass:n=Mt.mass}){let i,a,s=1-t;s=Zi(Mt.minDamping,Mt.maxDamping,s),e=Zi(Mt.minDuration,Mt.maxDuration,ci(e)),s<1?(i=u=>{const d=u*s,f=d*e,h=d-r,m=Fv(u,s),x=Math.exp(-f);return FS-h/m*x},a=u=>{const f=u*s*e,h=f*r+r,m=Math.pow(s,2)*Math.pow(u,2)*e,x=Math.exp(-f),g=Fv(Math.pow(u,2),s);return(-i(u)+FS>0?-1:1)*((h-m)*x)/g}):(i=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-.001+d*f},a=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=OV(i,a,l);if(e=li(e),isNaN(c))return{stiffness:Mt.stiffness,damping:Mt.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:s*2*Math.sqrt(n*u),duration:e}}}const PV=12;function OV(e,t,r){let n=r;for(let i=1;i<PV;i++)n=n-e(n)/t(n);return n}function Fv(e,t){return e*Math.sqrt(1-t*t)}const AV=["duration","bounce"],TV=["stiffness","damping","mass"];function US(e,t){return t.some(r=>e[r]!==void 0)}function MV(e){let t={velocity:Mt.velocity,stiffness:Mt.stiffness,damping:Mt.damping,mass:Mt.mass,isResolvedFromDuration:!1,...e};if(!US(e,TV)&&US(e,AV))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,a=2*Zi(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Mt.mass,stiffness:i,damping:a}}else{const r=EV(e);t={...t,...r,mass:Mt.mass},t.isResolvedFromDuration=!0}return t}function em(e=Mt.visualDuration,t=Mt.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const a=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=MV({...r,velocity:-ci(r.velocity||0)}),x=h||0,g=u/(2*Math.sqrt(c*d)),v=s-a,p=ci(Math.sqrt(c/d)),y=Math.abs(v)<5;n||(n=y?Mt.restSpeed.granular:Mt.restSpeed.default),i||(i=y?Mt.restDelta.granular:Mt.restDelta.default);let b;if(g<1){const w=Fv(p,g);b=j=>{const N=Math.exp(-g*p*j);return s-N*((x+g*p*v)/w*Math.sin(w*j)+v*Math.cos(w*j))}}else if(g===1)b=w=>s-Math.exp(-p*w)*(v+(x+p*v)*w);else{const w=p*Math.sqrt(g*g-1);b=j=>{const N=Math.exp(-g*p*j),k=Math.min(w*j,300);return s-N*((x+g*p*v)*Math.sinh(k)+w*v*Math.cosh(k))/w}}const _={calculatedDuration:m&&f||null,next:w=>{const j=b(w);if(m)l.done=w>=f;else{let N=w===0?x:0;g<1&&(N=w===0?li(x):xM(b,w,j));const k=Math.abs(N)<=n,E=Math.abs(s-j)<=i;l.done=k&&E}return l.value=l.done?s:j,l},toString:()=>{const w=Math.min(x_(_),Qh),j=vM(N=>_.next(w*N).value,w,30);return w+"ms "+j},toTransition:()=>{}};return _}em.applyToOptions=e=>{const t=kV(e,100,em);return e.ease=t.ease,e.duration=li(t.duration),e.type="keyframes",e};function Uv({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=k=>l!==void 0&&k<l||c!==void 0&&k>c,x=k=>l===void 0?c:c===void 0||Math.abs(l-k)<Math.abs(c-k)?l:c;let g=r*t;const v=f+g,p=s===void 0?v:s(v);p!==v&&(g=p-f);const y=k=>-g*Math.exp(-k/n),b=k=>p+y(k),_=k=>{const E=y(k),M=b(k);h.done=Math.abs(E)<=u,h.value=h.done?p:M};let w,j;const N=k=>{m(h.value)&&(w=k,j=em({keyframes:[h.value,x(h.value)],velocity:xM(b,k,h.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:k=>{let E=!1;return!j&&w===void 0&&(E=!0,_(k),N(k)),w!==void 0&&k>=w?j.next(k-w):(!E&&_(k),h)}}}function $V(e,t,r){const n=[],i=r||Qi.mix||yM,a=e.length-1;for(let s=0;s<a;s++){let l=i(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]||jn:t;l=Vd(c,l)}n.push(l)}return n}function DV(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const a=e.length;if(c_(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=$V(t,n,i),c=l.length,u=d=>{if(s&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Uu(e[f],e[f+1],d);return l[f](h)};return r?d=>u(Zi(e[0],e[a-1],d)):u}function IV(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Uu(0,t,n);e.push(Et(r,1,i))}}function RV(e){const t=[0];return IV(t,e.length-1),t}function LV(e,t){return e.map(r=>r*t)}function zV(e,t){return e.map(()=>t||oM).splice(0,e.length-1)}function au({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=XB(n)?n.map($S):$S(n),a={done:!1,value:t[0]},s=LV(r&&r.length===t.length?r:RV(t),e),l=DV(s,t,{ease:Array.isArray(i)?i:zV(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const FV=e=>e!==null;function b_(e,{repeat:t,repeatType:r="loop"},n,i=1){const a=e.filter(FV),l=i<0||t&&r!=="loop"&&t%2===1?0:a.length-1;return!l||n===void 0?a[l]:n}const UV={decay:Uv,inertia:Uv,tween:au,keyframes:au,spring:em};function bM(e){typeof e.type=="string"&&(e.type=UV[e.type])}class w_{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const BV=e=>e/100;class wM extends w_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;if(r&&r.updatedAt!==Fr.now()&&this.tick(Fr.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:n}=this.options;n&&n()},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;bM(t);const{type:r=au,repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=t;let{keyframes:l}=t;const c=r||au;c!==au&&typeof l[0]!="number"&&(this.mixKeyframes=Vd(BV,yM(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=x_(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:i,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:x,onUpdate:g,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const p=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?p<0:p>i;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,_=n;if(f){const k=Math.min(this.currentTime,i)/l;let E=Math.floor(k),M=k%1;!M&&k>=1&&(M=1),M===1&&E--,E=Math.min(E,f+1),!!(E%2)&&(h==="reverse"?(M=1-M,m&&(M-=m/l)):h==="mirror"&&(_=s)),b=Zi(0,1,M)*l}const w=y?{done:!1,value:d[0]}:_.next(b);a&&(w.value=a(w.value));let{done:j}=w;!y&&c!==null&&(j=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return N&&x!==Uv&&(w.value=b_(d,this.options,v,this.speed)),g&&g(w.value),N&&this.finish(),w}then(t,r){return this.finished.then(t,r)}get duration(){return ci(this.calculatedDuration)}get time(){return ci(this.currentTime)}set time(t){t=li(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Fr.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=ci(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=NV,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),r&&r();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),t.observe(this)}}function VV(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ps=e=>e*180/Math.PI,Bv=e=>{const t=Ps(Math.atan2(e[1],e[0]));return Vv(t)},qV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Bv,rotateZ:Bv,skewX:e=>Ps(Math.atan(e[1])),skewY:e=>Ps(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Vv=e=>(e=e%360,e<0&&(e+=360),e),BS=Bv,VS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),qS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),WV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:VS,scaleY:qS,scale:e=>(VS(e)+qS(e))/2,rotateX:e=>Vv(Ps(Math.atan2(e[6],e[5]))),rotateY:e=>Vv(Ps(Math.atan2(-e[2],e[0]))),rotateZ:BS,rotate:BS,skewX:e=>Ps(Math.atan(e[4])),skewY:e=>Ps(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function WS(e){return e.includes("scale")?1:0}function qv(e,t){if(!e||e==="none")return WS(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=WV,i=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=qV,i=l}if(!i)return WS(t);const a=n[t],s=i[1].split(",").map(YV);return typeof a=="function"?a(s):s[a]}const HV=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return qv(r,t)};function YV(e){return parseFloat(e.trim())}const Zl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ql=new Set(Zl),HS=e=>e===Jl||e===Oe,GV=new Set(["x","y","z"]),KV=Zl.filter(e=>!GV.has(e));function XV(e){const t=[];return KV.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const ml={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>qv(t,"x"),y:(e,{transform:t})=>qv(t,"y")};ml.translateX=ml.x;ml.translateY=ml.y;const Ls=new Set;let Wv=!1,Hv=!1,Yv=!1;function _M(){if(Hv){const e=Array.from(Ls).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=XV(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([a,s])=>{var l;(l=n.getValue(a))==null||l.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Hv=!1,Wv=!1,Ls.forEach(e=>e.complete(Yv)),Ls.clear()}function jM(){Ls.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Hv=!0)})}function JV(){Yv=!0,jM(),_M(),Yv=!1}class __{constructor(t,r,n,i,a,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ls.add(this),Wv||(Wv=!0,At.read(jM),At.resolveKeyframes(_M))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),s=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&r){const l=n.readValue(r,s);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=s),i&&a===void 0&&i.set(t[0])}VV(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ls.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ls.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ZV=e=>e.startsWith("--");function QV(e,t,r){ZV(t)?e.style.setProperty(t,r):e.style[t]=r}const eq=u_(()=>window.ScrollTimeline!==void 0),tq={};function rq(e,t){const r=u_(e);return()=>tq[t]??r()}const SM=rq(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bc=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,YS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bc([0,.65,.55,1]),circOut:Bc([.55,0,1,.45]),backIn:Bc([.31,.01,.66,-.59]),backOut:Bc([.33,1.53,.69,.99])};function NM(e,t){if(e)return typeof e=="function"?SM()?vM(e,t):"ease-out":lM(e)?Bc(e):Array.isArray(e)?e.map(r=>NM(r,t)||YS.easeOut):YS[e]}function nq(e,t,r,{delay:n=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=NM(l,i);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function kM(e){return typeof e=="function"&&"applyToOptions"in e}function iq({type:e,...t}){return kM(e)&&SM()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class aq extends w_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:i,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=t,c_(typeof t.type!="string");const u=iq(t);this.animation=nq(r,n,i,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=b_(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):QV(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return ci(Number(t))}get time(){return ci(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=li(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&eq()?(this.animation.timeline=t,jn):r(this)}}const CM={anticipate:iM,backInOut:nM,circInOut:sM};function sq(e){return e in CM}function oq(e){typeof e.ease=="string"&&sq(e.ease)&&(e.ease=CM[e.ease])}const GS=10;class lq extends aq{constructor(t){oq(t),bM(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:i,element:a,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new wM({...s,autoplay:!1}),c=li(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-GS).value,l.sample(c).value,GS),l.stop()}}const KS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Xa.test(e)||e==="0")&&!e.startsWith("url("));function cq(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function uq(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],s=KS(i,t),l=KS(a,t);return!s||!l?!1:cq(e)||(r==="spring"||kM(r))&&n}const dq=new Set(["opacity","clipPath","filter","transform"]),fq=u_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function hq(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:a,type:s}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return fq()&&r&&dq.has(r)&&(r!=="transform"||!c)&&!l&&!n&&i!=="mirror"&&a!==0&&s!=="inertia"}const mq=40;class pq extends w_{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var x;super(),this.stop=()=>{var g,v;this._animation?(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)):(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Fr.now();const h={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:a,repeatType:s,name:c,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||__;this.keyframeResolver=new m(l,(g,v,p)=>this.onKeyframesResolved(g,v,h,!p),c,u,d),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,r,n,i){this.keyframeResolver=void 0;const{name:a,type:s,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=Fr.now(),uq(t,a,s,l)||((Qi.instantAnimations||!c)&&(d==null||d(b_(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>mq?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&hq(h)?new lq({...h,element:h.motionValue.owner.current}):new wM(h);m.finished.then(()=>this.notifyFinished()).catch(jn),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||JV(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const gq=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yq(e){const t=gq.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function EM(e,t,r=1){const[n,i]=yq(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const s=a.trim();return XT(s)?parseFloat(s):s}return p_(i)?EM(i,t,r+1):i}function j_(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const PM=new Set(["width","height","top","left","right","bottom",...Zl]),vq={test:e=>e==="auto",parse:e=>e},OM=e=>t=>t.test(e),AM=[Jl,Oe,ui,ya,cV,lV,vq],XS=e=>AM.find(OM(e));function xq(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||JT(e):!0}const bq=new Set(["brightness","contrast","saturate","opacity"]);function wq(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(g_)||[];if(!n)return e;const i=r.replace(n,"");let a=bq.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+i+")"}const _q=/\b([a-z-]*)\(.*?\)/gu,Gv={...Xa,getAnimatableNone:e=>{const t=e.match(_q);return t?t.map(wq).join(" "):e}},JS={...Jl,transform:Math.round},jq={rotate:ya,rotateX:ya,rotateY:ya,rotateZ:ya,scale:Pf,scaleX:Pf,scaleY:Pf,scaleZ:Pf,skew:ya,skewX:ya,skewY:ya,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:Bu,originX:IS,originY:IS,originZ:Oe},S_={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,backgroundPositionX:Oe,backgroundPositionY:Oe,...jq,zIndex:JS,fillOpacity:Bu,strokeOpacity:Bu,numOctaves:JS},Sq={...S_,color:pr,backgroundColor:pr,outlineColor:pr,fill:pr,stroke:pr,borderColor:pr,borderTopColor:pr,borderRightColor:pr,borderBottomColor:pr,borderLeftColor:pr,filter:Gv,WebkitFilter:Gv},TM=e=>Sq[e];function MM(e,t){let r=TM(e);return r!==Gv&&(r=Xa),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Nq=new Set(["auto","none","0"]);function kq(e,t,r){let n=0,i;for(;n<e.length&&!i;){const a=e[n];typeof a=="string"&&!Nq.has(a)&&Vu(a).values.length&&(i=e[n]),n++}if(i&&r)for(const a of t)e[a]=MM(r,i)}class Cq extends __{constructor(t,r,n,i,a){super(t,r,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),p_(u))){const d=EM(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!PM.has(n)||t.length!==2)return;const[i,a]=t,s=XS(i),l=XS(a);if(s!==l)if(HS(s)&&HS(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||xq(t[i]))&&n.push(i);n.length&&kq(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ml[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,s=n[a];n[a]=ml[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Eq(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const i=(r==null?void 0:r[e])??n.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const{schedule:N_}=cM(queueMicrotask,!1),Dn={x:!1,y:!1};function $M(){return Dn.x||Dn.y}function Pq(e){return e==="x"||e==="y"?Dn[e]?null:(Dn[e]=!0,()=>{Dn[e]=!1}):Dn.x||Dn.y?null:(Dn.x=Dn.y=!0,()=>{Dn.x=Dn.y=!1})}function DM(e,t){const r=Eq(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function ZS(e){return!(e.pointerType==="touch"||$M())}function Oq(e,t,r={}){const[n,i,a]=DM(e,r),s=l=>{if(!ZS(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{ZS(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return n.forEach(l=>{l.addEventListener("pointerenter",s,i)}),a}const IM=(e,t)=>t?e===t?!0:IM(e,t.parentElement):!1,k_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Aq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Tq(e){return Aq.has(e.tagName)||e.tabIndex!==-1}const Vc=new WeakSet;function QS(e){return t=>{t.key==="Enter"&&e(t)}}function z0(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Mq=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=QS(()=>{if(Vc.has(r))return;z0(r,"down");const i=QS(()=>{z0(r,"up")}),a=()=>z0(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",a,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function eN(e){return k_(e)&&!$M()}function $q(e,t,r={}){const[n,i,a]=DM(e,r),s=l=>{const c=l.currentTarget;if(!eN(l)||Vc.has(c))return;Vc.add(c);const u=t(c,l),d=(m,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!eN(m)||!Vc.has(c))&&(Vc.delete(c),typeof u=="function"&&u(m,{success:x}))},f=m=>{d(m,c===window||c===document||r.useGlobalTarget||IM(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",s,i),l instanceof HTMLElement&&(l.addEventListener("focus",u=>Mq(u,i)),!Tq(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}const tN=30,Dq=e=>!isNaN(parseFloat(e));class Iq{constructor(t,r={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{var s,l;const a=Fr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current)),i&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Fr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Dq(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new d_);const n=this.events[t].add(r);return t==="change"?()=>{n(),At.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Fr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>tN)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,tN);return ZT(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t;(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qu(e,t){return new Iq(e,t)}const Rq=[...AM,pr,Xa],Lq=e=>Rq.find(OM(e)),RM=(e,t)=>t&&typeof e=="number"?t.transform(e):e,LM=S.createContext({strict:!1}),rN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pl={};for(const e in rN)pl[e]={isEnabled:t=>rN[e].some(r=>!!t[r])};function zq(e){for(const t in e)pl[t]={...pl[t],...e[t]}}const Fq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function tm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Fq.has(e)}let zM=e=>!tm(e);function Uq(e){e&&(zM=t=>t.startsWith("on")?!tm(t):e(t))}try{Uq(require("@emotion/is-prop-valid").default)}catch{}function Bq(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(zM(i)||r===!0&&tm(i)||!t&&!tm(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function Vq(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const Vp=S.createContext({});function qp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Wu(e){return typeof e=="string"||Array.isArray(e)}const C_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],E_=["initial",...C_];function Wp(e){return qp(e.animate)||E_.some(t=>Wu(e[t]))}function FM(e){return!!(Wp(e)||e.variants)}function qq(e,t){if(Wp(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Wu(r)?r:void 0,animate:Wu(n)?n:void 0}}return e.inherit!==!1?t:{}}function Wq(e){const{initial:t,animate:r}=qq(e,S.useContext(Vp));return S.useMemo(()=>({initial:t,animate:r}),[nN(t),nN(r)])}function nN(e){return Array.isArray(e)?e.join(" "):e}const Hq=Symbol.for("motionComponentSymbol");function $o(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Yq(e,t,r){return S.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):$o(r)&&(r.current=n))},[t])}const P_=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Gq="framerAppearId",UM="data-"+P_(Gq),BM=S.createContext({});function Kq(e,t,r,n,i){var g,v;const{visualElement:a}=S.useContext(Vp),s=S.useContext(LM),l=S.useContext(s_),c=S.useContext(KT).reducedMotion,u=S.useRef(null);n=n||s.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:a,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=S.useContext(BM);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&Xq(u.current,r,i,f);const h=S.useRef(!1);S.useInsertionEffect(()=>{d&&h.current&&d.update(r,l)});const m=r[UM],x=S.useRef(!!m&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,m))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,m)));return BB(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),N_.render(d.render),x.current&&d.animationState&&d.animationState.animateChanges())}),S.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,m)}),x.current=!1))}),d}function Xq(e,t,r,n){const{layoutId:i,layout:a,drag:s,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:VM(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||l&&$o(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function VM(e){if(e)return e.options.allowProjection!==!1?e.projection:VM(e.parent)}function Jq({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){e&&zq(e);function a(l,c){let u;const d={...S.useContext(KT),...l,layoutId:Zq(l)},{isStatic:f}=d,h=Wq(l),m=n(l,f);if(!f&&a_){Qq();const x=e9(d);u=x.MeasureLayout,h.visualElement=Kq(i,m,d,t,x.ProjectionNode)}return o.jsxs(Vp.Provider,{value:h,children:[u&&h.visualElement?o.jsx(u,{visualElement:h.visualElement,...d}):null,r(i,l,Yq(m,h.visualElement,c),m,f,h.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const s=S.forwardRef(a);return s[Hq]=i,s}function Zq({layoutId:e}){const t=S.useContext(GT).id;return t&&e!==void 0?t+"-"+e:e}function Qq(e,t){S.useContext(LM).strict}function e9(e){const{drag:t,layout:r}=pl;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Hu={};function t9(e){for(const t in e)Hu[t]=e[t],m_(t)&&(Hu[t].isCSSVariable=!0)}function qM(e,{layout:t,layoutId:r}){return Ql.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Hu[e]||e==="opacity")}const br=e=>!!(e&&e.getVelocity),r9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},n9=Zl.length;function i9(e,t,r){let n="",i=!0;for(let a=0;a<n9;a++){const s=Zl[a],l=e[s];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(s.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=RM(l,S_[s]);if(!c){i=!1;const d=r9[s]||s;n+=`${d}(${u}) `}r&&(t[s]=u)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function O_(e,t,r){const{style:n,vars:i,transformOrigin:a}=e;let s=!1,l=!1;for(const c in t){const u=t[c];if(Ql.has(c)){s=!0;continue}else if(m_(c)){i[c]=u;continue}else{const d=RM(u,S_[c]);c.startsWith("origin")?(l=!0,a[c]=d):n[c]=d}}if(t.transform||(s||r?n.transform=i9(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;n.transformOrigin=`${c} ${u} ${d}`}}const A_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WM(e,t,r){for(const n in t)!br(t[n])&&!qM(n,r)&&(e[n]=t[n])}function a9({transformTemplate:e},t){return S.useMemo(()=>{const r=A_();return O_(r,t,e),Object.assign({},r.vars,r.style)},[t])}function s9(e,t){const r=e.style||{},n={};return WM(n,r,e),Object.assign(n,a9(e,t)),n}function o9(e,t){const r={},n=s9(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const l9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function T_(e){return typeof e!="string"||e.includes("-")?!1:!!(l9.indexOf(e)>-1||/[A-Z]/u.test(e))}const c9={offset:"stroke-dashoffset",array:"stroke-dasharray"},u9={offset:"strokeDashoffset",array:"strokeDasharray"};function d9(e,t,r=1,n=0,i=!0){e.pathLength=1;const a=i?c9:u9;e[a.offset]=Oe.transform(-n);const s=Oe.transform(t),l=Oe.transform(r);e[a.array]=`${s} ${l}`}function HM(e,{attrX:t,attrY:r,attrScale:n,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...l},c,u){if(O_(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:f}=e;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox="fill-box",delete d.transformBox),t!==void 0&&(d.x=t),r!==void 0&&(d.y=r),n!==void 0&&(d.scale=n),i!==void 0&&d9(d,i,a,s,!1)}const YM=()=>({...A_(),attrs:{}}),GM=e=>typeof e=="string"&&e.toLowerCase()==="svg";function f9(e,t,r,n){const i=S.useMemo(()=>{const a=YM();return HM(a,t,GM(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};WM(a,e.style,e),i.style={...a,...i.style}}return i}function h9(e=!1){return(r,n,i,{latestValues:a},s)=>{const c=(T_(r)?f9:o9)(n,a,s,r),u=Bq(n,typeof r=="string",e),d=r!==S.Fragment?{...u,...c,ref:i}:{},{children:f}=n,h=S.useMemo(()=>br(f)?f.get():f,[f]);return S.createElement(r,{...d,children:h})}}function iN(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function M_(e,t,r,n){if(typeof t=="function"){const[i,a]=iN(n);t=t(r!==void 0?r:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=iN(n);t=t(r!==void 0?r:e.custom,i,a)}return t}function dh(e){return br(e)?e.get():e}function m9({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,i){return{latestValues:p9(r,n,i,e),renderState:t()}}const KM=e=>(t,r)=>{const n=S.useContext(Vp),i=S.useContext(s_),a=()=>m9(e,t,n,i);return r?a():UB(a)};function p9(e,t,r,n){const i={},a=n(e,{});for(const h in a)i[h]=dh(a[h]);let{initial:s,animate:l}=e;const c=Wp(e),u=FM(e);t&&u&&!c&&e.inherit!==!1&&(s===void 0&&(s=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||s===!1;const f=d?l:s;if(f&&typeof f!="boolean"&&!qp(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const x=M_(e,h[m]);if(x){const{transitionEnd:g,transition:v,...p}=x;for(const y in p){let b=p[y];if(Array.isArray(b)){const _=d?b.length-1:0;b=b[_]}b!==null&&(i[y]=b)}for(const y in g)i[y]=g[y]}}}return i}function $_(e,t,r){var a;const{style:n}=e,i={};for(const s in n)(br(n[s])||t.style&&br(t.style[s])||qM(s,e)||((a=r==null?void 0:r.getValue(s))==null?void 0:a.liveStyle)!==void 0)&&(i[s]=n[s]);return i}const g9={useVisualState:KM({scrapeMotionValuesFromProps:$_,createRenderState:A_})};function XM(e,t,r){const n=$_(e,t,r);for(const i in e)if(br(e[i])||br(t[i])){const a=Zl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=e[i]}return n}const y9={useVisualState:KM({scrapeMotionValuesFromProps:XM,createRenderState:YM})};function v9(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...T_(n)?y9:g9,preloadedFeatures:e,useRender:h9(i),createVisualElement:t,Component:n};return Jq(s)}}function Yu(e,t,r){const n=e.getProps();return M_(n,t,r!==void 0?r:n.custom,e)}const Kv=e=>Array.isArray(e);function x9(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,qu(r))}function b9(e){return Kv(e)?e[e.length-1]||0:e}function w9(e,t){const r=Yu(e,t);let{transitionEnd:n={},transition:i={},...a}=r||{};a={...a,...n};for(const s in a){const l=b9(a[s]);x9(e,s,l)}}function _9(e){return!!(br(e)&&e.add)}function Xv(e,t){const r=e.getValue("willChange");if(_9(r))return r.add(t);if(!r&&Qi.WillChange){const n=new Qi.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function JM(e){return e.props[UM]}const j9=e=>e!==null;function S9(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(j9),a=t&&r!=="loop"&&t%2===1?0:i.length-1;return i[a]}const N9={type:"spring",stiffness:500,damping:25,restSpeed:10},k9=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),C9={type:"keyframes",duration:.8},E9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},P9=(e,{keyframes:t})=>t.length>2?C9:Ql.has(e)?e.startsWith("scale")?k9(t[1]):N9:E9;function O9({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const D_=(e,t,r,n={},i,a)=>s=>{const l=j_(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-li(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};O9(l)||Object.assign(d,P9(e,d)),d.duration&&(d.duration=li(d.duration)),d.repeatDelay&&(d.repeatDelay=li(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),(Qi.instantAnimations||Qi.skipAnimations)&&(f=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!a&&t.get()!==void 0){const h=S9(d.keyframes,l);if(h!==void 0){At.update(()=>{d.onUpdate(h),d.onComplete()});return}}return new pq(d)};function A9({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function ZM(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...l}=t;n&&(a=n);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&A9(u,d))continue;const m={delay:r,...j_(a||{},d)},x=f.get();if(x!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===x&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const p=JM(e);if(p){const y=window.MotionHandoffAnimation(p,d,At);y!==null&&(m.startTime=y,g=!0)}}Xv(e,d),f.start(D_(d,f,h,e.shouldReduceMotion&&PM.has(d)?{type:!1}:m,e,g));const v=f.animation;v&&c.push(v)}return s&&Promise.all(c).then(()=>{At.update(()=>{s&&w9(e,s)})}),c}function Jv(e,t,r={}){var c;const n=Yu(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>Promise.all(ZM(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return T9(e,t,d+u,f,h,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[a,s]:[s,a];return u().then(()=>d())}else return Promise.all([a(),s(r.delay)])}function T9(e,t,r=0,n=0,i=1,a){const s=[],l=(e.variantChildren.size-1)*n,c=i===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(M9).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(Jv(u,t,{...a,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function M9(e,t){return e.sortNodePosition(t)}function $9(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>Jv(e,a,r));n=Promise.all(i)}else if(typeof t=="string")n=Jv(e,t,r);else{const i=typeof t=="function"?Yu(e,t,r.custom):t;n=Promise.all(ZM(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function QM(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const D9=E_.length;function e$(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?e$(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<D9;r++){const n=E_[r],i=e.props[n];(Wu(i)||i===!1)&&(t[n]=i)}return t}const I9=[...C_].reverse(),R9=C_.length;function L9(e){return t=>Promise.all(t.map(({animation:r,options:n})=>$9(e,r,n)))}function z9(e){let t=L9(e),r=aN(),n=!0;const i=c=>(u,d)=>{var h;const f=Yu(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:x,...g}=f;u={...u,...g,...x}}return u};function a(c){t=c(e)}function s(c){const{props:u}=e,d=e$(e.parent)||{},f=[],h=new Set;let m={},x=1/0;for(let v=0;v<R9;v++){const p=I9[v],y=r[p],b=u[p]!==void 0?u[p]:d[p],_=Wu(b),w=p===c?y.isActive:null;w===!1&&(x=v);let j=b===d[p]&&b!==u[p]&&_;if(j&&n&&e.manuallyAnimateOnMount&&(j=!1),y.protectedKeys={...m},!y.isActive&&w===null||!b&&!y.prevProp||qp(b)||typeof b=="boolean")continue;const N=F9(y.prevProp,b);let k=N||p===c&&y.isActive&&!j&&_||v>x&&_,E=!1;const M=Array.isArray(b)?b:[b];let C=M.reduce(i(p),{});w===!1&&(C={});const{prevResolvedValues:O={}}=y,L={...O,...C},$=F=>{k=!0,h.has(F)&&(E=!0,h.delete(F)),y.needsAnimating[F]=!0;const R=e.getValue(F);R&&(R.liveStyle=!1)};for(const F in L){const R=C[F],D=O[F];if(m.hasOwnProperty(F))continue;let X=!1;Kv(R)&&Kv(D)?X=!QM(R,D):X=R!==D,X?R!=null?$(F):h.add(F):R!==void 0&&h.has(F)?$(F):y.protectedKeys[F]=!0}y.prevProp=b,y.prevResolvedValues=C,y.isActive&&(m={...m,...C}),n&&e.blockInitialAnimation&&(k=!1),k&&(!(j&&N)||E)&&f.push(...M.map(F=>({animation:F,options:{type:p}})))}if(h.size){const v={};if(typeof u.initial!="boolean"){const p=Yu(e,Array.isArray(u.initial)?u.initial[0]:u.initial);p&&p.transition&&(v.transition=p.transition)}h.forEach(p=>{const y=e.getBaseTarget(p),b=e.getValue(p);b&&(b.liveStyle=!0),v[p]=y??null}),f.push({animation:v})}let g=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const d=s(c);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:s,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=aN(),n=!0}}}function F9(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!QM(t,e):!1}function cs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aN(){return{animate:cs(!0),whileInView:cs(),whileHover:cs(),whileTap:cs(),whileDrag:cs(),whileFocus:cs(),exit:cs()}}class rs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class U9 extends rs{constructor(t){super(t),t.animationState||(t.animationState=z9(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();qp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let B9=0;class V9 extends rs{constructor(){super(...arguments),this.id=B9++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const q9={animation:{Feature:U9},exit:{Feature:V9}};function Gu(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Hd(e){return{point:{x:e.pageX,y:e.pageY}}}const W9=e=>t=>k_(t)&&e(t,Hd(t));function su(e,t,r,n){return Gu(e,t,W9(r),n)}function t$({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function H9({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Y9(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const r$=1e-4,G9=1-r$,K9=1+r$,n$=.01,X9=0-n$,J9=0+n$;function kr(e){return e.max-e.min}function Z9(e,t,r){return Math.abs(e-t)<=r}function sN(e,t,r,n=.5){e.origin=n,e.originPoint=Et(t.min,t.max,e.origin),e.scale=kr(r)/kr(t),e.translate=Et(r.min,r.max,e.origin)-e.originPoint,(e.scale>=G9&&e.scale<=K9||isNaN(e.scale))&&(e.scale=1),(e.translate>=X9&&e.translate<=J9||isNaN(e.translate))&&(e.translate=0)}function ou(e,t,r,n){sN(e.x,t.x,r.x,n?n.originX:void 0),sN(e.y,t.y,r.y,n?n.originY:void 0)}function oN(e,t,r){e.min=r.min+t.min,e.max=e.min+kr(t)}function Q9(e,t,r){oN(e.x,t.x,r.x),oN(e.y,t.y,r.y)}function lN(e,t,r){e.min=t.min-r.min,e.max=e.min+kr(t)}function lu(e,t,r){lN(e.x,t.x,r.x),lN(e.y,t.y,r.y)}const cN=()=>({translate:0,scale:1,origin:0,originPoint:0}),Do=()=>({x:cN(),y:cN()}),uN=()=>({min:0,max:0}),It=()=>({x:uN(),y:uN()});function hn(e){return[e("x"),e("y")]}function F0(e){return e===void 0||e===1}function Zv({scale:e,scaleX:t,scaleY:r}){return!F0(e)||!F0(t)||!F0(r)}function vs(e){return Zv(e)||i$(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function i$(e){return dN(e.x)||dN(e.y)}function dN(e){return e&&e!=="0%"}function rm(e,t,r){const n=e-r,i=t*n;return r+i}function fN(e,t,r,n,i){return i!==void 0&&(e=rm(e,i,n)),rm(e,r,n)+t}function Qv(e,t=0,r=1,n,i){e.min=fN(e.min,t,r,n,i),e.max=fN(e.max,t,r,n,i)}function a$(e,{x:t,y:r}){Qv(e.x,t.translate,t.scale,t.originPoint),Qv(e.y,r.translate,r.scale,r.originPoint)}const hN=.999999999999,mN=1.0000000000001;function eW(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let a,s;for(let l=0;l<i;l++){a=r[l],s=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ro(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,a$(e,s)),n&&vs(a.latestValues)&&Ro(e,a.latestValues))}t.x<mN&&t.x>hN&&(t.x=1),t.y<mN&&t.y>hN&&(t.y=1)}function Io(e,t){e.min=e.min+t,e.max=e.max+t}function pN(e,t,r,n,i=.5){const a=Et(e.min,e.max,i);Qv(e,t,r,a,n)}function Ro(e,t){pN(e.x,t.x,t.scaleX,t.scale,t.originX),pN(e.y,t.y,t.scaleY,t.scale,t.originY)}function s$(e,t){return t$(Y9(e.getBoundingClientRect(),t))}function tW(e,t,r){const n=s$(e,r),{scroll:i}=t;return i&&(Io(n.x,i.offset.x),Io(n.y,i.offset.y)),n}const o$=({current:e})=>e?e.ownerDocument.defaultView:null,gN=(e,t)=>Math.abs(e-t);function rW(e,t){const r=gN(e.x,t.x),n=gN(e.y,t.y);return Math.sqrt(r**2+n**2)}class l${constructor(t,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=B0(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=rW(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:x}=f,{timestamp:g}=or;this.history.push({...x,timestamp:g});const{onStart:v,onMove:p}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=U0(h,this.transformPagePoint),At.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=B0(f.type==="pointercancel"?this.lastMoveEventInfo:U0(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,v),x&&x(f,v)},!k_(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const s=Hd(t),l=U0(s,this.transformPagePoint),{point:c}=l,{timestamp:u}=or;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,B0(l,this.history)),this.removeListeners=Vd(su(this.contextWindow,"pointermove",this.handlePointerMove),su(this.contextWindow,"pointerup",this.handlePointerUp),su(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ka(this.updatePoint)}}function U0(e,t){return t?{point:t(e.point)}:e}function yN(e,t){return{x:e.x-t.x,y:e.y-t.y}}function B0({point:e},t){return{point:e,delta:yN(e,c$(t)),offset:yN(e,nW(t)),velocity:iW(t,.1)}}function nW(e){return e[0]}function c$(e){return e[e.length-1]}function iW(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=c$(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>li(t)));)r--;if(!n)return{x:0,y:0};const a=ci(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function aW(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Et(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Et(r,e,n.max):Math.min(e,r)),e}function vN(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function sW(e,{top:t,left:r,bottom:n,right:i}){return{x:vN(e.x,r,i),y:vN(e.y,t,n)}}function xN(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function oW(e,t){return{x:xN(e.x,t.x),y:xN(e.y,t.y)}}function lW(e,t){let r=.5;const n=kr(e),i=kr(t);return i>n?r=Uu(t.min,t.max-n,e.min):n>i&&(r=Uu(e.min,e.max-i,t.min)),Zi(0,1,r)}function cW(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const ex=.35;function uW(e=ex){return e===!1?e=0:e===!0&&(e=ex),{x:bN(e,"left","right"),y:bN(e,"top","bottom")}}function bN(e,t,r){return{min:wN(e,t),max:wN(e,r)}}function wN(e,t){return typeof e=="number"?e:e[t]||0}const dW=new WeakMap;class fW{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=It(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Hd(d).point)},a=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:x}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Pq(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hn(v=>{let p=this.getAxisMotionValue(v).get()||0;if(ui.test(p)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[v];b&&(p=kr(b)*(parseFloat(p)/100))}}this.originPoint[v]=p}),x&&At.postRender(()=>x(d,f)),Xv(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:x,onDrag:g}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=f;if(m&&this.currentDirection===null){this.currentDirection=hW(v),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),g&&g(d,f)},l=(d,f)=>this.stop(d,f),c=()=>hn(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new l$(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:o$(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&At.postRender(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!Of(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=aW(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&$o(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=sW(n.layoutBox,t):this.constraints=!1,this.elastic=uW(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&hn(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=cW(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!$o(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=tW(n,i.root,this.visualElement.getTransformPagePoint());let s=oW(i.layout.layoutBox,a);if(r){const l=r(H9(s));this.hasMutatedConstraints=!!l,l&&(s=t$(l))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=hn(d=>{if(!Of(d,r,this.currentDirection))return;let f=c&&c[d]||{};s&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,x={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Xv(this.visualElement,t),n.start(D_(t,n,0,r,this.visualElement,!1))}stopAnimation(){hn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){hn(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){hn(r=>{const{drag:n}=this.getProps();if(!Of(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:s,max:l}=i.layout.layoutBox[r];a.set(t[r]-Et(s,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!$o(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};hn(s=>{const l=this.getAxisMotionValue(s);if(l&&this.constraints!==!1){const c=l.get();i[s]=lW({min:c,max:c},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),hn(s=>{if(!Of(s,t,null))return;const l=this.getAxisMotionValue(s),{min:c,max:u}=this.constraints[s];l.set(Et(c,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;dW.set(this.visualElement,this);const t=this.visualElement.current,r=su(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();$o(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),At.read(n);const s=Gu(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(hn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{s(),r(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=ex,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:l}}}function Of(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function hW(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class mW extends rs{constructor(t){super(t),this.removeGroupControls=jn,this.removeListeners=jn,this.controls=new fW(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jn}unmount(){this.removeGroupControls(),this.removeListeners()}}const _N=e=>(t,r)=>{e&&At.postRender(()=>e(t,r))};class pW extends rs{constructor(){super(...arguments),this.removePointerDownListener=jn}onPointerDown(t){this.session=new l$(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:o$(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:_N(t),onStart:_N(r),onMove:n,onEnd:(a,s)=>{delete this.session,i&&At.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=su(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const fh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jN(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const kc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Oe.test(e))e=parseFloat(e);else return e;const r=jN(e,t.target.x),n=jN(e,t.target.y);return`${r}% ${n}%`}},gW={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=Xa.parse(e);if(i.length>5)return n;const a=Xa.createTransformer(e),s=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+s]/=l,i[1+s]/=c;const u=Et(l,c,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}};class yW extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;t9(vW),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),fh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,s=n.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==r||r===void 0||t.isPresent!==a?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||At.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),N_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function u$(e){const[t,r]=VB(),n=S.useContext(GT);return o.jsx(yW,{...e,layoutGroup:n,switchLayoutGroup:S.useContext(BM),isPresent:t,safeToRemove:r})}const vW={borderRadius:{...kc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:kc,borderTopRightRadius:kc,borderBottomLeftRadius:kc,borderBottomRightRadius:kc,boxShadow:gW};function xW(e,t,r){const n=br(e)?e:qu(e);return n.start(D_("",n,t,r)),n.animation}function bW(e){return e instanceof SVGElement&&e.tagName!=="svg"}const wW=(e,t)=>e.depth-t.depth;class _W{constructor(){this.children=[],this.isDirty=!1}add(t){o_(this.children,t),this.isDirty=!0}remove(t){l_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(wW),this.isDirty=!1,this.children.forEach(t)}}function jW(e,t){const r=Fr.now(),n=({timestamp:i})=>{const a=i-r;a>=t&&(Ka(n),e(a-t))};return At.setup(n,!0),()=>Ka(n)}const d$=["TopLeft","TopRight","BottomLeft","BottomRight"],SW=d$.length,SN=e=>typeof e=="string"?parseFloat(e):e,NN=e=>typeof e=="number"||Oe.test(e);function NW(e,t,r,n,i,a){i?(e.opacity=Et(0,r.opacity??1,kW(n)),e.opacityExit=Et(t.opacity??1,0,CW(n))):a&&(e.opacity=Et(t.opacity??1,r.opacity??1,n));for(let s=0;s<SW;s++){const l=`border${d$[s]}Radius`;let c=kN(t,l),u=kN(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||NN(c)===NN(u)?(e[l]=Math.max(Et(SN(c),SN(u),n),0),(ui.test(u)||ui.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Et(t.rotate||0,r.rotate||0,n))}function kN(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const kW=f$(0,.5,aM),CW=f$(.5,.95,jn);function f$(e,t,r){return n=>n<e?0:n>t?1:r(Uu(e,t,n))}function CN(e,t){e.min=t.min,e.max=t.max}function un(e,t){CN(e.x,t.x),CN(e.y,t.y)}function EN(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function PN(e,t,r,n,i){return e-=t,e=rm(e,1/r,n),i!==void 0&&(e=rm(e,1/i,n)),e}function EW(e,t=0,r=1,n=.5,i,a=e,s=e){if(ui.test(t)&&(t=parseFloat(t),t=Et(s.min,s.max,t/100)-s.min),typeof t!="number")return;let l=Et(a.min,a.max,n);e===a&&(l-=t),e.min=PN(e.min,t,r,l,i),e.max=PN(e.max,t,r,l,i)}function ON(e,t,[r,n,i],a,s){EW(e,t[r],t[n],t[i],t.scale,a,s)}const PW=["x","scaleX","originX"],OW=["y","scaleY","originY"];function AN(e,t,r,n){ON(e.x,t,PW,r?r.x:void 0,n?n.x:void 0),ON(e.y,t,OW,r?r.y:void 0,n?n.y:void 0)}function TN(e){return e.translate===0&&e.scale===1}function h$(e){return TN(e.x)&&TN(e.y)}function MN(e,t){return e.min===t.min&&e.max===t.max}function AW(e,t){return MN(e.x,t.x)&&MN(e.y,t.y)}function $N(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function m$(e,t){return $N(e.x,t.x)&&$N(e.y,t.y)}function DN(e){return kr(e.x)/kr(e.y)}function IN(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class TW{constructor(){this.members=[]}add(t){o_(this.members,t),t.scheduleRender()}remove(t){if(l_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function MW(e,t,r){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((i||a||s)&&(n=`translate3d(${i}px, ${a}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:x}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const V0=["","X","Y","Z"],$W={visibility:"hidden"},RN=1e3;let DW=0;function q0(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function p$(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=JM(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",At,!(i||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&p$(n)}function g$({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(s={},l=t==null?void 0:t()){this.id=DW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(LW),this.nodes.forEach(VW),this.nodes.forEach(qW),this.nodes.forEach(zW)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new _W)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new d_),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const c=this.eventHandlers.get(s);c&&c.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=bW(s),this.instance=s;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=jW(h,250),fh.hasAnimatedSinceResize&&(fh.hasAnimatedSinceResize=!1,this.nodes.forEach(zN))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||KW,{onLayoutAnimationStart:v,onLayoutAnimationComplete:p}=d.getProps(),y=!this.targetLayout||!m$(this.targetLayout,x),b=!h&&m;if(this.options.layoutRoot||this.resumeFrom||b||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const _={...j_(g,"layout"),onPlay:v,onComplete:p};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else h||zN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ka(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(WW),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&p$(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(LN);return}this.isUpdating||this.nodes.forEach(UW),this.isUpdating=!1,this.nodes.forEach(BW),this.nodes.forEach(IW),this.nodes.forEach(RW),this.clearAllSnapshots();const l=Fr.now();or.delta=Zi(0,1e3/60,l-or.timestamp),or.timestamp=l,or.isProcessing=!0,D0.update.process(or),D0.preRender.process(or),D0.render.process(or),or.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,N_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FW),this.sharedNodes.forEach(HW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,At.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){At.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kr(this.snapshot.measuredBox.x)&&!kr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=It(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!h$(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(l||vs(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return s&&(c=this.removeTransform(c)),XW(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:s}=this.options;if(!s)return It();const l=s.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(JW))){const{scroll:d}=this.root;d&&(Io(l.x,d.offset.x),Io(l.y,d.offset.y))}return l}removeElementScroll(s){var c;const l=It();if(un(l,s),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&un(l,s),Io(l.x,f.offset.x),Io(l.y,f.offset.y))}return l}applyTransform(s,l=!1){const c=It();un(c,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ro(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),vs(d.latestValues)&&Ro(c,d.latestValues)}return vs(this.latestValues)&&Ro(c,this.latestValues),c}removeTransform(s){const l=It();un(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!vs(u.latestValues))continue;Zv(u.latestValues)&&u.updateSnapshot();const d=It(),f=u.measurePageBox();un(d,f),AN(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return vs(this.latestValues)&&AN(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==or.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=or.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),lu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=It(),this.targetWithTransforms=It()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Q9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):un(this.target,this.layout.layoutBox),a$(this.target,this.targetDelta)):un(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),lu(this.relativeTargetOrigin,this.target,m.target),un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Zv(this.parent.latestValues)||i$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===or.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;un(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;eW(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=It());const{target:m}=s;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(EN(this.prevProjectionDelta.x,this.projectionDelta.x),EN(this.prevProjectionDelta.y,this.projectionDelta.y)),ou(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!IN(this.projectionDelta.x,this.prevProjectionDelta.x)||!IN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),s){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Do(),this.projectionDelta=Do(),this.projectionDeltaWithTransform=Do()}setAnimationOrigin(s,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Do();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=It(),m=c?c.source:void 0,x=this.layout?this.layout.source:void 0,g=m!==x,v=this.getStack(),p=!v||v.members.length<=1,y=!!(g&&!p&&this.options.crossfade===!0&&!this.path.some(GW));this.animationProgress=0;let b;this.mixTargetDelta=_=>{const w=_/1e3;FN(f.x,s.x,w),FN(f.y,s.y,w),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lu(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YW(this.relativeTarget,this.relativeTargetOrigin,h,w),b&&AW(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=It()),un(b,this.relativeTarget)),g&&(this.animationValues=d,NW(d,u,this.latestValues,w,y,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ka(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=At.update(()=>{fh.hasAnimatedSinceResize=!0,this.currentAnimation=xW(0,RN,{...s,onUpdate:l=>{this.mixTargetDelta(l),s.onUpdate&&s.onUpdate(l)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(RN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=s;if(!(!l||!c||!u)){if(this!==s&&this.layout&&u&&y$(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||It();const f=kr(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+f;const h=kr(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+h}un(l,c),Ro(l,d),ou(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new TW),this.sharedNodes.get(s).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var l;const{layoutId:s}=this.options;return s?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:s}=this.options;return s?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&q0("z",s,u,this.animationValues);for(let d=0;d<V0.length;d++)q0(`rotate${V0[d]}`,s,u,this.animationValues),q0(`skew${V0[d]}`,s,u,this.animationValues);s.render();for(const d in u)s.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return $W;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=dh(s==null?void 0:s.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=dh(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!vs(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),l.transform=MW(this.projectionDeltaWithTransform,this.treeScale,d),c&&(l.transform=c(d,l.transform));const{x:f,y:h}=this.projectionDelta;l.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,u.animationValues?l.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const m in Hu){if(d[m]===void 0)continue;const{correct:x,applyTo:g,isCSSVariable:v}=Hu[m],p=l.transform==="none"?d[m]:x(d[m],u);if(g){const y=g.length;for(let b=0;b<y;b++)l[g[b]]=p}else v?this.options.visualElement.renderState.vars[m]=p:l[m]=p}return this.options.layoutId&&(l.pointerEvents=u===this?dh(s==null?void 0:s.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var l;return(l=s.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(LN),this.root.sharedNodes.clear()}}}function IW(e){e.updateLayout()}function RW(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,s=t.source!==e.layout.source;a==="size"?hn(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],m=kr(h);h.min=n[f].min,h.max=h.min+m}):y$(a,t.layoutBox,n)&&hn(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],m=kr(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=Do();ou(l,n,t.layoutBox);const c=Do();s?ou(c,e.applyTransform(i,!0),t.measuredBox):ou(c,n,t.layoutBox);const u=!h$(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const x=It();lu(x,t.layoutBox,h.layoutBox);const g=It();lu(g,n,m.layoutBox),m$(x,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=x,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function LW(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function zW(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function FW(e){e.clearSnapshot()}function LN(e){e.clearMeasurements()}function UW(e){e.isLayoutDirty=!1}function BW(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function zN(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function VW(e){e.resolveTargetDelta()}function qW(e){e.calcProjection()}function WW(e){e.resetSkewAndRotation()}function HW(e){e.removeLeadSnapshot()}function FN(e,t,r){e.translate=Et(t.translate,0,r),e.scale=Et(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function UN(e,t,r,n){e.min=Et(t.min,r.min,n),e.max=Et(t.max,r.max,n)}function YW(e,t,r,n){UN(e.x,t.x,r.x,n),UN(e.y,t.y,r.y,n)}function GW(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const KW={duration:.45,ease:[.4,0,.1,1]},BN=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),VN=BN("applewebkit/")&&!BN("chrome/")?Math.round:jn;function qN(e){e.min=VN(e.min),e.max=VN(e.max)}function XW(e){qN(e.x),qN(e.y)}function y$(e,t,r){return e==="position"||e==="preserve-aspect"&&!Z9(DN(t),DN(r),.2)}function JW(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const ZW=g$({attachResizeListener:(e,t)=>Gu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),W0={current:void 0},v$=g$({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!W0.current){const e=new ZW({});e.mount(window),e.setOptions({layoutScroll:!0}),W0.current=e}return W0.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),QW={pan:{Feature:pW},drag:{Feature:mW,ProjectionNode:v$,MeasureLayout:u$}};function WN(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=n[i];a&&At.postRender(()=>a(t,Hd(t)))}class eH extends rs{mount(){const{current:t}=this.node;t&&(this.unmount=Oq(t,(r,n)=>(WN(this.node,n,"Start"),i=>WN(this.node,i,"End"))))}unmount(){}}class tH extends rs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vd(Gu(this.node.current,"focus",()=>this.onFocus()),Gu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function HN(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=n[i];a&&At.postRender(()=>a(t,Hd(t)))}class rH extends rs{mount(){const{current:t}=this.node;t&&(this.unmount=$q(t,(r,n)=>(HN(this.node,n,"Start"),(i,{success:a})=>HN(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const tx=new WeakMap,H0=new WeakMap,nH=e=>{const t=tx.get(e.target);t&&t(e)},iH=e=>{e.forEach(nH)};function aH({root:e,...t}){const r=e||document;H0.has(r)||H0.set(r,{});const n=H0.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(iH,{root:e,...t})),n[i]}function sH(e,t,r){const n=aH(t);return tx.set(e,r),n.observe(e),()=>{tx.delete(e),n.unobserve(e)}}const oH={some:0,all:1};class lH extends rs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:oH[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return sH(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(cH(t,r))&&this.startObserver()}unmount(){}}function cH({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const uH={inView:{Feature:lH},tap:{Feature:rH},focus:{Feature:tH},hover:{Feature:eH}},dH={layout:{ProjectionNode:v$,MeasureLayout:u$}},rx={current:null},x$={current:!1};function fH(){if(x$.current=!0,!!a_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>rx.current=e.matches;e.addListener(t),t()}else rx.current=!1}const hH=new WeakMap;function mH(e,t,r){for(const n in t){const i=t[n],a=r[n];if(br(i))e.addValue(n,i);else if(br(a))e.addValue(n,qu(i,{owner:e}));else if(a!==i)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(n);e.addValue(n,qu(s!==void 0?s:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const YN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pH{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=__,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Fr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,At.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=s;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=Wp(r),this.isVariantNode=FM(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&br(m)&&m.set(c[h],!1)}}mount(t){this.current=t,hH.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),x$.current||fH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),this.projection=void 0,Ka(this.notifyUpdate),Ka(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Ql.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&At.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),a(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in pl){const r=pl[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):It()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<YN.length;n++){const i=YN[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=t[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=mH(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=qu(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(XT(n)||JT(n))?n=parseFloat(n):!Lq(n)&&Xa.test(r)&&(n=MM(t,r)),this.setBaseTarget(t,br(n)?n.get():n)),br(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var a;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=M_(this.props,r,(a=this.presenceContext)==null?void 0:a.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!br(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new d_),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class b$ extends pH{constructor(){super(...arguments),this.KeyframeResolver=Cq}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;br(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function w$(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const a in r)e.style.setProperty(a,r[a])}function gH(e){return window.getComputedStyle(e)}class yH extends b${constructor(){super(...arguments),this.type="html",this.renderInstance=w$}readValueFromInstance(t,r){if(Ql.has(r))return HV(t,r);{const n=gH(t),i=(m_(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return s$(t,r)}build(t,r,n){O_(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return $_(t,r,n)}}const _$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vH(e,t,r,n){w$(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(_$.has(i)?i:P_(i),t.attrs[i])}class xH extends b${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=It}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Ql.has(r)){const n=TM(r);return n&&n.default||0}return r=_$.has(r)?r:P_(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return XM(t,r,n)}build(t,r,n){HM(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,i){vH(t,r,n,i)}mount(t){this.isSVGTag=GM(t.tagName),super.mount(t)}}const bH=(e,t)=>T_(e)?new xH(t):new yH(t,{allowProjection:e!==S.Fragment}),wH=v9({...q9,...uH,...QW,...dH},bH),Hp=Vq(wH),_H=()=>{const[e,t]=S.useState(""),[r,n]=S.useState(""),[i,a]=S.useState(!1),[s,l]=S.useState(!1),[c,u]=S.useState(null),d=dr(),{user:f,isAuthenticated:h,loading:m}=gi();S.useEffect(()=>{if(console.log("Login useEffect: authLoading:",m,"isAuthenticated:",h,"user:",f),!m&&h&&(f!=null&&f.role))switch(console.log("Login useEffect: User already authenticated and role defined, redirecting based on role:",f.role),f.role){case"cliente":d("/dashboard");break;case"admin":d("/admin-dashboard");break;case"veterinario":d("/veterinario-dashboard");break;case"asistente":d("/asistente-dashboard");break;default:console.warn(`Login useEffect: Rol no reconocido para redirección: ${f.role}`),d("/");break}else!m&&h&&!(f!=null&&f.role)?console.warn("Login useEffect: User is authenticated but role is not defined. Cannot redirect based on role."):!m&&!h&&console.log("Login useEffect: Not authenticated, staying on login page.")},[h,f,m,d]);const x=async g=>{if(g.preventDefault(),u(null),!e||!r){u("Por favor, ingresa correo o usuario y contraseña.");return}let v=e;if(!e.includes("@"))try{console.log("Login: Buscando email por nombre de usuario:",e);const{data:y,error:b}=await T.from("users").select("email").eq("nombre",e).single();if(b||!y){u("Usuario no encontrado o error al buscar el email."),console.error("Login: Error fetching user email by name:",b);return}v=y.email,console.log("Login: Email encontrado para el usuario:",v)}catch(y){console.error("Login: Error al buscar email por nombre de usuario:",y.message),u("Error al procesar el usuario. Intenta con tu correo electrónico.");return}console.log("Login: Intentando iniciar sesión con email:",v);const{error:p}=await T.auth.signInWithPassword({email:v,password:r});if(p){console.error("Login: Error de login en Supabase:",p.message),u("Credenciales inválidas. Verifica tu correo/usuario y contraseña.");return}console.log("Login: Inicio de sesión de Supabase exitoso. AuthContext se encargará de la redirección.")};return o.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:o.jsxs(Hp.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md bg-gray-900 rounded-2xl shadow-2xl p-8 space-y-6 text-white",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(yt,{className:"mx-auto h-12 w-12 text-indigo-400"}),o.jsx("h2",{className:"mt-4 text-3xl font-extrabold text-indigo-300",children:"Iniciar Sesión"}),o.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Bienvenido de nuevo a Max's Groomer"})]}),c&&o.jsx("div",{className:"bg-red-200 text-red-800 px-4 py-2 rounded text-sm text-center",children:c}),o.jsxs("form",{className:"space-y-5",onSubmit:x,children:[o.jsx("div",{children:o.jsx("input",{id:"username",type:"text",value:e,onChange:g=>t(g.target.value),className:"w-full px-4 py-3 bg-gray-800 text-white border border-gray-600 rounded-md focus:ring-2 focus:ring-indigo-500 focus:outline-none",placeholder:"Correo o usuario",required:!0})}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:"password",type:i?"text":"password",value:r,onChange:g=>n(g.target.value),onKeyUp:g=>l(g.getModifierState("CapsLock")),className:"w-full px-4 py-3 bg-gray-800 text-white border border-gray-600 rounded-md focus:ring-2 focus:ring-indigo-500 focus:outline-none",placeholder:"Contraseña",required:!0}),o.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-indigo-300",children:i?o.jsx(qh,{size:20}):o.jsx($w,{size:20})})]}),s&&o.jsx("p",{className:"text-sm text-yellow-400",children:"🔒 Mayúsculas activadas"}),o.jsx("div",{className:"text-sm text-right",children:o.jsx(Jr,{to:"/reset-password",className:"text-indigo-400 hover:underline",children:"¿Olvidaste tu contraseña?"})}),o.jsx("button",{type:"submit",className:"w-full bg-indigo-700 hover:bg-indigo-600 text-white py-3 px-4 text-sm font-medium rounded-md transition-colors",children:"Entrar"})]}),o.jsxs("p",{className:"text-center text-sm text-gray-400",children:["¿No tienes cuenta?"," ",o.jsx(Jr,{to:"/register",className:"text-indigo-400 hover:underline font-medium",children:"Regístrate"})]})]})})},ir=[];for(let e=0;e<256;++e)ir.push((e+256).toString(16).slice(1));function jH(e,t=0){return(ir[e[t+0]]+ir[e[t+1]]+ir[e[t+2]]+ir[e[t+3]]+"-"+ir[e[t+4]]+ir[e[t+5]]+"-"+ir[e[t+6]]+ir[e[t+7]]+"-"+ir[e[t+8]]+ir[e[t+9]]+"-"+ir[e[t+10]]+ir[e[t+11]]+ir[e[t+12]]+ir[e[t+13]]+ir[e[t+14]]+ir[e[t+15]]).toLowerCase()}let Y0;const SH=new Uint8Array(16);function NH(){if(!Y0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Y0=crypto.getRandomValues.bind(crypto)}return Y0(SH)}const kH=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),GN={randomUUID:kH};function qa(e,t,r){var i;if(GN.randomUUID&&!e)return GN.randomUUID();e=e||{};const n=e.random??((i=e.rng)==null?void 0:i.call(e))??NH();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,jH(n)}const I_="vetClinicAppointments",Yp=()=>{const e=localStorage.getItem(I_);if(e)try{return JSON.parse(e)}catch(t){return console.error("Failed to parse appointments from localStorage",t),[]}return[]},Gp=e=>{localStorage.setItem(I_,JSON.stringify(e))},CH=()=>Yp(),EH=e=>{const t=Yp(),r={...e,id:qa()},n=[...t,r];return Gp(n),r},PH=e=>{const t=Yp(),r=t.findIndex(n=>n.id===e.id);return r!==-1?(t[r]=e,Gp(t),!0):!1},OH=e=>{const t=Yp(),r=t.length,n=t.filter(i=>i.id!==e);return n.length<r?(Gp(n),!0):!1};if(!localStorage.getItem(I_)){const e=[{id:qa(),date:"2024-08-01",time:"10:00",petName:"Buddy",clientName:"John Doe",service:"Grooming",status:"scheduled"},{id:qa(),date:"2024-08-01",time:"11:30",petName:"Lucy",clientName:"Jane Smith",service:"Vaccination",status:"scheduled"},{id:qa(),date:"2024-07-29",time:"14:00",petName:"Max",clientName:"Peter Jones",service:"Check-up",status:"completed"}];Gp(e)}const AH=()=>{const[e,t]=S.useState([]),[r,n]=S.useState(!1),[i,a]=S.useState(null),[s,l]=S.useState({date:"",time:"",petName:"",clientName:"",service:"",notes:""});S.useEffect(()=>{c()},[]);const c=()=>{const v=CH();v.sort((p,y)=>{const b=p.date.localeCompare(y.date);return b!==0?b:p.time.localeCompare(y.time)}),t(v)},u=v=>{const{name:p,value:y}=v.target;l(b=>({...b,[p]:y}))},d=()=>{l({date:"",time:"",petName:"",clientName:"",service:"",notes:""}),a(null),n(!1)},f=v=>{var p;if(v.preventDefault(),i){const y={...s,id:i,status:((p=e.find(_=>_.id===i))==null?void 0:p.status)||"scheduled"};PH(y)?(c(),d()):alert("Error al actualizar la cita.")}else{const y={...s,status:"scheduled"};EH(y),c(),d()}},h=v=>{a(v.id),l({date:v.date,time:v.time,petName:v.petName,clientName:v.clientName,service:v.service,notes:v.notes||""}),n(!0)},m=v=>{window.confirm("¿Estás seguro de que quieres eliminar esta cita?")&&(OH(v)?c():alert("Error al eliminar la cita."))},x=()=>{d()},g=()=>{r&&i?d():(n(!r),r||(a(null),l({date:"",time:"",petName:"",clientName:"",service:"",notes:""})))};return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Gestión de Citas"}),o.jsxs("button",{onClick:g,className:"flex items-center bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded transition duration-150 ease-in-out",children:[o.jsx(Wt,{className:"w-5 h-5 mr-2"}),r?i?"Cancelar Edición":"Cancelar":"Añadir Cita"]})]}),r&&o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-700",children:i?"Editar Cita":"Añadir Nueva Cita"}),o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha"}),o.jsx("input",{type:"date",id:"date",name:"date",value:s.date,onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"time",className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora"}),o.jsx("input",{type:"time",id:"time",name:"time",value:s.time,onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"petName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre Mascota"}),o.jsx("input",{type:"text",id:"petName",name:"petName",value:s.petName,onChange:u,required:!0,placeholder:"Ej: Buddy",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"clientName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre Cliente"}),o.jsx("input",{type:"text",id:"clientName",name:"clientName",value:s.clientName,onChange:u,required:!0,placeholder:"Ej: John Doe",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"service",className:"block text-sm font-medium text-gray-700 mb-1",children:"Servicio"}),o.jsx("input",{type:"text",id:"service",name:"service",value:s.service,onChange:u,required:!0,placeholder:"Ej: Peluquería, Vacunación",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas (Opcional)"}),o.jsx("textarea",{id:"notes",name:"notes",rows:3,value:s.notes,onChange:u,placeholder:"Alergias conocidas, comportamiento, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:i?"Actualizar Cita":"Guardar Cita"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[o.jsx("h2",{className:"text-xl font-semibold p-4 border-b border-gray-200 text-gray-700",children:"Lista de Citas"}),e.length===0?o.jsx("p",{className:"p-4 text-gray-500",children:"No hay citas programadas."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hora"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mascota"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Servicio"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(v=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.date}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.time}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.petName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.clientName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.service}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${v.status==="scheduled"?"bg-blue-100 text-blue-800":v.status==="completed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.status==="scheduled"?"Programada":v.status==="completed"?"Completada":"Cancelada"})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[o.jsx("button",{onClick:()=>h(v),className:"text-indigo-600 hover:text-indigo-900",title:"Editar",children:o.jsx(_n,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>m(v.id),className:"text-red-600 hover:text-red-900",title:"Eliminar",children:o.jsx(wr,{className:"w-4 h-4"})})]})]},v.id))})]})})]})]})},j$="patients",Kp=()=>{const e=localStorage.getItem(j$);if(!e)return[];try{return JSON.parse(e)}catch(t){return console.error("Error parsing patients from localStorage",t),[]}},R_=e=>{try{localStorage.setItem(j$,JSON.stringify(e))}catch(t){console.error("Error saving patients to localStorage",t)}},S$=()=>Kp(),TH=e=>{const t=Kp(),r={id:qa(),...e},n=[...t,r];return R_(n),r},MH=(e,t)=>{const r=Kp(),n=r.findIndex(a=>a.id===e);if(n===-1){console.warn(`Patient with id ${e} not found for update.`);return}const i={...r[n],...t,id:r[n].id};return r[n]=i,R_(r),i},$H=e=>{const t=Kp(),r=t.length,n=t.filter(i=>i.id!==e);return n.length<r?(R_(n),!0):(console.warn(`Patient with id ${e} not found for deletion.`),!1)},DH=()=>{const{user:e}=gi(),[t,r]=S.useState([]),[n,i]=S.useState(!0),[a,s]=S.useState(null);S.useEffect(()=>{if((e==null?void 0:e.role)==="client"&&e.username){i(!0),s(null);try{const u=S$().filter(d=>d.ownerName.toLowerCase()===e.username.toLowerCase());r(u)}catch(c){console.error("Error fetching pets for client:",c),s("No se pudo cargar la lista de mascotas.")}finally{i(!1)}}else i(!1),r([])},[e]);const l=c=>{if(!c)return"N/A";try{const u=c.split("-");if(u.length===3){const d=parseInt(u[0],10),f=parseInt(u[1],10)-1,h=parseInt(u[2],10),m=new Date(Date.UTC(d,f,h));return isNaN(m.getTime())?"Fecha inválida":m.toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:"UTC"})}return"Formato inválido"}catch{return"Fecha inválida"}};return(e==null?void 0:e.role)!=="client"?o.jsxs("div",{className:"p-6 text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Mis Mascotas"}),o.jsx("p",{className:"text-gray-600",children:"Esta sección es exclusiva para clientes."})]}):o.jsxs("div",{className:"p-6",children:[o.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Mis Mascotas"}),a&&o.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded text-sm",children:a}),n?o.jsx("p",{className:"text-center text-gray-500",children:"Cargando tus mascotas..."}):t.length===0?o.jsxs("div",{className:"text-center p-6 bg-white rounded shadow",children:[o.jsx(yt,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Aún no tienes mascotas registradas en nuestra clínica."}),o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Contacta con nosotros para añadir a tu compañero."})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(c=>o.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-200",children:o.jsxs("div",{className:"p-5",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx(yt,{className:"text-indigo-500 mr-3",size:24}),o.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:c.name})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("strong",{className:"font-medium text-gray-700",children:"Especie:"})," ",c.species]}),o.jsxs("p",{children:[o.jsx("strong",{className:"font-medium text-gray-700",children:"Raza:"})," ",c.breed]}),o.jsxs("p",{children:[o.jsx("strong",{className:"font-medium text-gray-700",children:"Fecha de Nacimiento:"})," ",l(c.dob)]})]})]})},c.id))})]})},IH=({isOpen:e,onClose:t,onSave:r,patientToEdit:n})=>{const i={name:"",species:"",breed:"",ownerName:"",dob:""},[a,s]=S.useState(i),[l,c]=S.useState({});S.useEffect(()=>{e&&(s(n?{name:n.name,species:n.species,breed:n.breed,ownerName:n.ownerName,dob:n.dob||""}:i),c({}))},[n,e]);const u=h=>{const{name:m,value:x}=h.target;s(g=>({...g,[m]:x})),l[m]&&c(g=>({...g,[m]:""}))},d=()=>{const h={};return a.name.trim()||(h.name="El nombre es obligatorio."),a.species.trim()||(h.species="La especie es obligatoria."),a.breed.trim()||(h.breed="La raza es obligatoria."),a.ownerName.trim()||(h.ownerName="El nombre del propietario es obligatorio."),a.dob&&!/^\d{4}-\d{2}-\d{2}$/.test(a.dob)&&(h.dob="Formato de fecha inválido (AAAA-MM-DD)."),c(h),Object.keys(h).length===0},f=h=>{h.preventDefault(),d()&&r(n?{...a,id:n.id}:a)};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[o.jsx("h2",{className:"text-xl font-semibold",children:n?"Editar Paciente":"Nuevo Paciente"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx(Ap,{size:24})})]}),o.jsxs("form",{onSubmit:f,children:[o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del Paciente"}),o.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:u,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${l.name?"border-red-500":"border-gray-300"}`}),l.name&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.name})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"species",className:"block text-sm font-medium text-gray-700 mb-1",children:"Especie"}),o.jsx("input",{type:"text",id:"species",name:"species",value:a.species,onChange:u,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${l.species?"border-red-500":"border-gray-300"}`}),l.species&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.species})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"breed",className:"block text-sm font-medium text-gray-700 mb-1",children:"Raza"}),o.jsx("input",{type:"text",id:"breed",name:"breed",value:a.breed,onChange:u,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${l.breed?"border-red-500":"border-gray-300"}`}),l.breed&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.breed})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"ownerName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del Propietario"}),o.jsx("input",{type:"text",id:"ownerName",name:"ownerName",value:a.ownerName,onChange:u,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${l.ownerName?"border-red-500":"border-gray-300"}`}),l.ownerName&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.ownerName})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"dob",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Nacimiento (Opcional)"}),o.jsx("input",{type:"date",id:"dob",name:"dob",value:a.dob,onChange:u,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 ${l.dob?"border-red-500":"border-gray-300"}`,placeholder:"AAAA-MM-DD"}),l.dob&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:l.dob})]})]}),o.jsxs("div",{className:"flex justify-end p-4 border-t bg-gray-50 rounded-b-lg",children:[o.jsx("button",{type:"button",onClick:t,className:"mr-2 px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Guardar"})]})]})]})}):null},RH=()=>{const[e,t]=S.useState([]),[r,n]=S.useState(!0),[i,a]=S.useState(null),[s,l]=S.useState(!1),[c,u]=S.useState(null);S.useEffect(()=>{d()},[]);const d=()=>{n(!0),a(null);try{const v=S$();t(v)}catch(v){console.error("Error fetching patients:",v),a("No se pudo cargar la lista de pacientes.")}finally{n(!1)}},f=()=>{u(null),l(!0)},h=v=>{u(v),l(!0)},m=v=>{if(a(null),window.confirm("¿Estás seguro de que quieres eliminar este paciente?"))try{$H(v)?t(e.filter(y=>y.id!==v)):a("No se pudo encontrar o eliminar el paciente.")}catch(p){console.error("Error deleting patient:",p),a("No se pudo eliminar el paciente.")}},x=v=>{a(null);try{let p;"id"in v?(p=MH(v.id,v),p?t(e.map(y=>y.id===p.id?p:y)):a("No se pudo actualizar el paciente.")):(p=TH(v),t([...e,p])),l(!1)}catch(p){console.error("Error saving patient:",p),a("No se pudo guardar el paciente.")}},g=v=>{if(!v)return"N/A";try{const p=v.split("-");if(p.length===3){const y=parseInt(p[0],10),b=parseInt(p[1],10)-1,_=parseInt(p[2],10),w=new Date(Date.UTC(y,b,_));return isNaN(w.getTime())?"Fecha inválida":w.toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:"UTC"})}return"Formato inválido"}catch(p){return console.error("Error formatting date:",p),"Fecha inválida"}};return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Gestión de Pacientes"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Administra la información de los pacientes"})]}),o.jsxs("button",{onClick:f,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded inline-flex items-center transition duration-150 ease-in-out",children:[o.jsx(Xo,{size:18,className:"mr-2"}),"Añadir Paciente"]})]}),i&&o.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded text-sm",children:i}),r?o.jsx("p",{className:"text-center text-gray-500",children:"Cargando pacientes..."}):o.jsx("div",{className:"bg-white shadow rounded-lg overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Especie"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Raza"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Propietario"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"F. Nacimiento"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No hay pacientes registrados."})}):e.map(v=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:v.name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.species}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.breed}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.ownerName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g(v.dob)}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[o.jsx("button",{onClick:()=>h(v),className:"text-indigo-600 hover:text-indigo-900",title:"Editar",children:o.jsx(_n,{size:18})}),o.jsx("button",{onClick:()=>m(v.id),className:"text-red-600 hover:text-red-900",title:"Eliminar",children:o.jsx(wr,{size:18})})]})]},v.id))})]})}),o.jsx(IH,{isOpen:s,onClose:()=>l(!1),onSave:x,patientToEdit:c})]})};function N$(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=N$(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Be(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=N$(e))&&(n&&(n+=" "),n+=t);return n}var LH=Array.isArray,Wr=LH,zH=typeof lr=="object"&&lr&&lr.Object===Object&&lr,k$=zH,FH=k$,UH=typeof self=="object"&&self&&self.Object===Object&&self,BH=FH||UH||Function("return this")(),xi=BH,VH=xi,qH=VH.Symbol,Yd=qH,KN=Yd,C$=Object.prototype,WH=C$.hasOwnProperty,HH=C$.toString,Cc=KN?KN.toStringTag:void 0;function YH(e){var t=WH.call(e,Cc),r=e[Cc];try{e[Cc]=void 0;var n=!0}catch{}var i=HH.call(e);return n&&(t?e[Cc]=r:delete e[Cc]),i}var GH=YH,KH=Object.prototype,XH=KH.toString;function JH(e){return XH.call(e)}var ZH=JH,XN=Yd,QH=GH,eY=ZH,tY="[object Null]",rY="[object Undefined]",JN=XN?XN.toStringTag:void 0;function nY(e){return e==null?e===void 0?rY:tY:JN&&JN in Object(e)?QH(e):eY(e)}var la=nY;function iY(e){return e!=null&&typeof e=="object"}var ca=iY,aY=la,sY=ca,oY="[object Symbol]";function lY(e){return typeof e=="symbol"||sY(e)&&aY(e)==oY}var ec=lY,cY=Wr,uY=ec,dY=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fY=/^\w*$/;function hY(e,t){if(cY(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||uY(e)?!0:fY.test(e)||!dY.test(e)||t!=null&&e in Object(t)}var L_=hY;function mY(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ns=mY;const tc=nt(ns);var pY=la,gY=ns,yY="[object AsyncFunction]",vY="[object Function]",xY="[object GeneratorFunction]",bY="[object Proxy]";function wY(e){if(!gY(e))return!1;var t=pY(e);return t==vY||t==xY||t==yY||t==bY}var z_=wY;const Te=nt(z_);var _Y=xi,jY=_Y["__core-js_shared__"],SY=jY,G0=SY,ZN=function(){var e=/[^.]+$/.exec(G0&&G0.keys&&G0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function NY(e){return!!ZN&&ZN in e}var kY=NY,CY=Function.prototype,EY=CY.toString;function PY(e){if(e!=null){try{return EY.call(e)}catch{}try{return e+""}catch{}}return""}var E$=PY,OY=z_,AY=kY,TY=ns,MY=E$,$Y=/[\\^$.*+?()[\]{}|]/g,DY=/^\[object .+?Constructor\]$/,IY=Function.prototype,RY=Object.prototype,LY=IY.toString,zY=RY.hasOwnProperty,FY=RegExp("^"+LY.call(zY).replace($Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function UY(e){if(!TY(e)||AY(e))return!1;var t=OY(e)?FY:DY;return t.test(MY(e))}var BY=UY;function VY(e,t){return e==null?void 0:e[t]}var qY=VY,WY=BY,HY=qY;function YY(e,t){var r=HY(e,t);return WY(r)?r:void 0}var no=YY,GY=no,KY=GY(Object,"create"),Xp=KY,QN=Xp;function XY(){this.__data__=QN?QN(null):{},this.size=0}var JY=XY;function ZY(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var QY=ZY,eG=Xp,tG="__lodash_hash_undefined__",rG=Object.prototype,nG=rG.hasOwnProperty;function iG(e){var t=this.__data__;if(eG){var r=t[e];return r===tG?void 0:r}return nG.call(t,e)?t[e]:void 0}var aG=iG,sG=Xp,oG=Object.prototype,lG=oG.hasOwnProperty;function cG(e){var t=this.__data__;return sG?t[e]!==void 0:lG.call(t,e)}var uG=cG,dG=Xp,fG="__lodash_hash_undefined__";function hG(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=dG&&t===void 0?fG:t,this}var mG=hG,pG=JY,gG=QY,yG=aG,vG=uG,xG=mG;function rc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}rc.prototype.clear=pG;rc.prototype.delete=gG;rc.prototype.get=yG;rc.prototype.has=vG;rc.prototype.set=xG;var bG=rc;function wG(){this.__data__=[],this.size=0}var _G=wG;function jG(e,t){return e===t||e!==e&&t!==t}var F_=jG,SG=F_;function NG(e,t){for(var r=e.length;r--;)if(SG(e[r][0],t))return r;return-1}var Jp=NG,kG=Jp,CG=Array.prototype,EG=CG.splice;function PG(e){var t=this.__data__,r=kG(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():EG.call(t,r,1),--this.size,!0}var OG=PG,AG=Jp;function TG(e){var t=this.__data__,r=AG(t,e);return r<0?void 0:t[r][1]}var MG=TG,$G=Jp;function DG(e){return $G(this.__data__,e)>-1}var IG=DG,RG=Jp;function LG(e,t){var r=this.__data__,n=RG(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var zG=LG,FG=_G,UG=OG,BG=MG,VG=IG,qG=zG;function nc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}nc.prototype.clear=FG;nc.prototype.delete=UG;nc.prototype.get=BG;nc.prototype.has=VG;nc.prototype.set=qG;var Zp=nc,WG=no,HG=xi,YG=WG(HG,"Map"),U_=YG,e2=bG,GG=Zp,KG=U_;function XG(){this.size=0,this.__data__={hash:new e2,map:new(KG||GG),string:new e2}}var JG=XG;function ZG(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var QG=ZG,eK=QG;function tK(e,t){var r=e.__data__;return eK(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Qp=tK,rK=Qp;function nK(e){var t=rK(this,e).delete(e);return this.size-=t?1:0,t}var iK=nK,aK=Qp;function sK(e){return aK(this,e).get(e)}var oK=sK,lK=Qp;function cK(e){return lK(this,e).has(e)}var uK=cK,dK=Qp;function fK(e,t){var r=dK(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var hK=fK,mK=JG,pK=iK,gK=oK,yK=uK,vK=hK;function ic(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ic.prototype.clear=mK;ic.prototype.delete=pK;ic.prototype.get=gK;ic.prototype.has=yK;ic.prototype.set=vK;var B_=ic,P$=B_,xK="Expected a function";function V_(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(xK);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(V_.Cache||P$),r}V_.Cache=P$;var O$=V_;const bK=nt(O$);var wK=O$,_K=500;function jK(e){var t=wK(e,function(n){return r.size===_K&&r.clear(),n}),r=t.cache;return t}var SK=jK,NK=SK,kK=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,CK=/\\(\\)?/g,EK=NK(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(kK,function(r,n,i,a){t.push(i?a.replace(CK,"$1"):n||r)}),t}),PK=EK;function OK(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var q_=OK,t2=Yd,AK=q_,TK=Wr,MK=ec,r2=t2?t2.prototype:void 0,n2=r2?r2.toString:void 0;function A$(e){if(typeof e=="string")return e;if(TK(e))return AK(e,A$)+"";if(MK(e))return n2?n2.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var $K=A$,DK=$K;function IK(e){return e==null?"":DK(e)}var T$=IK,RK=Wr,LK=L_,zK=PK,FK=T$;function UK(e,t){return RK(e)?e:LK(e,t)?[e]:zK(FK(e))}var M$=UK,BK=ec;function VK(e){if(typeof e=="string"||BK(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var eg=VK,qK=M$,WK=eg;function HK(e,t){t=qK(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[WK(t[r++])];return r&&r==n?e:void 0}var W_=HK,YK=W_;function GK(e,t,r){var n=e==null?void 0:YK(e,t);return n===void 0?r:n}var $$=GK;const rn=nt($$);function KK(e){return e==null}var XK=KK;const qe=nt(XK);var JK=la,ZK=Wr,QK=ca,eX="[object String]";function tX(e){return typeof e=="string"||!ZK(e)&&QK(e)&&JK(e)==eX}var rX=tX;const Hs=nt(rX);var D$={exports:{}},st={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_=Symbol.for("react.element"),Y_=Symbol.for("react.portal"),tg=Symbol.for("react.fragment"),rg=Symbol.for("react.strict_mode"),ng=Symbol.for("react.profiler"),ig=Symbol.for("react.provider"),ag=Symbol.for("react.context"),nX=Symbol.for("react.server_context"),sg=Symbol.for("react.forward_ref"),og=Symbol.for("react.suspense"),lg=Symbol.for("react.suspense_list"),cg=Symbol.for("react.memo"),ug=Symbol.for("react.lazy"),iX=Symbol.for("react.offscreen"),I$;I$=Symbol.for("react.module.reference");function On(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case H_:switch(e=e.type,e){case tg:case ng:case rg:case og:case lg:return e;default:switch(e=e&&e.$$typeof,e){case nX:case ag:case sg:case ug:case cg:case ig:return e;default:return t}}case Y_:return t}}}st.ContextConsumer=ag;st.ContextProvider=ig;st.Element=H_;st.ForwardRef=sg;st.Fragment=tg;st.Lazy=ug;st.Memo=cg;st.Portal=Y_;st.Profiler=ng;st.StrictMode=rg;st.Suspense=og;st.SuspenseList=lg;st.isAsyncMode=function(){return!1};st.isConcurrentMode=function(){return!1};st.isContextConsumer=function(e){return On(e)===ag};st.isContextProvider=function(e){return On(e)===ig};st.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===H_};st.isForwardRef=function(e){return On(e)===sg};st.isFragment=function(e){return On(e)===tg};st.isLazy=function(e){return On(e)===ug};st.isMemo=function(e){return On(e)===cg};st.isPortal=function(e){return On(e)===Y_};st.isProfiler=function(e){return On(e)===ng};st.isStrictMode=function(e){return On(e)===rg};st.isSuspense=function(e){return On(e)===og};st.isSuspenseList=function(e){return On(e)===lg};st.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===tg||e===ng||e===rg||e===og||e===lg||e===iX||typeof e=="object"&&e!==null&&(e.$$typeof===ug||e.$$typeof===cg||e.$$typeof===ig||e.$$typeof===ag||e.$$typeof===sg||e.$$typeof===I$||e.getModuleId!==void 0)};st.typeOf=On;D$.exports=st;var aX=D$.exports,sX=la,oX=ca,lX="[object Number]";function cX(e){return typeof e=="number"||oX(e)&&sX(e)==lX}var R$=cX;const uX=nt(R$);var dX=R$;function fX(e){return dX(e)&&e!=+e}var hX=fX;const Gd=nt(hX);var Cr=function(t){return t===0?0:t>0?1:-1},Os=function(t){return Hs(t)&&t.indexOf("%")===t.length-1},pe=function(t){return uX(t)&&!Gd(t)},Kt=function(t){return pe(t)||Hs(t)},mX=0,Kd=function(t){var r=++mX;return"".concat(t||"").concat(r)},Er=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(t)&&!Hs(t))return n;var a;if(Os(t)){var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return Gd(a)&&(a=n),i&&a>r&&(a=r),a},ka=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},pX=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},wa=function(t,r){return pe(t)&&pe(r)?function(n){return t+n*(r-t)}:function(){return r}};function nx(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):rn(n,t))===r})}var gX=function(t,r){return pe(t)&&pe(r)?t-r:Hs(t)&&Hs(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function el(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function ix(e){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ix(e)}var yX=["viewBox","children"],vX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],i2=["points","pathLength"],K0={svg:yX,polygon:i2,polyline:i2},G_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],nm=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),!tc(n))return null;var i={};return Object.keys(n).forEach(function(a){G_.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},xX=function(t,r,n){return function(i){return t(r,n,i),null}},Ys=function(t,r,n){if(!tc(t)||ix(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var s=t[a];G_.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=xX(s,r,n))}),i},bX=["children"],wX=["children"];function a2(e,t){if(e==null)return{};var r=_X(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _X(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var s2={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},qi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},o2=null,X0=null,K_=function e(t){if(t===o2&&Array.isArray(X0))return X0;var r=[];return S.Children.forEach(t,function(n){qe(n)||(aX.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),X0=r,o2=t,r};function Sn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return qi(i)}):n=[qi(t)],K_(e).forEach(function(i){var a=rn(i,"type.displayName")||rn(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Kr(e,t){var r=Sn(e,t);return r&&r[0]}var l2=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!pe(n)||n<=0||!pe(i)||i<=0)},jX=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],SX=function(t){return t&&t.type&&Hs(t.type)&&jX.indexOf(t.type)>=0},NX=function(t,r,n,i){var a,s=(a=K0==null?void 0:K0[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Te(t)&&(i&&s.includes(r)||vX.includes(r))||n&&G_.includes(r)},Ae=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(S.isValidElement(t)&&(i=t.props),!tc(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;NX((l=i)===null||l===void 0?void 0:l[s],s,r,n)&&(a[s]=i[s])}),a},ax=function e(t,r){if(t===r)return!0;var n=S.Children.count(t);if(n!==S.Children.count(r))return!1;if(n===0)return!0;if(n===1)return c2(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!c2(a,s))return!1}return!0},c2=function(t,r){if(qe(t)&&qe(r))return!0;if(!qe(t)&&!qe(r)){var n=t.props||{},i=n.children,a=a2(n,bX),s=r.props||{},l=s.children,c=a2(s,wX);return i&&l?el(a,c)&&ax(i,l):!i&&!l?el(a,c):!1}return!1},u2=function(t,r){var n=[],i={};return K_(t).forEach(function(a,s){if(SX(a))n.push(a);else if(a){var l=qi(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(a,l,s);n.push(f),i[l]=!0}}}),n},kX=function(t){var r=t&&t.type;return r&&s2[r]?s2[r]:null},CX=function(t,r){return K_(r).indexOf(t)},EX=["children","width","height","viewBox","className","style","title","desc"];function sx(){return sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sx.apply(this,arguments)}function PX(e,t){if(e==null)return{};var r=OX(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ox(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,s=e.style,l=e.title,c=e.desc,u=PX(e,EX),d=i||{width:r,height:n,x:0,y:0},f=Be("recharts-surface",a);return z.createElement("svg",sx({},Ae(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),z.createElement("title",null,l),z.createElement("desc",null,c),t)}var AX=["children","className"];function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lx.apply(this,arguments)}function TX(e,t){if(e==null)return{};var r=MX(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var it=z.forwardRef(function(e,t){var r=e.children,n=e.className,i=TX(e,AX),a=Be("recharts-layer",n);return z.createElement("g",lx({className:a},Ae(i,!0),{ref:t}),r)}),Hn=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function $X(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var DX=$X,IX=DX;function RX(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:IX(e,t,r)}var LX=RX,zX="\\ud800-\\udfff",FX="\\u0300-\\u036f",UX="\\ufe20-\\ufe2f",BX="\\u20d0-\\u20ff",VX=FX+UX+BX,qX="\\ufe0e\\ufe0f",WX="\\u200d",HX=RegExp("["+WX+zX+VX+qX+"]");function YX(e){return HX.test(e)}var L$=YX;function GX(e){return e.split("")}var KX=GX,z$="\\ud800-\\udfff",XX="\\u0300-\\u036f",JX="\\ufe20-\\ufe2f",ZX="\\u20d0-\\u20ff",QX=XX+JX+ZX,eJ="\\ufe0e\\ufe0f",tJ="["+z$+"]",cx="["+QX+"]",ux="\\ud83c[\\udffb-\\udfff]",rJ="(?:"+cx+"|"+ux+")",F$="[^"+z$+"]",U$="(?:\\ud83c[\\udde6-\\uddff]){2}",B$="[\\ud800-\\udbff][\\udc00-\\udfff]",nJ="\\u200d",V$=rJ+"?",q$="["+eJ+"]?",iJ="(?:"+nJ+"(?:"+[F$,U$,B$].join("|")+")"+q$+V$+")*",aJ=q$+V$+iJ,sJ="(?:"+[F$+cx+"?",cx,U$,B$,tJ].join("|")+")",oJ=RegExp(ux+"(?="+ux+")|"+sJ+aJ,"g");function lJ(e){return e.match(oJ)||[]}var cJ=lJ,uJ=KX,dJ=L$,fJ=cJ;function hJ(e){return dJ(e)?fJ(e):uJ(e)}var mJ=hJ,pJ=LX,gJ=L$,yJ=mJ,vJ=T$;function xJ(e){return function(t){t=vJ(t);var r=gJ(t)?yJ(t):void 0,n=r?r[0]:t.charAt(0),i=r?pJ(r,1).join(""):t.slice(1);return n[e]()+i}}var bJ=xJ,wJ=bJ,_J=wJ("toUpperCase"),jJ=_J;const dg=nt(jJ);function mt(e){return function(){return e}}const W$=Math.cos,im=Math.sin,Jn=Math.sqrt,am=Math.PI,fg=2*am,dx=Math.PI,fx=2*dx,xs=1e-6,SJ=fx-xs;function H$(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function NJ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return H$;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class kJ{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?H$:NJ(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=n-t,u=i-r,d=s-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>xs)if(!(Math.abs(f*c-u*d)>xs)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,x=i-l,g=c*c+u*u,v=m*m+x*x,p=Math.sqrt(g),y=Math.sqrt(h),b=a*Math.tan((dx-Math.acos((g+h-v)/(2*p*y)))/2),_=b/y,w=b/p;Math.abs(_-1)>xs&&this._append`L${t+_*d},${r+_*f}`,this._append`A${a},${a},0,0,${+(f*m>d*x)},${this._x1=t+w*c},${this._y1=r+w*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>xs||Math.abs(this._y1-d)>xs)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%fx+fx),h>SJ?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>xs&&this._append`A${n},${n},0,${+(h>=dx)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function X_(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new kJ(t)}function J_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Y$(e){this._context=e}Y$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function hg(e){return new Y$(e)}function G$(e){return e[0]}function K$(e){return e[1]}function X$(e,t){var r=mt(!0),n=null,i=hg,a=null,s=X_(l);e=typeof e=="function"?e:e===void 0?G$:mt(e),t=typeof t=="function"?t:t===void 0?K$:mt(t);function l(c){var u,d=(c=J_(c)).length,f,h=!1,m;for(n==null&&(a=i(m=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:mt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:mt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:mt(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function Af(e,t,r){var n=null,i=mt(!0),a=null,s=hg,l=null,c=X_(u);e=typeof e=="function"?e:e===void 0?G$:mt(+e),t=typeof t=="function"?t:mt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?K$:mt(+r);function u(f){var h,m,x,g=(f=J_(f)).length,v,p=!1,y,b=new Array(g),_=new Array(g);for(a==null&&(l=s(y=c())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===p)if(p=!p)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=h-1;x>=m;--x)l.point(b[x],_[x]);l.lineEnd(),l.areaEnd()}p&&(b[h]=+e(v,h,f),_[h]=+t(v,h,f),l.point(n?+n(v,h,f):b[h],r?+r(v,h,f):_[h]))}if(y)return l=null,y+""||null}function d(){return X$().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:mt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:mt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:mt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:mt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:mt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:mt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:mt(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(l=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=l=null:l=s(a=f),u):a},u}class J${constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function CJ(e){return new J$(e,!0)}function EJ(e){return new J$(e,!1)}const Z_={draw(e,t){const r=Jn(t/am);e.moveTo(r,0),e.arc(0,0,r,0,fg)}},PJ={draw(e,t){const r=Jn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Z$=Jn(1/3),OJ=Z$*2,AJ={draw(e,t){const r=Jn(t/OJ),n=r*Z$;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},TJ={draw(e,t){const r=Jn(t),n=-r/2;e.rect(n,n,r,r)}},MJ=.8908130915292852,Q$=im(am/10)/im(7*am/10),$J=im(fg/10)*Q$,DJ=-W$(fg/10)*Q$,IJ={draw(e,t){const r=Jn(t*MJ),n=$J*r,i=DJ*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=fg*a/5,l=W$(s),c=im(s);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},J0=Jn(3),RJ={draw(e,t){const r=-Jn(t/(J0*3));e.moveTo(0,r*2),e.lineTo(-J0*r,-r),e.lineTo(J0*r,-r),e.closePath()}},dn=-.5,fn=Jn(3)/2,hx=1/Jn(12),LJ=(hx/2+1)*3,zJ={draw(e,t){const r=Jn(t/LJ),n=r/2,i=r*hx,a=n,s=r*hx+r,l=-a,c=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(l,c),e.lineTo(dn*n-fn*i,fn*n+dn*i),e.lineTo(dn*a-fn*s,fn*a+dn*s),e.lineTo(dn*l-fn*c,fn*l+dn*c),e.lineTo(dn*n+fn*i,dn*i-fn*n),e.lineTo(dn*a+fn*s,dn*s-fn*a),e.lineTo(dn*l+fn*c,dn*c-fn*l),e.closePath()}};function FJ(e,t){let r=null,n=X_(i);e=typeof e=="function"?e:mt(e||Z_),t=typeof t=="function"?t:mt(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:mt(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:mt(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function sm(){}function om(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function eD(e){this._context=e}eD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:om(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:om(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UJ(e){return new eD(e)}function tD(e){this._context=e}tD.prototype={areaStart:sm,areaEnd:sm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:om(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function BJ(e){return new tD(e)}function rD(e){this._context=e}rD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:om(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function VJ(e){return new rD(e)}function nD(e){this._context=e}nD.prototype={areaStart:sm,areaEnd:sm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function qJ(e){return new nD(e)}function d2(e){return e<0?-1:1}function f2(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),l=(a*i+s*n)/(n+i);return(d2(a)+d2(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function h2(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Z0(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,i+l*t,a-l,s-l*r,a,s)}function lm(e){this._context=e}lm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Z0(this,this._t0,h2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Z0(this,h2(this,r=f2(this,e,t)),r);break;default:Z0(this,this._t0,r=f2(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function iD(e){this._context=new aD(e)}(iD.prototype=Object.create(lm.prototype)).point=function(e,t){lm.prototype.point.call(this,t,e)};function aD(e){this._context=e}aD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function WJ(e){return new lm(e)}function HJ(e){return new iD(e)}function sD(e){this._context=e}sD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=m2(e),i=m2(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function m2(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function YJ(e){return new sD(e)}function mg(e,t){this._context=e,this._t=t}mg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function GJ(e){return new mg(e,.5)}function KJ(e){return new mg(e,0)}function XJ(e){return new mg(e,1)}function gl(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,l=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function mx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function JJ(e,t){return e[t]}function ZJ(e){const t=[];return t.key=e,t}function QJ(){var e=mt([]),t=mx,r=gl,n=JJ;function i(a){var s=Array.from(e.apply(this,arguments),ZJ),l,c=s.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(f,s[l].key,u,a)]).data=f;for(l=0,d=J_(t(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:mt(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:mt(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?mx:typeof a=="function"?a:mt(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??gl,i):r},i}function eZ(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}gl(e,t)}}function tZ(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,l=0;s<i;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}gl(e,t)}}function rZ(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,x=0;x<l;++x){var g=e[t[x]],v=g[n][1]||0,p=g[n-1][1]||0;m+=v-p}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,gl(e,t)}}function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}var nZ=["type","size","sizeType"];function px(){return px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},px.apply(this,arguments)}function p2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function g2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(r),!0).forEach(function(n){iZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iZ(e,t,r){return t=aZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aZ(e){var t=sZ(e,"string");return Ku(t)=="symbol"?t:t+""}function sZ(e,t){if(Ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oZ(e,t){if(e==null)return{};var r=lZ(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var oD={symbolCircle:Z_,symbolCross:PJ,symbolDiamond:AJ,symbolSquare:TJ,symbolStar:IJ,symbolTriangle:RJ,symbolWye:zJ},cZ=Math.PI/180,uZ=function(t){var r="symbol".concat(dg(t));return oD[r]||Z_},dZ=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*cZ;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},fZ=function(t,r){oD["symbol".concat(dg(t))]=r},Q_=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,s=t.sizeType,l=s===void 0?"area":s,c=oZ(t,nZ),u=g2(g2({},c),{},{type:n,size:a,sizeType:l}),d=function(){var v=uZ(n),p=FJ().type(v).size(dZ(a,l,n));return p()},f=u.className,h=u.cx,m=u.cy,x=Ae(u,!0);return h===+h&&m===+m&&a===+a?z.createElement("path",px({},x,{className:Be("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};Q_.registerSymbol=fZ;function yl(e){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(e)}function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gx.apply(this,arguments)}function y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y2(Object(r),!0).forEach(function(n){Xu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cD(n.key),n)}}function gZ(e,t,r){return t&&pZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yZ(e,t,r){return t=cm(t),vZ(e,lD()?Reflect.construct(t,r||[],cm(e).constructor):t.apply(e,r))}function vZ(e,t){if(t&&(yl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xZ(e)}function xZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lD=function(){return!!e})()}function cm(e){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cm(e)}function bZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yx(e,t)}function yx(e,t){return yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yx(e,t)}function Xu(e,t,r){return t=cD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cD(e){var t=wZ(e,"string");return yl(t)=="symbol"?t:t+""}function wZ(e,t){if(yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mn=32,e1=function(e){function t(){return mZ(this,t),yZ(this,t,arguments)}return bZ(t,e),gZ(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Mn/2,s=Mn/6,l=Mn/3,c=n.inactive?i:n.color;if(n.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Mn,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Mn,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Mn/8,"h").concat(Mn,"v").concat(Mn*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(z.isValidElement(n.legendIcon)){var u=hZ({},n);return delete u.legendIcon,z.cloneElement(n.legendIcon,u)}return z.createElement(Q_,{fill:c,cx:a,cy:a,size:Mn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Mn,height:Mn},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,x){var g=m.formatter||c,v=Be(Xu(Xu({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",m.inactive));if(m.type==="none")return null;var p=Te(m.value)?null:m.value;Hn(!Te(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?u:m.color;return z.createElement("li",gx({className:v,style:f,key:"legend-item-".concat(x)},Ys(n.props,m,x)),z.createElement(ox,{width:s,height:s,viewBox:d,style:h},n.renderIcon(m)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(p,m,x):p))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(S.PureComponent);Xu(e1,"displayName","Legend");Xu(e1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _Z=Zp;function jZ(){this.__data__=new _Z,this.size=0}var SZ=jZ;function NZ(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var kZ=NZ;function CZ(e){return this.__data__.get(e)}var EZ=CZ;function PZ(e){return this.__data__.has(e)}var OZ=PZ,AZ=Zp,TZ=U_,MZ=B_,$Z=200;function DZ(e,t){var r=this.__data__;if(r instanceof AZ){var n=r.__data__;if(!TZ||n.length<$Z-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new MZ(n)}return r.set(e,t),this.size=r.size,this}var IZ=DZ,RZ=Zp,LZ=SZ,zZ=kZ,FZ=EZ,UZ=OZ,BZ=IZ;function ac(e){var t=this.__data__=new RZ(e);this.size=t.size}ac.prototype.clear=LZ;ac.prototype.delete=zZ;ac.prototype.get=FZ;ac.prototype.has=UZ;ac.prototype.set=BZ;var uD=ac,VZ="__lodash_hash_undefined__";function qZ(e){return this.__data__.set(e,VZ),this}var WZ=qZ;function HZ(e){return this.__data__.has(e)}var YZ=HZ,GZ=B_,KZ=WZ,XZ=YZ;function um(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new GZ;++t<r;)this.add(e[t])}um.prototype.add=um.prototype.push=KZ;um.prototype.has=XZ;var dD=um;function JZ(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var fD=JZ;function ZZ(e,t){return e.has(t)}var hD=ZZ,QZ=dD,eQ=fD,tQ=hD,rQ=1,nQ=2;function iQ(e,t,r,n,i,a){var s=r&rQ,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&nQ?new QZ:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var x=e[f],g=t[f];if(n)var v=s?n(g,x,f,t,e,a):n(x,g,f,e,t,a);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!eQ(t,function(p,y){if(!tQ(m,y)&&(x===p||i(x,p,r,n,a)))return m.push(y)})){h=!1;break}}else if(!(x===g||i(x,g,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var mD=iQ,aQ=xi,sQ=aQ.Uint8Array,oQ=sQ;function lQ(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var cQ=lQ;function uQ(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var t1=uQ,v2=Yd,x2=oQ,dQ=F_,fQ=mD,hQ=cQ,mQ=t1,pQ=1,gQ=2,yQ="[object Boolean]",vQ="[object Date]",xQ="[object Error]",bQ="[object Map]",wQ="[object Number]",_Q="[object RegExp]",jQ="[object Set]",SQ="[object String]",NQ="[object Symbol]",kQ="[object ArrayBuffer]",CQ="[object DataView]",b2=v2?v2.prototype:void 0,Q0=b2?b2.valueOf:void 0;function EQ(e,t,r,n,i,a,s){switch(r){case CQ:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case kQ:return!(e.byteLength!=t.byteLength||!a(new x2(e),new x2(t)));case yQ:case vQ:case wQ:return dQ(+e,+t);case xQ:return e.name==t.name&&e.message==t.message;case _Q:case SQ:return e==t+"";case bQ:var l=hQ;case jQ:var c=n&pQ;if(l||(l=mQ),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=gQ,s.set(e,t);var d=fQ(l(e),l(t),n,i,a,s);return s.delete(e),d;case NQ:if(Q0)return Q0.call(e)==Q0.call(t)}return!1}var PQ=EQ;function OQ(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var pD=OQ,AQ=pD,TQ=Wr;function MQ(e,t,r){var n=t(e);return TQ(e)?n:AQ(n,r(e))}var $Q=MQ;function DQ(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}var IQ=DQ;function RQ(){return[]}var LQ=RQ,zQ=IQ,FQ=LQ,UQ=Object.prototype,BQ=UQ.propertyIsEnumerable,w2=Object.getOwnPropertySymbols,VQ=w2?function(e){return e==null?[]:(e=Object(e),zQ(w2(e),function(t){return BQ.call(e,t)}))}:FQ,qQ=VQ;function WQ(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var HQ=WQ,YQ=la,GQ=ca,KQ="[object Arguments]";function XQ(e){return GQ(e)&&YQ(e)==KQ}var JQ=XQ,_2=JQ,ZQ=ca,gD=Object.prototype,QQ=gD.hasOwnProperty,eee=gD.propertyIsEnumerable,tee=_2(function(){return arguments}())?_2:function(e){return ZQ(e)&&QQ.call(e,"callee")&&!eee.call(e,"callee")},r1=tee,dm={exports:{}};function ree(){return!1}var nee=ree;dm.exports;(function(e,t){var r=xi,n=nee,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(dm,dm.exports);var yD=dm.exports,iee=9007199254740991,aee=/^(?:0|[1-9]\d*)$/;function see(e,t){var r=typeof e;return t=t??iee,!!t&&(r=="number"||r!="symbol"&&aee.test(e))&&e>-1&&e%1==0&&e<t}var n1=see,oee=9007199254740991;function lee(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=oee}var i1=lee,cee=la,uee=i1,dee=ca,fee="[object Arguments]",hee="[object Array]",mee="[object Boolean]",pee="[object Date]",gee="[object Error]",yee="[object Function]",vee="[object Map]",xee="[object Number]",bee="[object Object]",wee="[object RegExp]",_ee="[object Set]",jee="[object String]",See="[object WeakMap]",Nee="[object ArrayBuffer]",kee="[object DataView]",Cee="[object Float32Array]",Eee="[object Float64Array]",Pee="[object Int8Array]",Oee="[object Int16Array]",Aee="[object Int32Array]",Tee="[object Uint8Array]",Mee="[object Uint8ClampedArray]",$ee="[object Uint16Array]",Dee="[object Uint32Array]",xt={};xt[Cee]=xt[Eee]=xt[Pee]=xt[Oee]=xt[Aee]=xt[Tee]=xt[Mee]=xt[$ee]=xt[Dee]=!0;xt[fee]=xt[hee]=xt[Nee]=xt[mee]=xt[kee]=xt[pee]=xt[gee]=xt[yee]=xt[vee]=xt[xee]=xt[bee]=xt[wee]=xt[_ee]=xt[jee]=xt[See]=!1;function Iee(e){return dee(e)&&uee(e.length)&&!!xt[cee(e)]}var Ree=Iee;function Lee(e){return function(t){return e(t)}}var vD=Lee,fm={exports:{}};fm.exports;(function(e,t){var r=k$,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=l})(fm,fm.exports);var zee=fm.exports,Fee=Ree,Uee=vD,j2=zee,S2=j2&&j2.isTypedArray,Bee=S2?Uee(S2):Fee,xD=Bee,Vee=HQ,qee=r1,Wee=Wr,Hee=yD,Yee=n1,Gee=xD,Kee=Object.prototype,Xee=Kee.hasOwnProperty;function Jee(e,t){var r=Wee(e),n=!r&&qee(e),i=!r&&!n&&Hee(e),a=!r&&!n&&!i&&Gee(e),s=r||n||i||a,l=s?Vee(e.length,String):[],c=l.length;for(var u in e)(t||Xee.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Yee(u,c)))&&l.push(u);return l}var Zee=Jee,Qee=Object.prototype;function ete(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Qee;return e===r}var tte=ete;function rte(e,t){return function(r){return e(t(r))}}var bD=rte,nte=bD,ite=nte(Object.keys,Object),ate=ite,ste=tte,ote=ate,lte=Object.prototype,cte=lte.hasOwnProperty;function ute(e){if(!ste(e))return ote(e);var t=[];for(var r in Object(e))cte.call(e,r)&&r!="constructor"&&t.push(r);return t}var dte=ute,fte=z_,hte=i1;function mte(e){return e!=null&&hte(e.length)&&!fte(e)}var Xd=mte,pte=Zee,gte=dte,yte=Xd;function vte(e){return yte(e)?pte(e):gte(e)}var pg=vte,xte=$Q,bte=qQ,wte=pg;function _te(e){return xte(e,wte,bte)}var jte=_te,N2=jte,Ste=1,Nte=Object.prototype,kte=Nte.hasOwnProperty;function Cte(e,t,r,n,i,a){var s=r&Ste,l=N2(e),c=l.length,u=N2(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var h=l[f];if(!(s?h in t:kte.call(t,h)))return!1}var m=a.get(e),x=a.get(t);if(m&&x)return m==t&&x==e;var g=!0;a.set(e,t),a.set(t,e);for(var v=s;++f<c;){h=l[f];var p=e[h],y=t[h];if(n)var b=s?n(y,p,h,t,e,a):n(p,y,h,e,t,a);if(!(b===void 0?p===y||i(p,y,r,n,a):b)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(g=!1)}return a.delete(e),a.delete(t),g}var Ete=Cte,Pte=no,Ote=xi,Ate=Pte(Ote,"DataView"),Tte=Ate,Mte=no,$te=xi,Dte=Mte($te,"Promise"),Ite=Dte,Rte=no,Lte=xi,zte=Rte(Lte,"Set"),wD=zte,Fte=no,Ute=xi,Bte=Fte(Ute,"WeakMap"),Vte=Bte,vx=Tte,xx=U_,bx=Ite,wx=wD,_x=Vte,_D=la,sc=E$,k2="[object Map]",qte="[object Object]",C2="[object Promise]",E2="[object Set]",P2="[object WeakMap]",O2="[object DataView]",Wte=sc(vx),Hte=sc(xx),Yte=sc(bx),Gte=sc(wx),Kte=sc(_x),bs=_D;(vx&&bs(new vx(new ArrayBuffer(1)))!=O2||xx&&bs(new xx)!=k2||bx&&bs(bx.resolve())!=C2||wx&&bs(new wx)!=E2||_x&&bs(new _x)!=P2)&&(bs=function(e){var t=_D(e),r=t==qte?e.constructor:void 0,n=r?sc(r):"";if(n)switch(n){case Wte:return O2;case Hte:return k2;case Yte:return C2;case Gte:return E2;case Kte:return P2}return t});var Xte=bs,ey=uD,Jte=mD,Zte=PQ,Qte=Ete,A2=Xte,T2=Wr,M2=yD,ere=xD,tre=1,$2="[object Arguments]",D2="[object Array]",Tf="[object Object]",rre=Object.prototype,I2=rre.hasOwnProperty;function nre(e,t,r,n,i,a){var s=T2(e),l=T2(t),c=s?D2:A2(e),u=l?D2:A2(t);c=c==$2?Tf:c,u=u==$2?Tf:u;var d=c==Tf,f=u==Tf,h=c==u;if(h&&M2(e)){if(!M2(t))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new ey),s||ere(e)?Jte(e,t,r,n,i,a):Zte(e,t,c,r,n,i,a);if(!(r&tre)){var m=d&&I2.call(e,"__wrapped__"),x=f&&I2.call(t,"__wrapped__");if(m||x){var g=m?e.value():e,v=x?t.value():t;return a||(a=new ey),i(g,v,r,n,a)}}return h?(a||(a=new ey),Qte(e,t,r,n,i,a)):!1}var ire=nre,are=ire,R2=ca;function jD(e,t,r,n,i){return e===t?!0:e==null||t==null||!R2(e)&&!R2(t)?e!==e&&t!==t:are(e,t,r,n,jD,i)}var a1=jD,sre=uD,ore=a1,lre=1,cre=2;function ure(e,t,r,n){var i=r.length,a=i,s=!n;if(e==null)return!a;for(e=Object(e);i--;){var l=r[i];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=r[i];var c=l[0],u=e[c],d=l[1];if(s&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new sre;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?ore(d,u,lre|cre,n,f):h))return!1}}return!0}var dre=ure,fre=ns;function hre(e){return e===e&&!fre(e)}var SD=hre,mre=SD,pre=pg;function gre(e){for(var t=pre(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,mre(i)]}return t}var yre=gre;function vre(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var ND=vre,xre=dre,bre=yre,wre=ND;function _re(e){var t=bre(e);return t.length==1&&t[0][2]?wre(t[0][0],t[0][1]):function(r){return r===e||xre(r,e,t)}}var jre=_re;function Sre(e,t){return e!=null&&t in Object(e)}var Nre=Sre,kre=M$,Cre=r1,Ere=Wr,Pre=n1,Ore=i1,Are=eg;function Tre(e,t,r){t=kre(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var s=Are(t[n]);if(!(a=e!=null&&r(e,s)))break;e=e[s]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&Ore(i)&&Pre(s,i)&&(Ere(e)||Cre(e)))}var Mre=Tre,$re=Nre,Dre=Mre;function Ire(e,t){return e!=null&&Dre(e,t,$re)}var Rre=Ire,Lre=a1,zre=$$,Fre=Rre,Ure=L_,Bre=SD,Vre=ND,qre=eg,Wre=1,Hre=2;function Yre(e,t){return Ure(e)&&Bre(t)?Vre(qre(e),t):function(r){var n=zre(r,e);return n===void 0&&n===t?Fre(r,e):Lre(t,n,Wre|Hre)}}var Gre=Yre;function Kre(e){return e}var oc=Kre;function Xre(e){return function(t){return t==null?void 0:t[e]}}var Jre=Xre,Zre=W_;function Qre(e){return function(t){return Zre(t,e)}}var ene=Qre,tne=Jre,rne=ene,nne=L_,ine=eg;function ane(e){return nne(e)?tne(ine(e)):rne(e)}var sne=ane,one=jre,lne=Gre,cne=oc,une=Wr,dne=sne;function fne(e){return typeof e=="function"?e:e==null?cne:typeof e=="object"?une(e)?lne(e[0],e[1]):one(e):dne(e)}var bi=fne;function hne(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var kD=hne;function mne(e){return e!==e}var pne=mne;function gne(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var yne=gne,vne=kD,xne=pne,bne=yne;function wne(e,t,r){return t===t?bne(e,t,r):vne(e,xne,r)}var _ne=wne,jne=_ne;function Sne(e,t){var r=e==null?0:e.length;return!!r&&jne(e,t,0)>-1}var Nne=Sne;function kne(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var Cne=kne;function Ene(){}var Pne=Ene,ty=wD,One=Pne,Ane=t1,Tne=1/0,Mne=ty&&1/Ane(new ty([,-0]))[1]==Tne?function(e){return new ty(e)}:One,$ne=Mne,Dne=dD,Ine=Nne,Rne=Cne,Lne=hD,zne=$ne,Fne=t1,Une=200;function Bne(e,t,r){var n=-1,i=Ine,a=e.length,s=!0,l=[],c=l;if(r)s=!1,i=Rne;else if(a>=Une){var u=t?null:zne(e);if(u)return Fne(u);s=!1,i=Lne,c=new Dne}else c=t?[]:l;e:for(;++n<a;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else i(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Vne=Bne,qne=bi,Wne=Vne;function Hne(e,t){return e&&e.length?Wne(e,qne(t)):[]}var Yne=Hne;const L2=nt(Yne);function CD(e,t,r){return t===!0?L2(e,r):Te(t)?L2(e,t):e}function vl(e){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}var Gne=["ref"];function z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(r),!0).forEach(function(n){gg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PD(n.key),n)}}function Xne(e,t,r){return t&&F2(e.prototype,t),r&&F2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jne(e,t,r){return t=hm(t),Zne(e,ED()?Reflect.construct(t,r||[],hm(e).constructor):t.apply(e,r))}function Zne(e,t){if(t&&(vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qne(e)}function Qne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ED(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ED=function(){return!!e})()}function hm(e){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hm(e)}function eie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jx(e,t)}function jx(e,t){return jx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jx(e,t)}function gg(e,t,r){return t=PD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PD(e){var t=tie(e,"string");return vl(t)=="symbol"?t:t+""}function tie(e,t){if(vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function rie(e,t){if(e==null)return{};var r=nie(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iie(e){return e.value}function aie(e,t){if(z.isValidElement(e))return z.cloneElement(e,t);if(typeof e=="function")return z.createElement(e,t);t.ref;var r=rie(t,Gne);return z.createElement(e1,r)}var U2=1,Wi=function(e){function t(){var r;Kne(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Jne(this,t,[].concat(i)),gg(r,"lastBoundingBox",{width:-1,height:-1}),r}return eie(t,e),Xne(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>U2||Math.abs(i.height-this.lastBoundingBox.height)>U2)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ni({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();h={top:((d||0)-x.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ni(Ni({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Ni(Ni({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return z.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},aie(a,Ni(Ni({},this.props),{},{payload:CD(d,u,iie)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Ni(Ni({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&pe(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(S.PureComponent);gg(Wi,"displayName","Legend");gg(Wi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var B2=Yd,sie=r1,oie=Wr,V2=B2?B2.isConcatSpreadable:void 0;function lie(e){return oie(e)||sie(e)||!!(V2&&e&&e[V2])}var cie=lie,uie=pD,die=cie;function OD(e,t,r,n,i){var a=-1,s=e.length;for(r||(r=die),i||(i=[]);++a<s;){var l=e[a];t>0&&r(l)?t>1?OD(l,t-1,r,n,i):uie(i,l):n||(i[i.length]=l)}return i}var AD=OD;function fie(e){return function(t,r,n){for(var i=-1,a=Object(t),s=n(t),l=s.length;l--;){var c=s[e?l:++i];if(r(a[c],c,a)===!1)break}return t}}var hie=fie,mie=hie,pie=mie(),gie=pie,yie=gie,vie=pg;function xie(e,t){return e&&yie(e,t,vie)}var TD=xie,bie=Xd;function wie(e,t){return function(r,n){if(r==null)return r;if(!bie(r))return e(r,n);for(var i=r.length,a=t?i:-1,s=Object(r);(t?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var _ie=wie,jie=TD,Sie=_ie,Nie=Sie(jie),s1=Nie,kie=s1,Cie=Xd;function Eie(e,t){var r=-1,n=Cie(e)?Array(e.length):[];return kie(e,function(i,a,s){n[++r]=t(i,a,s)}),n}var MD=Eie;function Pie(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Oie=Pie,q2=ec;function Aie(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=q2(e),s=t!==void 0,l=t===null,c=t===t,u=q2(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||n&&s&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||l&&r&&i||!s&&i||!c)return-1}return 0}var Tie=Aie,Mie=Tie;function $ie(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,s=i.length,l=r.length;++n<s;){var c=Mie(i[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Die=$ie,ry=q_,Iie=W_,Rie=bi,Lie=MD,zie=Oie,Fie=vD,Uie=Die,Bie=oc,Vie=Wr;function qie(e,t,r){t.length?t=ry(t,function(a){return Vie(a)?function(s){return Iie(s,a.length===1?a[0]:a)}:a}):t=[Bie];var n=-1;t=ry(t,Fie(Rie));var i=Lie(e,function(a,s,l){var c=ry(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return zie(i,function(a,s){return Uie(a,s,r)})}var Wie=qie;function Hie(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Yie=Hie,Gie=Yie,W2=Math.max;function Kie(e,t,r){return t=W2(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=W2(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=r(s),Gie(e,this,l)}}var Xie=Kie;function Jie(e){return function(){return e}}var Zie=Jie,Qie=no,eae=function(){try{var e=Qie(Object,"defineProperty");return e({},"",{}),e}catch{}}(),$D=eae,tae=Zie,H2=$D,rae=oc,nae=H2?function(e,t){return H2(e,"toString",{configurable:!0,enumerable:!1,value:tae(t),writable:!0})}:rae,iae=nae,aae=800,sae=16,oae=Date.now;function lae(e){var t=0,r=0;return function(){var n=oae(),i=sae-(n-r);if(r=n,i>0){if(++t>=aae)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var cae=lae,uae=iae,dae=cae,fae=dae(uae),hae=fae,mae=oc,pae=Xie,gae=hae;function yae(e,t){return gae(pae(e,t,mae),e+"")}var vae=yae,xae=F_,bae=Xd,wae=n1,_ae=ns;function jae(e,t,r){if(!_ae(r))return!1;var n=typeof t;return(n=="number"?bae(r)&&wae(t,r.length):n=="string"&&t in r)?xae(r[t],e):!1}var yg=jae,Sae=AD,Nae=Wie,kae=vae,Y2=yg,Cae=kae(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Y2(e,t[0],t[1])?t=[]:r>2&&Y2(t[0],t[1],t[2])&&(t=[t[0]]),Nae(e,Sae(t,1),[])}),Eae=Cae;const o1=nt(Eae);function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sx.apply(this,arguments)}function Pae(e,t){return Mae(e)||Tae(e,t)||Aae(e,t)||Oae()}function Oae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aae(e,t){if(e){if(typeof e=="string")return G2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G2(e,t)}}function G2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Mae(e){if(Array.isArray(e))return e}function K2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ny(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(r),!0).forEach(function(n){$ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ae(e,t,r){return t=Dae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dae(e){var t=Iae(e,"string");return Ju(t)=="symbol"?t:t+""}function Iae(e,t){if(Ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rae(e){return Array.isArray(e)&&Kt(e[0])&&Kt(e[1])?e.join(" ~ "):e}var Lae=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,s=t.itemStyle,l=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,x=t.labelClassName,g=t.label,v=t.labelFormatter,p=t.accessibilityLayer,y=p===void 0?!1:p,b=function(){if(d&&d.length){var O={padding:0,margin:0},L=(h?o1(d,h):d).map(function($,B){if($.type==="none")return null;var Y=ny({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),F=$.formatter||f||Rae,R=$.value,D=$.name,X=R,ne=D;if(F&&X!=null&&ne!=null){var Q=F(R,D,$,B,d);if(Array.isArray(Q)){var K=Pae(Q,2);X=K[0],ne=K[1]}else X=Q}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:Y},Kt(ne)?z.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,Kt(ne)?z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,z.createElement("span",{className:"recharts-tooltip-item-value"},X),z.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:O},L)}return null},_=ny({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=ny({margin:0},u),j=!qe(g),N=j?g:"",k=Be("recharts-default-tooltip",m),E=Be("recharts-tooltip-label",x);j&&v&&d!==void 0&&d!==null&&(N=v(g,d));var M=y?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",Sx({className:k,style:_},M),z.createElement("p",{className:E,style:w},z.isValidElement(N)?N:"".concat(N)),b())};function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function Mf(e,t,r){return t=zae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zae(e){var t=Fae(e,"string");return Zu(t)=="symbol"?t:t+""}function Fae(e,t){if(Zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ec="recharts-tooltip-wrapper",Uae={visibility:"hidden"};function Bae(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Be(Ec,Mf(Mf(Mf(Mf({},"".concat(Ec,"-right"),pe(r)&&t&&pe(t.x)&&r>=t.x),"".concat(Ec,"-left"),pe(r)&&t&&pe(t.x)&&r<t.x),"".concat(Ec,"-bottom"),pe(n)&&t&&pe(t.y)&&n>=t.y),"".concat(Ec,"-top"),pe(n)&&t&&pe(t.y)&&n<t.y))}function X2(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&pe(a[n]))return a[n];var d=r[n]-l-i,f=r[n]+i;if(t[n])return s[n]?d:f;if(s[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var x=f+l,g=c[n]+u;return x>g?Math.max(d,c[n]):Math.max(f,c[n])}function Vae(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function qae(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,s=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=X2({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=X2({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=Vae({translateX:d,translateY:f,useTranslate3d:l})):u=Uae,{cssProperties:u,cssClasses:Bae({translateX:d,translateY:f,coordinate:r})}}function xl(e){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}function J2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Z2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J2(Object(r),!0).forEach(function(n){kx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ID(n.key),n)}}function Yae(e,t,r){return t&&Hae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gae(e,t,r){return t=mm(t),Kae(e,DD()?Reflect.construct(t,r||[],mm(e).constructor):t.apply(e,r))}function Kae(e,t){if(t&&(xl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xae(e)}function Xae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DD=function(){return!!e})()}function mm(e){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mm(e)}function Jae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nx(e,t)}function Nx(e,t){return Nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Nx(e,t)}function kx(e,t,r){return t=ID(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ID(e){var t=Zae(e,"string");return xl(t)=="symbol"?t:t+""}function Zae(e,t){if(xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Q2=1,Qae=function(e){function t(){var r;Wae(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Gae(this,t,[].concat(i)),kx(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),kx(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Jae(t,e),Yae(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Q2||Math.abs(n.height-this.state.lastBoundingBox.height)>Q2)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,x=i.position,g=i.reverseDirection,v=i.useTranslate3d,p=i.viewBox,y=i.wrapperStyle,b=qae({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:m,position:x,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:p}),_=b.cssClasses,w=b.cssProperties,j=Z2(Z2({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return z.createElement("div",{tabIndex:-1,className:_,style:j,ref:function(k){n.wrapperNode=k}},u)}}])}(S.PureComponent),ese=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},lc={isSsr:ese()};function bl(e){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bl(e)}function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(n){l1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LD(n.key),n)}}function nse(e,t,r){return t&&rse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ise(e,t,r){return t=pm(t),ase(e,RD()?Reflect.construct(t,r||[],pm(e).constructor):t.apply(e,r))}function ase(e,t){if(t&&(bl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sse(e)}function sse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RD=function(){return!!e})()}function pm(e){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pm(e)}function ose(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cx(e,t)}function Cx(e,t){return Cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Cx(e,t)}function l1(e,t,r){return t=LD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LD(e){var t=lse(e,"string");return bl(t)=="symbol"?t:t+""}function lse(e,t){if(bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function cse(e){return e.dataKey}function use(e,t){return z.isValidElement(e)?z.cloneElement(e,t):typeof e=="function"?z.createElement(e,t):z.createElement(Lae,t)}var mn=function(e){function t(){return tse(this,t),ise(this,t,arguments)}return ose(t,e),nse(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,x=i.payload,g=i.payloadUniqBy,v=i.position,p=i.reverseDirection,y=i.useTranslate3d,b=i.viewBox,_=i.wrapperStyle,w=x??[];f&&w.length&&(w=CD(x.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),g,cse));var j=w.length>0;return z.createElement(Qae,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:j,offset:m,position:v,reverseDirection:p,useTranslate3d:y,viewBox:b,wrapperStyle:_},use(u,tk(tk({},this.props),{},{payload:w})))}}])}(S.PureComponent);l1(mn,"displayName","Tooltip");l1(mn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!lc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var dse=xi,fse=function(){return dse.Date.now()},hse=fse,mse=/\s/;function pse(e){for(var t=e.length;t--&&mse.test(e.charAt(t)););return t}var gse=pse,yse=gse,vse=/^\s+/;function xse(e){return e&&e.slice(0,yse(e)+1).replace(vse,"")}var bse=xse,wse=bse,rk=ns,_se=ec,nk=NaN,jse=/^[-+]0x[0-9a-f]+$/i,Sse=/^0b[01]+$/i,Nse=/^0o[0-7]+$/i,kse=parseInt;function Cse(e){if(typeof e=="number")return e;if(_se(e))return nk;if(rk(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=rk(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=wse(e);var r=Sse.test(e);return r||Nse.test(e)?kse(e.slice(2),r?2:8):jse.test(e)?nk:+e}var zD=Cse,Ese=ns,iy=hse,ik=zD,Pse="Expected a function",Ose=Math.max,Ase=Math.min;function Tse(e,t,r){var n,i,a,s,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Pse);t=ik(t)||0,Ese(r)&&(d=!!r.leading,f="maxWait"in r,a=f?Ose(ik(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h);function m(j){var N=n,k=i;return n=i=void 0,u=j,s=e.apply(k,N),s}function x(j){return u=j,l=setTimeout(p,t),d?m(j):s}function g(j){var N=j-c,k=j-u,E=t-N;return f?Ase(E,a-k):E}function v(j){var N=j-c,k=j-u;return c===void 0||N>=t||N<0||f&&k>=a}function p(){var j=iy();if(v(j))return y(j);l=setTimeout(p,g(j))}function y(j){return l=void 0,h&&n?m(j):(n=i=void 0,s)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function _(){return l===void 0?s:y(iy())}function w(){var j=iy(),N=v(j);if(n=arguments,i=this,c=j,N){if(l===void 0)return x(c);if(f)return clearTimeout(l),l=setTimeout(p,t),m(c)}return l===void 0&&(l=setTimeout(p,t)),s}return w.cancel=b,w.flush=_,w}var Mse=Tse,$se=Mse,Dse=ns,Ise="Expected a function";function Rse(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(Ise);return Dse(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),$se(e,t,{leading:n,maxWait:t,trailing:i})}var Lse=Rse;const FD=nt(Lse);function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $f(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ak(Object(r),!0).forEach(function(n){zse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zse(e,t,r){return t=Fse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fse(e){var t=Use(e,"string");return Qu(t)=="symbol"?t:t+""}function Use(e,t){if(Qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bse(e,t){return Hse(e)||Wse(e,t)||qse(e,t)||Vse()}function Vse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qse(e,t){if(e){if(typeof e=="string")return sk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sk(e,t)}}function sk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Hse(e){if(Array.isArray(e))return e}var ay=S.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,s=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,x=e.debounce,g=x===void 0?0:x,v=e.id,p=e.className,y=e.onResize,b=e.style,_=b===void 0?{}:b,w=S.useRef(null),j=S.useRef();j.current=y,S.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var N=S.useState({containerWidth:i.width,containerHeight:i.height}),k=Bse(N,2),E=k[0],M=k[1],C=S.useCallback(function(L,$){M(function(B){var Y=Math.round(L),F=Math.round($);return B.containerWidth===Y&&B.containerHeight===F?B:{containerWidth:Y,containerHeight:F}})},[]);S.useEffect(function(){var L=function(D){var X,ne=D[0].contentRect,Q=ne.width,K=ne.height;C(Q,K),(X=j.current)===null||X===void 0||X.call(j,Q,K)};g>0&&(L=FD(L,g,{trailing:!0,leading:!1}));var $=new ResizeObserver(L),B=w.current.getBoundingClientRect(),Y=B.width,F=B.height;return C(Y,F),$.observe(w.current),function(){$.disconnect()}},[C,g]);var O=S.useMemo(function(){var L=E.containerWidth,$=E.containerHeight;if(L<0||$<0)return null;Hn(Os(s)||Os(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Hn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=Os(s)?L:s,Y=Os(c)?$:c;r&&r>0&&(B?Y=B/r:Y&&(B=Y*r),h&&Y>h&&(Y=h)),Hn(B>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,Y,s,c,d,f,r);var F=!Array.isArray(m)&&qi(m.type).endsWith("Chart");return z.Children.map(m,function(R){return z.isValidElement(R)?S.cloneElement(R,$f({width:B,height:Y},F?{style:$f({height:"100%",width:"100%",maxHeight:Y,maxWidth:B},R.props.style)}:{})):R})},[r,m,c,h,f,d,E,s]);return z.createElement("div",{id:v?"".concat(v):void 0,className:Be("recharts-responsive-container",p),style:$f($f({},_),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:w},O)}),vg=function(t){return null};vg.displayName="Cell";function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}function ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ex(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(r),!0).forEach(function(n){Yse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yse(e,t,r){return t=Gse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gse(e){var t=Kse(e,"string");return ed(t)=="symbol"?t:t+""}function Kse(e,t){if(ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var po={widthCache:{},cacheCount:0},Xse=2e3,Jse={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},lk="recharts_measurement_span";function Zse(e){var t=Ex({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var cu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||lc.isSsr)return{width:0,height:0};var n=Zse(r),i=JSON.stringify({text:t,copyStyle:n});if(po.widthCache[i])return po.widthCache[i];try{var a=document.getElementById(lk);a||(a=document.createElement("span"),a.setAttribute("id",lk),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Ex(Ex({},Jse),n);Object.assign(a.style,s),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return po.widthCache[i]=c,++po.cacheCount>Xse&&(po.cacheCount=0,po.widthCache={}),c}catch{return{width:0,height:0}}},Qse=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function gm(e,t){return noe(e)||roe(e,t)||toe(e,t)||eoe()}function eoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function toe(e,t){if(e){if(typeof e=="string")return ck(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ck(e,t)}}function ck(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function roe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function noe(e){if(Array.isArray(e))return e}function ioe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,soe(n.key),n)}}function aoe(e,t,r){return t&&uk(e.prototype,t),r&&uk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function soe(e){var t=ooe(e,"string");return td(t)=="symbol"?t:t+""}function ooe(e,t){if(td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,loe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,coe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,UD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},uoe=Object.keys(UD),Lo="NaN";function doe(e,t){return e*UD[t]}var Df=function(){function e(t,r){ioe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!loe.test(r)&&(this.num=NaN,this.unit=""),uoe.includes(r)&&(this.num=doe(t,r),this.unit="px")}return aoe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=coe.exec(r))!==null&&n!==void 0?n:[],a=gm(i,3),s=a[1],l=a[2];return new e(parseFloat(s),l??"")}}])}();function BD(e){if(e.includes(Lo))return Lo;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=dk.exec(t))!==null&&r!==void 0?r:[],i=gm(n,4),a=i[1],s=i[2],l=i[3],c=Df.parse(a??""),u=Df.parse(l??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Lo;t=t.replace(dk,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=fk.exec(t))!==null&&f!==void 0?f:[],m=gm(h,4),x=m[1],g=m[2],v=m[3],p=Df.parse(x??""),y=Df.parse(v??""),b=g==="+"?p.add(y):p.subtract(y);if(b.isNaN())return Lo;t=t.replace(fk,b.toString())}return t}var hk=/\(([^()]*)\)/;function foe(e){for(var t=e;t.includes("(");){var r=hk.exec(t),n=gm(r,2),i=n[1];t=t.replace(hk,BD(i))}return t}function hoe(e){var t=e.replace(/\s+/g,"");return t=foe(t),t=BD(t),t}function moe(e){try{return hoe(e)}catch{return Lo}}function sy(e){var t=moe(e.slice(5,-1));return t===Lo?"":t}var poe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],goe=["dx","dy","angle","className","breakAll"];function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Px.apply(this,arguments)}function mk(e,t){if(e==null)return{};var r=yoe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yoe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pk(e,t){return woe(e)||boe(e,t)||xoe(e,t)||voe()}function voe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xoe(e,t){if(e){if(typeof e=="string")return gk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gk(e,t)}}function gk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function boe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function woe(e){if(Array.isArray(e))return e}var VD=/[ \f\n\r\t\v\u2028\u2029]+/,qD=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];qe(r)||(n?a=r.toString().split(""):a=r.toString().split(VD));var s=a.map(function(c){return{word:c,width:cu(c,i).width}}),l=n?0:cu(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},_oe=function(t,r,n,i,a){var s=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=pe(s),f=l,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(Y,F){var R=F.word,D=F.width,X=Y[Y.length-1];if(X&&(i==null||a||X.width+D+n<Number(i)))X.words.push(R),X.width+=D+n;else{var ne={words:[R],width:D};Y.push(ne)}return Y},[])},m=h(r),x=function(B){return B.reduce(function(Y,F){return Y.width>F.width?Y:F})};if(!d)return m;for(var g="…",v=function(B){var Y=f.slice(0,B),F=qD({breakAll:u,style:c,children:Y+g}).wordsWithComputedWidth,R=h(F),D=R.length>s||x(R).width>Number(i);return[D,R]},p=0,y=f.length-1,b=0,_;p<=y&&b<=f.length-1;){var w=Math.floor((p+y)/2),j=w-1,N=v(j),k=pk(N,2),E=k[0],M=k[1],C=v(w),O=pk(C,1),L=O[0];if(!E&&!L&&(p=w+1),E&&L&&(y=w-1),!E&&L){_=M;break}b++}return _||m},yk=function(t){var r=qe(t)?[]:t.toString().split(VD);return[{words:r}]},joe=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,s=t.breakAll,l=t.maxLines;if((r||n)&&!lc.isSsr){var c,u,d=qD({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return yk(i);return _oe({breakAll:s,children:i,maxLines:l,style:a},c,u,r,n)}return yk(i)},vk="#808080",Gs=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.lineHeight,l=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,x=t.verticalAnchor,g=x===void 0?"end":x,v=t.fill,p=v===void 0?vk:v,y=mk(t,poe),b=S.useMemo(function(){return joe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),_=y.dx,w=y.dy,j=y.angle,N=y.className,k=y.breakAll,E=mk(y,goe);if(!Kt(n)||!Kt(a))return null;var M=n+(pe(_)?_:0),C=a+(pe(w)?w:0),O;switch(g){case"start":O=sy("calc(".concat(u,")"));break;case"middle":O=sy("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=sy("calc(".concat(b.length-1," * -").concat(l,")"));break}var L=[];if(f){var $=b[0].width,B=y.width;L.push("scale(".concat((pe(B)?B/$:1)/$,")"))}return j&&L.push("rotate(".concat(j,", ").concat(M,", ").concat(C,")")),L.length&&(E.transform=L.join(" ")),z.createElement("text",Px({},Ae(E,!0),{x:M,y:C,className:Be("recharts-text",N),textAnchor:m,fill:p.includes("url")?vk:p}),b.map(function(Y,F){var R=Y.words.join(k?"":" ");return z.createElement("tspan",{x:M,dy:F===0?O:l,key:"".concat(R,"-").concat(F)},R)}))};function Wa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Soe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function c1(e){let t,r,n;e.length!==2?(t=Wa,r=(l,c)=>Wa(e(l),c),n=(l,c)=>e(l)-c):(t=e===Wa||e===Soe?e:Noe,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:s,right:a}}function Noe(){return 0}function WD(e){return e===null?NaN:+e}function*koe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Coe=c1(Wa),Jd=Coe.right;c1(WD).center;class xk extends Map{constructor(t,r=Ooe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(bk(this,t))}has(t){return super.has(bk(this,t))}set(t,r){return super.set(Eoe(this,t),r)}delete(t){return super.delete(Poe(this,t))}}function bk({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Eoe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Poe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Ooe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Aoe(e=Wa){if(e===Wa)return HD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function HD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Toe=Math.sqrt(50),Moe=Math.sqrt(10),$oe=Math.sqrt(2);function ym(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=Toe?10:a>=Moe?5:a>=$oe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?ym(e,t,r*2):[l,c,u]}function Ox(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?ym(t,e,r):ym(e,t,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(a-u)/-s;else for(let u=0;u<l;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(i+u)/-s;else for(let u=0;u<l;++u)c[u]=(i+u)*s;return c}function Ax(e,t,r){return t=+t,e=+e,r=+r,ym(e,t,r)[2]}function Tx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Ax(t,e,r):Ax(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function wk(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function _k(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function YD(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?HD:Aoe(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),x=Math.min(n,Math.floor(t+(c-u)*f/c+h));YD(e,t,m,x,i)}const a=e[t];let s=r,l=n;for(Pc(e,r,t),i(e[n],a)>0&&Pc(e,r,n);s<l;){for(Pc(e,s,l),++s,--l;i(e[s],a)<0;)++s;for(;i(e[l],a)>0;)--l}i(e[r],a)===0?Pc(e,r,l):(++l,Pc(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Pc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Doe(e,t,r){if(e=Float64Array.from(koe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return _k(e);if(t>=1)return wk(e);var n,i=(n-1)*t,a=Math.floor(i),s=wk(YD(e,a).subarray(0,a+1)),l=_k(e.subarray(a+1));return s+(l-s)*(i-a)}}function Ioe(e,t,r=WD){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return s+(l-s)*(i-a)}}function Roe(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function An(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ua(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Mx=Symbol("implicit");function u1(){var e=new xk,t=[],r=[],n=Mx;function i(a){let s=e.get(a);if(s===void 0){if(n!==Mx)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new xk;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return u1(t,r).unknown(n)},An.apply(i,arguments),i}function rd(){var e=u1().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<n,x=m?i:n,g=m?n:i;a=(g-x)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),x+=(g-x-a*(h-c))*d,s=a*(1-c),l&&(x=Math.round(x),s=Math.round(s));var v=Roe(h).map(function(p){return x+a*p});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return rd(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},An.apply(f(),arguments)}function GD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return GD(t())},e}function uu(){return GD(rd.apply(null,arguments).paddingInner(1))}function d1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function KD(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Zd(){}var nd=.7,vm=1/nd,tl="\\s*([+-]?\\d+)\\s*",id="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",di="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Loe=/^#([0-9a-f]{3,8})$/,zoe=new RegExp(`^rgb\\(${tl},${tl},${tl}\\)$`),Foe=new RegExp(`^rgb\\(${di},${di},${di}\\)$`),Uoe=new RegExp(`^rgba\\(${tl},${tl},${tl},${id}\\)$`),Boe=new RegExp(`^rgba\\(${di},${di},${di},${id}\\)$`),Voe=new RegExp(`^hsl\\(${id},${di},${di}\\)$`),qoe=new RegExp(`^hsla\\(${id},${di},${di},${id}\\)$`),jk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};d1(Zd,ad,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Sk,formatHex:Sk,formatHex8:Woe,formatHsl:Hoe,formatRgb:Nk,toString:Nk});function Sk(){return this.rgb().formatHex()}function Woe(){return this.rgb().formatHex8()}function Hoe(){return XD(this).formatHsl()}function Nk(){return this.rgb().formatRgb()}function ad(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Loe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?kk(t):r===3?new Ur(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?If(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?If(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=zoe.exec(e))?new Ur(t[1],t[2],t[3],1):(t=Foe.exec(e))?new Ur(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Uoe.exec(e))?If(t[1],t[2],t[3],t[4]):(t=Boe.exec(e))?If(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Voe.exec(e))?Pk(t[1],t[2]/100,t[3]/100,1):(t=qoe.exec(e))?Pk(t[1],t[2]/100,t[3]/100,t[4]):jk.hasOwnProperty(e)?kk(jk[e]):e==="transparent"?new Ur(NaN,NaN,NaN,0):null}function kk(e){return new Ur(e>>16&255,e>>8&255,e&255,1)}function If(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ur(e,t,r,n)}function Yoe(e){return e instanceof Zd||(e=ad(e)),e?(e=e.rgb(),new Ur(e.r,e.g,e.b,e.opacity)):new Ur}function $x(e,t,r,n){return arguments.length===1?Yoe(e):new Ur(e,t,r,n??1)}function Ur(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}d1(Ur,$x,KD(Zd,{brighter(e){return e=e==null?vm:Math.pow(vm,e),new Ur(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?nd:Math.pow(nd,e),new Ur(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ur(zs(this.r),zs(this.g),zs(this.b),xm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ck,formatHex:Ck,formatHex8:Goe,formatRgb:Ek,toString:Ek}));function Ck(){return`#${As(this.r)}${As(this.g)}${As(this.b)}`}function Goe(){return`#${As(this.r)}${As(this.g)}${As(this.b)}${As((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ek(){const e=xm(this.opacity);return`${e===1?"rgb(":"rgba("}${zs(this.r)}, ${zs(this.g)}, ${zs(this.b)}${e===1?")":`, ${e})`}`}function xm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function As(e){return e=zs(e),(e<16?"0":"")+e.toString(16)}function Pk(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Un(e,t,r,n)}function XD(e){if(e instanceof Un)return new Un(e.h,e.s,e.l,e.opacity);if(e instanceof Zd||(e=ad(e)),!e)return new Un;if(e instanceof Un)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,l=a-i,c=(a+i)/2;return l?(t===a?s=(r-n)/l+(r<n)*6:r===a?s=(n-t)/l+2:s=(t-r)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new Un(s,l,c,e.opacity)}function Koe(e,t,r,n){return arguments.length===1?XD(e):new Un(e,t,r,n??1)}function Un(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}d1(Un,Koe,KD(Zd,{brighter(e){return e=e==null?vm:Math.pow(vm,e),new Un(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?nd:Math.pow(nd,e),new Un(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Ur(oy(e>=240?e-240:e+120,i,n),oy(e,i,n),oy(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Un(Ok(this.h),Rf(this.s),Rf(this.l),xm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xm(this.opacity);return`${e===1?"hsl(":"hsla("}${Ok(this.h)}, ${Rf(this.s)*100}%, ${Rf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ok(e){return e=(e||0)%360,e<0?e+360:e}function Rf(e){return Math.max(0,Math.min(1,e||0))}function oy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const f1=e=>()=>e;function Xoe(e,t){return function(r){return e+r*t}}function Joe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Zoe(e){return(e=+e)==1?JD:function(t,r){return r-t?Joe(t,r,e):f1(isNaN(t)?r:t)}}function JD(e,t){var r=t-e;return r?Xoe(e,r):f1(isNaN(e)?t:e)}const Ak=function e(t){var r=Zoe(t);function n(i,a){var s=r((i=$x(i)).r,(a=$x(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),u=JD(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function Qoe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function ele(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function tle(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=cc(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(l){for(s=0;s<n;++s)a[s]=i[s](l);return a}}function rle(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function bm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function nle(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=cc(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Dx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ly=new RegExp(Dx.source,"g");function ile(e){return function(){return e}}function ale(e){return function(t){return e(t)+""}}function sle(e,t){var r=Dx.lastIndex=ly.lastIndex=0,n,i,a,s=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Dx.exec(e))&&(i=ly.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),l[s]?l[s]+=a:l[++s]=a),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:bm(n,i)})),r=ly.lastIndex;return r<t.length&&(a=t.slice(r),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?ale(c[0].x):ile(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function cc(e,t){var r=typeof t,n;return t==null||r==="boolean"?f1(t):(r==="number"?bm:r==="string"?(n=ad(t))?(t=n,Ak):sle:t instanceof ad?Ak:t instanceof Date?rle:ele(t)?Qoe:Array.isArray(t)?tle:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?nle:bm)(e,t)}function h1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function ole(e,t){t===void 0&&(t=e,e=cc);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[l](s-l)}}function lle(e){return function(){return e}}function wm(e){return+e}var Tk=[0,1];function Pr(e){return e}function Ix(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:lle(isNaN(t)?NaN:.5)}function cle(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ule(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=Ix(i,n),a=r(s,a)):(n=Ix(n,i),a=r(a,s)),function(l){return a(n(l))}}function dle(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=Ix(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(l){var c=Jd(e,l,1,n)-1;return a[c](i[c](l))}}function Qd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function xg(){var e=Tk,t=Tk,r=cc,n,i,a,s=Pr,l,c,u;function d(){var h=Math.min(e.length,t.length);return s!==Pr&&(s=cle(e[0],e[h-1])),l=h>2?dle:ule,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(i((u||(u=l(t,e.map(n),bm)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,wm),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=h1,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Pr,d()):s!==Pr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return n=h,i=m,d()}}function m1(){return xg()(Pr,Pr)}function fle(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function _m(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function wl(e){return e=_m(Math.abs(e)),e?e[1]:NaN}function hle(e,t){return function(r,n){for(var i=r.length,a=[],s=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[s=(s+1)%e.length];return a.reverse().join(t)}}function mle(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var ple=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sd(e){if(!(t=ple.exec(e)))throw new Error("invalid format: "+e);var t;return new p1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}sd.prototype=p1.prototype;function p1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}p1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gle(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var ZD;function yle(e,t){var r=_m(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(ZD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+_m(e,Math.max(0,t+a-1))[0]}function Mk(e,t){var r=_m(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const $k={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:fle,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Mk(e*100,t),r:Mk,s:yle,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Dk(e){return e}var Ik=Array.prototype.map,Rk=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function vle(e){var t=e.grouping===void 0||e.thousands===void 0?Dk:hle(Ik.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Dk:mle(Ik.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=sd(f);var h=f.fill,m=f.align,x=f.sign,g=f.symbol,v=f.zero,p=f.width,y=f.comma,b=f.precision,_=f.trim,w=f.type;w==="n"?(y=!0,w="g"):$k[w]||(b===void 0&&(b=12),_=!0,w="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var j=g==="$"?r:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",N=g==="$"?n:/[%p]/.test(w)?s:"",k=$k[w],E=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function M(C){var O=j,L=N,$,B,Y;if(w==="c")L=k(C)+L,C="";else{C=+C;var F=C<0||1/C<0;if(C=isNaN(C)?c:k(Math.abs(C),b),_&&(C=gle(C)),F&&+C==0&&x!=="+"&&(F=!1),O=(F?x==="("?x:l:x==="-"||x==="("?"":x)+O,L=(w==="s"?Rk[8+ZD/3]:"")+L+(F&&x==="("?")":""),E){for($=-1,B=C.length;++$<B;)if(Y=C.charCodeAt($),48>Y||Y>57){L=(Y===46?i+C.slice($+1):C.slice($))+L,C=C.slice(0,$);break}}}y&&!v&&(C=t(C,1/0));var R=O.length+C.length+L.length,D=R<p?new Array(p-R+1).join(h):"";switch(y&&v&&(C=t(D+C,D.length?p-L.length:1/0),D=""),m){case"<":C=O+C+L+D;break;case"=":C=O+D+C+L;break;case"^":C=D.slice(0,R=D.length>>1)+O+C+L+D.slice(R);break;default:C=D+O+C+L;break}return a(C)}return M.toString=function(){return f+""},M}function d(f,h){var m=u((f=sd(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(wl(h)/3)))*3,g=Math.pow(10,-x),v=Rk[8+x/3];return function(p){return m(g*p)+v}}return{format:u,formatPrefix:d}}var Lf,g1,QD;xle({thousands:",",grouping:[3],currency:["$",""]});function xle(e){return Lf=vle(e),g1=Lf.format,QD=Lf.formatPrefix,Lf}function ble(e){return Math.max(0,-wl(Math.abs(e)))}function wle(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wl(t)/3)))*3-wl(Math.abs(e)))}function _le(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,wl(t)-wl(e))+1}function e3(e,t,r,n){var i=Tx(e,t,r),a;switch(n=sd(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=wle(i,s))&&(n.precision=a),QD(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=_le(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=ble(i))&&(n.precision=a-(n.type==="%")*2);break}}return g1(n)}function is(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ox(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return e3(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],l=n[a],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=Ax(s,l,r),u===c)return n[i]=s,n[a]=l,t(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function jm(){var e=m1();return e.copy=function(){return Qd(e,jm())},An.apply(e,arguments),is(e)}function t3(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,wm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return t3(e).unknown(t)},e=arguments.length?Array.from(e,wm):[0,1],is(r)}function r3(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function Lk(e){return Math.log(e)}function zk(e){return Math.exp(e)}function jle(e){return-Math.log(-e)}function Sle(e){return-Math.exp(-e)}function Nle(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kle(e){return e===10?Nle:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Cle(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Fk(e){return(t,r)=>-e(-t,r)}function y1(e){const t=e(Lk,zk),r=t.domain;let n=10,i,a;function s(){return i=Cle(n),a=kle(n),r()[0]<0?(i=Fk(i),a=Fk(a),e(jle,Sle)):e(Lk,zk),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),x,g;const v=l==null?10:+l;let p=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(x=1;x<n;++x)if(g=h<0?x/a(-h):x*a(h),!(g<u)){if(g>d)break;p.push(g)}}else for(;h<=m;++h)for(x=n-1;x>=1;--x)if(g=h>0?x/a(-h):x*a(h),!(g<u)){if(g>d)break;p.push(g)}p.length*2<v&&(p=Ox(u,d,v))}else p=Ox(h,m,Math.min(m-h,v)).map(a);return f?p.reverse():p},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=sd(c)).precision==null&&(c.trim=!0),c=g1(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(r3(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function n3(){const e=y1(xg()).domain([1,10]);return e.copy=()=>Qd(e,n3()).base(e.base()),An.apply(e,arguments),e}function Uk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Bk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function v1(e){var t=1,r=e(Uk(t),Bk(t));return r.constant=function(n){return arguments.length?e(Uk(t=+n),Bk(t)):t},is(r)}function i3(){var e=v1(xg());return e.copy=function(){return Qd(e,i3()).constant(e.constant())},An.apply(e,arguments)}function Vk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ele(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ple(e){return e<0?-e*e:e*e}function x1(e){var t=e(Pr,Pr),r=1;function n(){return r===1?e(Pr,Pr):r===.5?e(Ele,Ple):e(Vk(r),Vk(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},is(t)}function b1(){var e=x1(xg());return e.copy=function(){return Qd(e,b1()).exponent(e.exponent())},An.apply(e,arguments),e}function Ole(){return b1.apply(null,arguments).exponent(.5)}function qk(e){return Math.sign(e)*e*e}function Ale(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function a3(){var e=m1(),t=[0,1],r=!1,n;function i(a){var s=Ale(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(qk(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,wm)).map(qk)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return a3(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},An.apply(i,arguments),is(i)}function s3(){var e=[],t=[],r=[],n;function i(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=Ioe(e,s/l);return a}function a(s){return s==null||isNaN(s=+s)?n:t[Jd(r,s)]}return a.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Wa),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return s3().domain(e).range(t).unknown(n)},An.apply(a,arguments)}function o3(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Jd(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return o3().domain([e,t]).range(i).unknown(a)},An.apply(is(s),arguments)}function l3(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Jd(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return l3().domain(e).range(t).unknown(r)},An.apply(i,arguments)}const cy=new Date,uy=new Date;function Xt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<s);return c},i.filter=a=>Xt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!a(s););else for(;--l>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(cy.setTime(+a),uy.setTime(+s),e(cy),e(uy),Math.floor(r(cy,uy))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Sm=Xt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Sm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Xt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Sm);Sm.range;const Ii=1e3,bn=Ii*60,Ri=bn*60,ea=Ri*24,w1=ea*7,Wk=ea*30,dy=ea*365,Ts=Xt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getUTCSeconds());Ts.range;const _1=Xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ii)},(e,t)=>{e.setTime(+e+t*bn)},(e,t)=>(t-e)/bn,e=>e.getMinutes());_1.range;const j1=Xt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*bn)},(e,t)=>(t-e)/bn,e=>e.getUTCMinutes());j1.range;const S1=Xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ii-e.getMinutes()*bn)},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getHours());S1.range;const N1=Xt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getUTCHours());N1.range;const ef=Xt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*bn)/ea,e=>e.getDate()-1);ef.range;const bg=Xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ea,e=>e.getUTCDate()-1);bg.range;const c3=Xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ea,e=>Math.floor(e/ea));c3.range;function io(e){return Xt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*bn)/w1)}const wg=io(0),Nm=io(1),Tle=io(2),Mle=io(3),_l=io(4),$le=io(5),Dle=io(6);wg.range;Nm.range;Tle.range;Mle.range;_l.range;$le.range;Dle.range;function ao(e){return Xt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/w1)}const _g=ao(0),km=ao(1),Ile=ao(2),Rle=ao(3),jl=ao(4),Lle=ao(5),zle=ao(6);_g.range;km.range;Ile.range;Rle.range;jl.range;Lle.range;zle.range;const k1=Xt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());k1.range;const C1=Xt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());C1.range;const ta=Xt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ta.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ta.range;const ra=Xt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ra.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ra.range;function u3(e,t,r,n,i,a){const s=[[Ts,1,Ii],[Ts,5,5*Ii],[Ts,15,15*Ii],[Ts,30,30*Ii],[a,1,bn],[a,5,5*bn],[a,15,15*bn],[a,30,30*bn],[i,1,Ri],[i,3,3*Ri],[i,6,6*Ri],[i,12,12*Ri],[n,1,ea],[n,2,2*ea],[r,1,w1],[t,1,Wk],[t,3,3*Wk],[e,1,dy]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),x=m?m.range(u,+d+1):[];return h?x.reverse():x}function c(u,d,f){const h=Math.abs(d-u)/f,m=c1(([,,v])=>v).right(s,h);if(m===s.length)return e.every(Tx(u/dy,d/dy,f));if(m===0)return Sm.every(Math.max(Tx(u,d,f),1));const[x,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return x.every(g)}return[l,c]}const[Fle,Ule]=u3(ra,C1,_g,c3,N1,j1),[Ble,Vle]=u3(ta,k1,wg,ef,S1,_1);function fy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Oc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function qle(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=Ac(i),d=Tc(i),f=Ac(a),h=Tc(a),m=Ac(s),x=Tc(s),g=Ac(l),v=Tc(l),p=Ac(c),y=Tc(c),b={a:F,A:R,b:D,B:X,c:null,d:Jk,e:Jk,f:hce,g:jce,G:Nce,H:uce,I:dce,j:fce,L:d3,m:mce,M:pce,p:ne,q:Q,Q:eC,s:tC,S:gce,u:yce,U:vce,V:xce,w:bce,W:wce,x:null,X:null,y:_ce,Y:Sce,Z:kce,"%":Qk},_={a:K,A:ce,b:me,B:xe,c:null,d:Zk,e:Zk,f:Oce,g:Fce,G:Bce,H:Cce,I:Ece,j:Pce,L:h3,m:Ace,M:Tce,p:ue,q:be,Q:eC,s:tC,S:Mce,u:$ce,U:Dce,V:Ice,w:Rce,W:Lce,x:null,X:null,y:zce,Y:Uce,Z:Vce,"%":Qk},w={a:M,A:C,b:O,B:L,c:$,d:Kk,e:Kk,f:sce,g:Gk,G:Yk,H:Xk,I:Xk,j:rce,L:ace,m:tce,M:nce,p:E,q:ece,Q:lce,s:cce,S:ice,u:Kle,U:Xle,V:Jle,w:Gle,W:Zle,x:B,X:Y,y:Gk,Y:Yk,Z:Qle,"%":oce};b.x=j(r,b),b.X=j(n,b),b.c=j(t,b),_.x=j(r,_),_.X=j(n,_),_.c=j(t,_);function j(U,se){return function(W){var I=[],G=-1,ee=0,de=U.length,J,A,P;for(W instanceof Date||(W=new Date(+W));++G<de;)U.charCodeAt(G)===37&&(I.push(U.slice(ee,G)),(A=Hk[J=U.charAt(++G)])!=null?J=U.charAt(++G):A=J==="e"?" ":"0",(P=se[J])&&(J=P(W,A)),I.push(J),ee=G+1);return I.push(U.slice(ee,G)),I.join("")}}function N(U,se){return function(W){var I=Oc(1900,void 0,1),G=k(I,U,W+="",0),ee,de;if(G!=W.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(se&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(ee=hy(Oc(I.y,0,1)),de=ee.getUTCDay(),ee=de>4||de===0?km.ceil(ee):km(ee),ee=bg.offset(ee,(I.V-1)*7),I.y=ee.getUTCFullYear(),I.m=ee.getUTCMonth(),I.d=ee.getUTCDate()+(I.w+6)%7):(ee=fy(Oc(I.y,0,1)),de=ee.getDay(),ee=de>4||de===0?Nm.ceil(ee):Nm(ee),ee=ef.offset(ee,(I.V-1)*7),I.y=ee.getFullYear(),I.m=ee.getMonth(),I.d=ee.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),de="Z"in I?hy(Oc(I.y,0,1)).getUTCDay():fy(Oc(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(de+5)%7:I.w+I.U*7-(de+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,hy(I)):fy(I)}}function k(U,se,W,I){for(var G=0,ee=se.length,de=W.length,J,A;G<ee;){if(I>=de)return-1;if(J=se.charCodeAt(G++),J===37){if(J=se.charAt(G++),A=w[J in Hk?se.charAt(G++):J],!A||(I=A(U,W,I))<0)return-1}else if(J!=W.charCodeAt(I++))return-1}return I}function E(U,se,W){var I=u.exec(se.slice(W));return I?(U.p=d.get(I[0].toLowerCase()),W+I[0].length):-1}function M(U,se,W){var I=m.exec(se.slice(W));return I?(U.w=x.get(I[0].toLowerCase()),W+I[0].length):-1}function C(U,se,W){var I=f.exec(se.slice(W));return I?(U.w=h.get(I[0].toLowerCase()),W+I[0].length):-1}function O(U,se,W){var I=p.exec(se.slice(W));return I?(U.m=y.get(I[0].toLowerCase()),W+I[0].length):-1}function L(U,se,W){var I=g.exec(se.slice(W));return I?(U.m=v.get(I[0].toLowerCase()),W+I[0].length):-1}function $(U,se,W){return k(U,t,se,W)}function B(U,se,W){return k(U,r,se,W)}function Y(U,se,W){return k(U,n,se,W)}function F(U){return s[U.getDay()]}function R(U){return a[U.getDay()]}function D(U){return c[U.getMonth()]}function X(U){return l[U.getMonth()]}function ne(U){return i[+(U.getHours()>=12)]}function Q(U){return 1+~~(U.getMonth()/3)}function K(U){return s[U.getUTCDay()]}function ce(U){return a[U.getUTCDay()]}function me(U){return c[U.getUTCMonth()]}function xe(U){return l[U.getUTCMonth()]}function ue(U){return i[+(U.getUTCHours()>=12)]}function be(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var se=j(U+="",b);return se.toString=function(){return U},se},parse:function(U){var se=N(U+="",!1);return se.toString=function(){return U},se},utcFormat:function(U){var se=j(U+="",_);return se.toString=function(){return U},se},utcParse:function(U){var se=N(U+="",!0);return se.toString=function(){return U},se}}}var Hk={"-":"",_:" ",0:"0"},nr=/^\s*\d+/,Wle=/^%/,Hle=/[\\^$*+?|[\]().{}]/g;function Qe(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function Yle(e){return e.replace(Hle,"\\$&")}function Ac(e){return new RegExp("^(?:"+e.map(Yle).join("|")+")","i")}function Tc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Gle(e,t,r){var n=nr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Kle(e,t,r){var n=nr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Xle(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Jle(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Zle(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Yk(e,t,r){var n=nr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Gk(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Qle(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function ece(e,t,r){var n=nr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function tce(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Kk(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function rce(e,t,r){var n=nr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Xk(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function nce(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ice(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function ace(e,t,r){var n=nr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function sce(e,t,r){var n=nr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function oce(e,t,r){var n=Wle.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function lce(e,t,r){var n=nr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function cce(e,t,r){var n=nr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Jk(e,t){return Qe(e.getDate(),t,2)}function uce(e,t){return Qe(e.getHours(),t,2)}function dce(e,t){return Qe(e.getHours()%12||12,t,2)}function fce(e,t){return Qe(1+ef.count(ta(e),e),t,3)}function d3(e,t){return Qe(e.getMilliseconds(),t,3)}function hce(e,t){return d3(e,t)+"000"}function mce(e,t){return Qe(e.getMonth()+1,t,2)}function pce(e,t){return Qe(e.getMinutes(),t,2)}function gce(e,t){return Qe(e.getSeconds(),t,2)}function yce(e){var t=e.getDay();return t===0?7:t}function vce(e,t){return Qe(wg.count(ta(e)-1,e),t,2)}function f3(e){var t=e.getDay();return t>=4||t===0?_l(e):_l.ceil(e)}function xce(e,t){return e=f3(e),Qe(_l.count(ta(e),e)+(ta(e).getDay()===4),t,2)}function bce(e){return e.getDay()}function wce(e,t){return Qe(Nm.count(ta(e)-1,e),t,2)}function _ce(e,t){return Qe(e.getFullYear()%100,t,2)}function jce(e,t){return e=f3(e),Qe(e.getFullYear()%100,t,2)}function Sce(e,t){return Qe(e.getFullYear()%1e4,t,4)}function Nce(e,t){var r=e.getDay();return e=r>=4||r===0?_l(e):_l.ceil(e),Qe(e.getFullYear()%1e4,t,4)}function kce(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qe(t/60|0,"0",2)+Qe(t%60,"0",2)}function Zk(e,t){return Qe(e.getUTCDate(),t,2)}function Cce(e,t){return Qe(e.getUTCHours(),t,2)}function Ece(e,t){return Qe(e.getUTCHours()%12||12,t,2)}function Pce(e,t){return Qe(1+bg.count(ra(e),e),t,3)}function h3(e,t){return Qe(e.getUTCMilliseconds(),t,3)}function Oce(e,t){return h3(e,t)+"000"}function Ace(e,t){return Qe(e.getUTCMonth()+1,t,2)}function Tce(e,t){return Qe(e.getUTCMinutes(),t,2)}function Mce(e,t){return Qe(e.getUTCSeconds(),t,2)}function $ce(e){var t=e.getUTCDay();return t===0?7:t}function Dce(e,t){return Qe(_g.count(ra(e)-1,e),t,2)}function m3(e){var t=e.getUTCDay();return t>=4||t===0?jl(e):jl.ceil(e)}function Ice(e,t){return e=m3(e),Qe(jl.count(ra(e),e)+(ra(e).getUTCDay()===4),t,2)}function Rce(e){return e.getUTCDay()}function Lce(e,t){return Qe(km.count(ra(e)-1,e),t,2)}function zce(e,t){return Qe(e.getUTCFullYear()%100,t,2)}function Fce(e,t){return e=m3(e),Qe(e.getUTCFullYear()%100,t,2)}function Uce(e,t){return Qe(e.getUTCFullYear()%1e4,t,4)}function Bce(e,t){var r=e.getUTCDay();return e=r>=4||r===0?jl(e):jl.ceil(e),Qe(e.getUTCFullYear()%1e4,t,4)}function Vce(){return"+0000"}function Qk(){return"%"}function eC(e){return+e}function tC(e){return Math.floor(+e/1e3)}var go,p3,g3;qce({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qce(e){return go=qle(e),p3=go.format,go.parse,g3=go.utcFormat,go.utcParse,go}function Wce(e){return new Date(e)}function Hce(e){return e instanceof Date?+e:+new Date(+e)}function E1(e,t,r,n,i,a,s,l,c,u){var d=m1(),f=d.invert,h=d.domain,m=u(".%L"),x=u(":%S"),g=u("%I:%M"),v=u("%I %p"),p=u("%a %d"),y=u("%b %d"),b=u("%B"),_=u("%Y");function w(j){return(c(j)<j?m:l(j)<j?x:s(j)<j?g:a(j)<j?v:n(j)<j?i(j)<j?p:y:r(j)<j?b:_)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?h(Array.from(j,Hce)):h().map(Wce)},d.ticks=function(j){var N=h();return e(N[0],N[N.length-1],j??10)},d.tickFormat=function(j,N){return N==null?w:u(N)},d.nice=function(j){var N=h();return(!j||typeof j.range!="function")&&(j=t(N[0],N[N.length-1],j??10)),j?h(r3(N,j)):d},d.copy=function(){return Qd(d,E1(e,t,r,n,i,a,s,l,c,u))},d}function Yce(){return An.apply(E1(Ble,Vle,ta,k1,wg,ef,S1,_1,Ts,p3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Gce(){return An.apply(E1(Fle,Ule,ra,C1,_g,bg,N1,j1,Ts,g3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jg(){var e=0,t=1,r,n,i,a,s=Pr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(i===0?.5:(f=(a(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,x;return arguments.length?([m,x]=h,s=f(m,x),u):[s(0),s(1)]}}return u.range=d(cc),u.rangeRound=d(h1),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function as(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function y3(){var e=is(jg()(Pr));return e.copy=function(){return as(e,y3())},ua.apply(e,arguments)}function v3(){var e=y1(jg()).domain([1,10]);return e.copy=function(){return as(e,v3()).base(e.base())},ua.apply(e,arguments)}function x3(){var e=v1(jg());return e.copy=function(){return as(e,x3()).constant(e.constant())},ua.apply(e,arguments)}function P1(){var e=x1(jg());return e.copy=function(){return as(e,P1()).exponent(e.exponent())},ua.apply(e,arguments)}function Kce(){return P1.apply(null,arguments).exponent(.5)}function b3(){var e=[],t=Pr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Jd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Wa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Doe(e,a/n))},r.copy=function(){return b3(t).domain(e)},ua.apply(r,arguments)}function Sg(){var e=0,t=.5,r=1,n=1,i,a,s,l,c,u=Pr,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(n*g<n*a?l:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,i=d(e=+e),a=d(t=+t),s=d(r=+r),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function x(g){return function(v){var p,y,b;return arguments.length?([p,y,b]=v,u=ole(g,[p,y,b]),m):[u(0),u(.5),u(1)]}}return m.range=x(cc),m.rangeRound=x(h1),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(e),a=g(t),s=g(r),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,m}}function w3(){var e=is(Sg()(Pr));return e.copy=function(){return as(e,w3())},ua.apply(e,arguments)}function _3(){var e=y1(Sg()).domain([.1,1,10]);return e.copy=function(){return as(e,_3()).base(e.base())},ua.apply(e,arguments)}function j3(){var e=v1(Sg());return e.copy=function(){return as(e,j3()).constant(e.constant())},ua.apply(e,arguments)}function O1(){var e=x1(Sg());return e.copy=function(){return as(e,O1()).exponent(e.exponent())},ua.apply(e,arguments)}function Xce(){return O1.apply(null,arguments).exponent(.5)}const rC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rd,scaleDiverging:w3,scaleDivergingLog:_3,scaleDivergingPow:O1,scaleDivergingSqrt:Xce,scaleDivergingSymlog:j3,scaleIdentity:t3,scaleImplicit:Mx,scaleLinear:jm,scaleLog:n3,scaleOrdinal:u1,scalePoint:uu,scalePow:b1,scaleQuantile:s3,scaleQuantize:o3,scaleRadial:a3,scaleSequential:y3,scaleSequentialLog:v3,scaleSequentialPow:P1,scaleSequentialQuantile:b3,scaleSequentialSqrt:Kce,scaleSequentialSymlog:x3,scaleSqrt:Ole,scaleSymlog:i3,scaleThreshold:l3,scaleTime:Yce,scaleUtc:Gce,tickFormat:e3},Symbol.toStringTag,{value:"Module"}));var Jce=ec;function Zce(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],s=t(a);if(s!=null&&(l===void 0?s===s&&!Jce(s):r(s,l)))var l=s,c=a}return c}var Ng=Zce;function Qce(e,t){return e>t}var S3=Qce,eue=Ng,tue=S3,rue=oc;function nue(e){return e&&e.length?eue(e,rue,tue):void 0}var iue=nue;const kg=nt(iue);function aue(e,t){return e<t}var N3=aue,sue=Ng,oue=N3,lue=oc;function cue(e){return e&&e.length?sue(e,lue,oue):void 0}var uue=cue;const Cg=nt(uue);var due=q_,fue=bi,hue=MD,mue=Wr;function pue(e,t){var r=mue(e)?due:hue;return r(e,fue(t))}var gue=pue,yue=AD,vue=gue;function xue(e,t){return yue(vue(e,t),1)}var bue=xue;const wue=nt(bue);var _ue=a1;function jue(e,t){return _ue(e,t)}var Sue=jue;const Eg=nt(Sue);var uc=1e9,Nue={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},T1,kt=!0,Cn="[DecimalError] ",Fs=Cn+"Invalid argument: ",A1=Cn+"Exponent out of range: ",dc=Math.floor,ws=Math.pow,kue=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zr,Qt=1e7,bt=7,k3=9007199254740991,Cm=dc(k3/bt),je={};je.absoluteValue=je.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};je.comparedTo=je.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};je.decimalPlaces=je.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*bt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};je.dividedBy=je.div=function(e){return Hi(this,new this.constructor(e))};je.dividedToIntegerBy=je.idiv=function(e){var t=this,r=t.constructor;return dt(Hi(t,new r(e),0,1),r.precision)};je.equals=je.eq=function(e){return!this.cmp(e)};je.exponent=function(){return Bt(this)};je.greaterThan=je.gt=function(e){return this.cmp(e)>0};je.greaterThanOrEqualTo=je.gte=function(e){return this.cmp(e)>=0};je.isInteger=je.isint=function(){return this.e>this.d.length-2};je.isNegative=je.isneg=function(){return this.s<0};je.isPositive=je.ispos=function(){return this.s>0};je.isZero=function(){return this.s===0};je.lessThan=je.lt=function(e){return this.cmp(e)<0};je.lessThanOrEqualTo=je.lte=function(e){return this.cmp(e)<1};je.logarithm=je.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Zr))throw Error(Cn+"NaN");if(r.s<1)throw Error(Cn+(r.s?"NaN":"-Infinity"));return r.eq(Zr)?new n(0):(kt=!1,t=Hi(od(r,a),od(e,a),a),kt=!0,dt(t,i))};je.minus=je.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P3(t,e):C3(t,(e.s=-e.s,e))};je.modulo=je.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Cn+"NaN");return r.s?(kt=!1,t=Hi(r,e,0,1).times(e),kt=!0,r.minus(t)):dt(new n(r),i)};je.naturalExponential=je.exp=function(){return E3(this)};je.naturalLogarithm=je.ln=function(){return od(this)};je.negated=je.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};je.plus=je.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?C3(t,e):P3(t,(e.s=-e.s,e))};je.precision=je.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Fs+e);if(t=Bt(i)+1,n=i.d.length-1,r=n*bt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};je.squareRoot=je.sqrt=function(){var e,t,r,n,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Cn+"NaN")}for(e=Bt(l),kt=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=ii(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=dc((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(Hi(l,a,s+2)).times(.5),ii(a.d).slice(0,s)===(t=ii(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(dt(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;s+=4}return kt=!0,dt(n,r)};je.times=je.mul=function(e){var t,r,n,i,a,s,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(a=h,h=m,m=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=a[i]+m[n]*h[i-n-1]+t,a[i--]=l%Qt|0,t=l/Qt|0;a[i]=(a[i]+t)%Qt|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,kt?dt(e,f.precision):e};je.toDecimalPlaces=je.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(mi(e,0,uc),t===void 0?t=n.rounding:mi(t,0,8),dt(r,e+Bt(r)+1,t))};je.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ks(n,!0):(mi(e,0,uc),t===void 0?t=i.rounding:mi(t,0,8),n=dt(new i(n),e+1,t),r=Ks(n,!0,e+1)),r};je.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Ks(i):(mi(e,0,uc),t===void 0?t=a.rounding:mi(t,0,8),n=dt(new a(i),e+Bt(i)+1,t),r=Ks(n.abs(),!1,e+Bt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};je.toInteger=je.toint=function(){var e=this,t=e.constructor;return dt(new t(e),Bt(e)+1,t.rounding)};je.toNumber=function(){return+this};je.toPower=je.pow=function(e){var t,r,n,i,a,s,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Zr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Cn+"Infinity");return l}if(l.eq(Zr))return l;if(n=c.precision,e.eq(Zr))return dt(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=l.s,s){if((r=d<0?-d:d)<=k3){for(i=new c(Zr),t=Math.ceil(n/bt+4),kt=!1;r%2&&(i=i.times(l),iC(i.d,t)),r=dc(r/2),r!==0;)l=l.times(l),iC(l.d,t);return kt=!0,e.s<0?new c(Zr).div(i):dt(i,n)}}else if(a<0)throw Error(Cn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,kt=!1,i=e.times(od(l,n+u)),kt=!0,i=E3(i),i.s=a,i};je.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Bt(i),n=Ks(i,r<=a.toExpNeg||r>=a.toExpPos)):(mi(e,1,uc),t===void 0?t=a.rounding:mi(t,0,8),i=dt(new a(i),e,t),r=Bt(i),n=Ks(i,e<=r||r<=a.toExpNeg,e)),n};je.toSignificantDigits=je.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(mi(e,1,uc),t===void 0?t=n.rounding:mi(t,0,8)),dt(new n(r),e,t)};je.toString=je.valueOf=je.val=je.toJSON=je[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Bt(e),r=e.constructor;return Ks(e,t<=r.toExpNeg||t>=r.toExpPos)};function C3(e,t){var r,n,i,a,s,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),kt?dt(t,f):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,i=s,l=c.length),s=Math.ceil(f/bt),l=s>l?s+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Qt|0,c[a]%=Qt;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,kt?dt(t,f):t}function mi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Fs+e)}function ii(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=bt-n.length,r&&(a+=_a(r)),a+=n;s=e[t],n=s+"",r=bt-n.length,r&&(a+=_a(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Hi=function(){function e(n,i){var a,s=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+s,n[l]=a%Qt|0,s=a/Qt|0;return s&&n.unshift(s),n}function t(n,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Qt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var l,c,u,d,f,h,m,x,g,v,p,y,b,_,w,j,N,k,E=n.constructor,M=n.s==i.s?1:-1,C=n.d,O=i.d;if(!n.s)return new E(n);if(!i.s)throw Error(Cn+"Division by zero");for(c=n.e-i.e,N=O.length,w=C.length,m=new E(M),x=m.d=[],u=0;O[u]==(C[u]||0);)++u;if(O[u]>(C[u]||0)&&--c,a==null?y=a=E.precision:s?y=a+(Bt(n)-Bt(i))+1:y=a,y<0)return new E(0);if(y=y/bt+2|0,u=0,N==1)for(d=0,O=O[0],y++;(u<w||d)&&y--;u++)b=d*Qt+(C[u]||0),x[u]=b/O|0,d=b%O|0;else{for(d=Qt/(O[0]+1)|0,d>1&&(O=e(O,d),C=e(C,d),N=O.length,w=C.length),_=N,g=C.slice(0,N),v=g.length;v<N;)g[v++]=0;k=O.slice(),k.unshift(0),j=O[0],O[1]>=Qt/2&&++j;do d=0,l=t(O,g,N,v),l<0?(p=g[0],N!=v&&(p=p*Qt+(g[1]||0)),d=p/j|0,d>1?(d>=Qt&&(d=Qt-1),f=e(O,d),h=f.length,v=g.length,l=t(f,g,h,v),l==1&&(d--,r(f,N<h?k:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),l==-1&&(v=g.length,l=t(O,g,N,v),l<1&&(d++,r(g,N<v?k:O,v))),v=g.length):l===0&&(d++,g=[0]),x[u++]=d,l&&g[0]?g[v++]=C[_]||0:(g=[C[_]],v=1);while((_++<w||g[0]!==void 0)&&y--)}return x[0]||x.shift(),m.e=c,dt(m,s?a+Bt(m)+1:a)}}();function E3(e,t){var r,n,i,a,s,l,c=0,u=0,d=e.constructor,f=d.precision;if(Bt(e)>16)throw Error(A1+Bt(e));if(!e.s)return new d(Zr);for(kt=!1,l=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(ws(2,u))/Math.LN10*2+5|0,l+=n,r=i=a=new d(Zr),d.precision=l;;){if(i=dt(i.times(e),l),r=r.times(++c),s=a.plus(Hi(i,r,l)),ii(s.d).slice(0,l)===ii(a.d).slice(0,l)){for(;u--;)a=dt(a.times(a),l);return d.precision=f,t==null?(kt=!0,dt(a,f)):a}a=s}}function Bt(e){for(var t=e.e*bt,r=e.d[0];r>=10;r/=10)t++;return t}function my(e,t,r){if(t>e.LN10.sd())throw kt=!0,r&&(e.precision=r),Error(Cn+"LN10 precision limit exceeded");return dt(new e(e.LN10),t)}function _a(e){for(var t="";e--;)t+="0";return t}function od(e,t){var r,n,i,a,s,l,c,u,d,f=1,h=10,m=e,x=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(Cn+(m.s?"NaN":"-Infinity"));if(m.eq(Zr))return new g(0);if(t==null?(kt=!1,u=v):u=t,m.eq(10))return t==null&&(kt=!0),my(g,u);if(u+=h,g.precision=u,r=ii(x),n=r.charAt(0),a=Bt(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=ii(m.d),n=r.charAt(0),f++;a=Bt(m),n>1?(m=new g("0."+r),a++):m=new g(n+"."+r.slice(1))}else return c=my(g,u+2,v).times(a+""),m=od(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=v,t==null?(kt=!0,dt(m,v)):m;for(l=s=m=Hi(m.minus(Zr),m.plus(Zr),u),d=dt(m.times(m),u),i=3;;){if(s=dt(s.times(d),u),c=l.plus(Hi(s,new g(i),u)),ii(c.d).slice(0,u)===ii(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(my(g,u+2,v).times(a+""))),l=Hi(l,new g(f),u),g.precision=v,t==null?(kt=!0,dt(l,v)):l;l=c,i+=2}}function nC(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=dc(r/bt),e.d=[],n=(r+1)%bt,r<0&&(n+=bt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=bt;n<i;)e.d.push(+t.slice(n,n+=bt));t=t.slice(n),n=bt-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),kt&&(e.e>Cm||e.e<-Cm))throw Error(A1+r)}else e.s=0,e.e=0,e.d=[0];return e}function dt(e,t,r){var n,i,a,s,l,c,u,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=bt,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/bt),a=f.length,d>=a)return e;for(u=a=f[d],s=1;a>=10;a/=10)s++;n%=bt,i=n-bt+s}if(r!==void 0&&(a=ws(10,s-i-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/ws(10,s-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=Bt(e),f.length=1,t=t-a-1,f[0]=ws(10,(bt-t%bt)%bt),e.e=dc(-t/bt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=ws(10,bt-n),f[d]=i>0?(u/ws(10,s-i)%ws(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Qt&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Qt)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(kt&&(e.e>Cm||e.e<-Cm))throw Error(A1+Bt(e));return e}function P3(e,t){var r,n,i,a,s,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),kt?dt(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(m/bt),l)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=Qt-1;--c[a],c[i]+=Qt}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,kt?dt(t,m):t):new h(0)}function Ks(e,t,r){var n,i=Bt(e),a=ii(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+_a(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+_a(-i-1)+a,r&&(n=r-s)>0&&(a+=_a(n))):i>=s?(a+=_a(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+_a(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=_a(n))),e.s<0?"-"+a:a}function iC(e,t){if(e.length>t)return e.length=t,!0}function O3(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Fs+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return nC(s,a.toString())}else if(typeof a!="string")throw Error(Fs+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,kue.test(a))nC(s,a);else throw Error(Fs+a)}if(i.prototype=je,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=O3,i.config=i.set=Cue,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Cue(e){if(!e||typeof e!="object")throw Error(Cn+"Object expected");var t,r,n,i=["precision",1,uc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(dc(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Fs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Fs+r+": "+n);return this}var T1=O3(Nue);Zr=new T1(1);const ct=T1;function Eue(e){return Tue(e)||Aue(e)||Oue(e)||Pue()}function Pue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oue(e,t){if(e){if(typeof e=="string")return Rx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rx(e,t)}}function Aue(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Tue(e){if(Array.isArray(e))return Rx(e)}function Rx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Mue=function(t){return t},A3={},T3=function(t){return t===A3},aC=function(t){return function r(){return arguments.length===0||arguments.length===1&&T3(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},$ue=function e(t,r){return t===1?r:aC(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==A3}).length;return s>=t?r.apply(void 0,i):e(t-s,aC(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return T3(f)?c.shift():f});return r.apply(void 0,Eue(d).concat(c))}))})},Pg=function(t){return $ue(t.length,t)},Lx=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},Due=Pg(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Iue=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Mue;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},zx=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},M3=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function Rue(e){var t;return e===0?t=1:t=Math.floor(new ct(e).abs().log(10).toNumber())+1,t}function Lue(e,t,r){for(var n=new ct(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var zue=Pg(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),Fue=Pg(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Uue=Pg(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Og={rangeStep:Lue,getDigitCount:Rue,interpolateNumber:zue,uninterpolateNumber:Fue,uninterpolateTruncation:Uue};function Fx(e){return que(e)||Vue(e)||$3(e)||Bue()}function Bue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vue(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function que(e){if(Array.isArray(e))return Ux(e)}function ld(e,t){return Yue(e)||Hue(e,t)||$3(e,t)||Wue()}function Wue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $3(e,t){if(e){if(typeof e=="string")return Ux(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ux(e,t)}}function Ux(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hue(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function Yue(e){if(Array.isArray(e))return e}function D3(e){var t=ld(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function I3(e,t,r){if(e.lte(0))return new ct(0);var n=Og.getDigitCount(e.toNumber()),i=new ct(10).pow(n),a=e.div(i),s=n!==1?.05:.1,l=new ct(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=l.mul(i);return t?c:new ct(Math.ceil(c))}function Gue(e,t,r){var n=1,i=new ct(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new ct(10).pow(Og.getDigitCount(e)-1),i=new ct(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new ct(Math.floor(e)))}else e===0?i=new ct(Math.floor((t-1)/2)):r||(i=new ct(Math.floor(e)));var s=Math.floor((t-1)/2),l=Iue(Due(function(c){return i.add(new ct(c-s).mul(n)).toNumber()}),Lx);return l(0,t)}function R3(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ct(0),tickMin:new ct(0),tickMax:new ct(0)};var a=I3(new ct(t).sub(e).div(r-1),n,i),s;e<=0&&t>=0?s=new ct(0):(s=new ct(e).add(t).div(2),s=s.sub(new ct(s).mod(a)));var l=Math.ceil(s.sub(e).div(a).toNumber()),c=Math.ceil(new ct(t).sub(s).div(a).toNumber()),u=l+c+1;return u>r?R3(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:a,tickMin:s.sub(new ct(l).mul(a)),tickMax:s.add(new ct(c).mul(a))})}function Kue(e){var t=ld(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=D3([r,n]),c=ld(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Fx(Lx(0,i-1).map(function(){return 1/0}))):[].concat(Fx(Lx(0,i-1).map(function(){return-1/0})),[d]);return r>n?zx(f):f}if(u===d)return Gue(u,i,a);var h=R3(u,d,s,a),m=h.step,x=h.tickMin,g=h.tickMax,v=Og.rangeStep(x,g.add(new ct(.1).mul(m)),m);return r>n?zx(v):v}function Xue(e,t){var r=ld(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=D3([n,i]),l=ld(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(t,2),f=I3(new ct(u).sub(c).div(d-1),a,0),h=[].concat(Fx(Og.rangeStep(new ct(c),new ct(u).sub(new ct(.99).mul(f)),f)),[u]);return n>i?zx(h):h}var Jue=M3(Kue),Zue=M3(Xue),Que="Invariant failed";function Xs(e,t){throw new Error(Que)}var ede=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Sl(e){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(e)}function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Em.apply(this,arguments)}function tde(e,t){return ade(e)||ide(e,t)||nde(e,t)||rde()}function rde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nde(e,t){if(e){if(typeof e=="string")return sC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sC(e,t)}}function sC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ide(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function ade(e){if(Array.isArray(e))return e}function sde(e,t){if(e==null)return{};var r=ode(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ode(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F3(n.key),n)}}function ude(e,t,r){return t&&cde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dde(e,t,r){return t=Pm(t),fde(e,L3()?Reflect.construct(t,r||[],Pm(e).constructor):t.apply(e,r))}function fde(e,t){if(t&&(Sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hde(e)}function hde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L3=function(){return!!e})()}function Pm(e){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pm(e)}function mde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bx(e,t)}function Bx(e,t){return Bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Bx(e,t)}function z3(e,t,r){return t=F3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F3(e){var t=pde(e,"string");return Sl(t)=="symbol"?t:t+""}function pde(e,t){if(Sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ag=function(e){function t(){return lde(this,t),dde(this,t,arguments)}return mde(t,e),ude(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=sde(n,ede),m=Ae(h,!1);this.props.direction==="x"&&d.type!=="number"&&Xs();var x=c.map(function(g){var v=u(g,l),p=v.x,y=v.y,b=v.value,_=v.errorVal;if(!_)return null;var w=[],j,N;if(Array.isArray(_)){var k=tde(_,2);j=k[0],N=k[1]}else j=N=_;if(a==="vertical"){var E=d.scale,M=y+i,C=M+s,O=M-s,L=E(b-j),$=E(b+N);w.push({x1:$,y1:C,x2:$,y2:O}),w.push({x1:L,y1:M,x2:$,y2:M}),w.push({x1:L,y1:C,x2:L,y2:O})}else if(a==="horizontal"){var B=f.scale,Y=p+i,F=Y-s,R=Y+s,D=B(b-j),X=B(b+N);w.push({x1:F,y1:X,x2:R,y2:X}),w.push({x1:Y,y1:D,x2:Y,y2:X}),w.push({x1:F,y1:D,x2:R,y2:D})}return z.createElement(it,Em({className:"recharts-errorBar",key:"bar-".concat(w.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},m),w.map(function(ne){return z.createElement("line",Em({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return z.createElement(it,{className:"recharts-errorBars"},x)}}])}(z.Component);z3(Ag,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});z3(Ag,"displayName","ErrorBar");function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function oC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function us(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(r),!0).forEach(function(n){gde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gde(e,t,r){return t=yde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yde(e){var t=vde(e,"string");return cd(t)=="symbol"?t:t+""}function vde(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U3=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,s=Kr(r,Wi);if(!s)return null;var l=Wi.defaultProps,c=l!==void 0?us(us({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,x=m.sectors||m.data||[];return d.concat(x.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?us(us({},h),f.props):{},x=m.dataKey,g=m.name,v=m.legendType,p=m.hide;return{inactive:p,dataKey:x,type:c.iconType||v||"square",color:M1(f),value:g||x,payload:m}}),us(us(us({},c),Wi.getWithHeight(s,i)),{},{payload:u,item:s})};function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function lC(e){return _de(e)||wde(e)||bde(e)||xde()}function xde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bde(e,t){if(e){if(typeof e=="string")return Vx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vx(e,t)}}function wde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _de(e){if(Array.isArray(e))return Vx(e)}function Vx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(r),!0).forEach(function(n){rl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rl(e,t,r){return t=jde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jde(e){var t=Sde(e,"string");return ud(t)=="symbol"?t:t+""}function Sde(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xr(e,t,r){return qe(e)||qe(t)?r:Kt(t)?rn(e,t,r):Te(t)?t(e):r}function du(e,t,r,n){var i=wue(e,function(l){return xr(l,t)});if(r==="number"){var a=i.filter(function(l){return pe(l)||parseFloat(l)});return a.length?[Cg(a),kg(a)]:[1/0,-1/0]}var s=n?i.filter(function(l){return!qe(l)}):i;return s.map(function(l){return Kt(l)||l instanceof Date?l:""})}var Nde=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,h=u>=l-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Cr(f-d)!==Cr(h-f)){var x=[];if(Cr(h-f)===Cr(c[1]-c[0])){m=h;var g=f+c[1]-c[0];x[0]=Math.min(g,(g+d)/2),x[1]=Math.max(g,(g+d)/2)}else{m=d;var v=h+c[1]-c[0];x[0]=Math.min(f,(v+f)/2),x[1]=Math.max(f,(v+f)/2)}var p=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>p[0]&&t<=p[1]||t>=x[0]&&t<=x[1]){s=i[u].index;break}}else{var y=Math.min(d,h),b=Math.max(d,h);if(t>(y+f)/2&&t<=(b+f)/2){s=i[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},M1=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Dt(Dt({},t.type.defaultProps),t.props):t.props,s=a.stroke,l=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},kde=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var x=d[f[h]],g=x.items,v=x.cateAxisId,p=g.filter(function(N){return qi(N.type).indexOf("Bar")>=0});if(p&&p.length){var y=p[0].type.defaultProps,b=y!==void 0?Dt(Dt({},y),p[0].props):p[0].props,_=b.barSize,w=b[v];s[w]||(s[w]=[]);var j=qe(_)?r:_;s[w].push({item:p[0],stackList:p.slice(1),barSize:qe(j)?void 0:Er(j,n,0)})}}return s},Cde=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,s=a===void 0?[]:a,l=t.maxBarSize,c=s.length;if(c<1)return null;var u=Er(r,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,m=i/c,x=s.reduce(function(_,w){return _+w.barSize||0},0);x+=(c-1)*u,x>=i&&(x-=(c-1)*u,u=0),x>=i&&m>0&&(h=!0,m*=.9,x=c*m);var g=(i-x)/2>>0,v={offset:g-u,size:0};d=s.reduce(function(_,w){var j={item:w.item,position:{offset:v.offset+v.size+u,size:h?m:w.barSize}},N=[].concat(lC(_),[j]);return v=N[N.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(k){N.push({item:k,position:v})}),N},f)}else{var p=Er(n,i,0,!0);i-2*p-(c-1)*u<=0&&(u=0);var y=(i-2*p-(c-1)*u)/c;y>1&&(y>>=0);var b=l===+l?Math.min(y,l):y;d=s.reduce(function(_,w,j){var N=[].concat(lC(_),[{item:w.item,position:{offset:p+(y+u)*j+(y-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(k){N.push({item:k,position:N[N.length-1].position})}),N},f)}return d},Ede=function(t,r,n,i){var a=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),u=U3({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,m=u.align,x=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&x==="middle")&&m!=="center"&&pe(t[m]))return Dt(Dt({},t),{},rl({},m,t[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&x!=="middle"&&pe(t[x]))return Dt(Dt({},t),{},rl({},x,t[x]+(h||0)))}return t},Pde=function(t,r,n){return qe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},B3=function(t,r,n,i,a){var s=r.props.children,l=Sn(s,Ag).filter(function(u){return Pde(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=xr(d,n);if(qe(f))return u;var h=Array.isArray(f)?[Cg(f),kg(f)]:[f,f],m=c.reduce(function(x,g){var v=xr(d,g,0),p=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(p,x[0]),Math.max(y,x[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Ode=function(t,r,n,i,a){var s=r.map(function(l){return B3(t,l,n,a,i)}).filter(function(l){return!qe(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},V3=function(t,r,n,i,a){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&B3(t,c,u,i)||du(t,u,n,a)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},q3=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},W3=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var a,s,l=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(s=!0),c.coordinate});return a||l.push(r),s||l.push(n),l},Li=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,s=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Cr(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Gd(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},py=new WeakMap,zf=function(t,r){if(typeof r!="function")return t;py.has(t)||py.set(t,new WeakMap);var n=py.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},H3=function(t,r,n){var i=t.scale,a=t.type,s=t.layout,l=t.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:rd(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:jm(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:uu(),realScaleType:"point"}:a==="category"?{scale:rd(),realScaleType:"band"}:{scale:jm(),realScaleType:"linear"};if(Hs(i)){var c="scale".concat(dg(i));return{scale:(rC[c]||uu)(),realScaleType:rC[c]?c:"point"}}return Te(i)?{scale:i}:{scale:uu(),realScaleType:"point"}},uC=1e-4,Y3=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-uC,s=Math.max(i[0],i[1])+uC,l=t(r[0]),c=t(r[n-1]);(l<a||l>s||c<a||c>s)&&t.domain([r[0],r[n-1]])}},Ade=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},Tde=function(t,r){if(!r||r.length!==2||!pe(r[0])||!pe(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!pe(t[0])||t[0]<n)&&(a[0]=n),(!pe(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Mde=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0,l=0;l<r;++l){var c=Gd(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1])}},$de=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var l=Gd(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},Dde={sign:Mde,expand:eZ,none:gl,silhouette:tZ,wiggle:rZ,positive:$de},Ide=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),a=Dde[n],s=QJ().keys(i).value(function(l,c){return+xr(l,c,0)}).order(mx).offset(a);return s(t)},Rde=function(t,r,n,i,a,s){if(!t)return null;var l=s?r.reverse():r,c={},u=l.reduce(function(f,h){var m,x=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Dt(Dt({},h.type.defaultProps),h.props):h.props,g=x.stackId,v=x.hide;if(v)return f;var p=x[n],y=f[p]||{hasStack:!1,stackGroups:{}};if(Kt(g)){var b=y.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};b.items.push(h),y.hasStack=!0,y.stackGroups[g]=b}else y.stackGroups[Kd("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Dt(Dt({},f),{},rl({},p,y))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var x={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var p=m.stackGroups[v];return Dt(Dt({},g),{},rl({},v,{numericAxisId:n,cateAxisId:i,items:p.items,stackedData:Ide(t,p.items,a)}))},x)}return Dt(Dt({},f),{},rl({},h,m))},d)},G3=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Jue(u,a,l);return t.domain([Cg(d),kg(d)]),{niceTicks:d}}if(a&&i==="number"){var f=t.domain(),h=Zue(f,a,l);return{niceTicks:h}}return null},dC=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,s=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=xr(s,r.dataKey,r.domain[l]);return qe(c)?null:r.scale(c)-a/2+i},Lde=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},zde=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Dt(Dt({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(Kt(a)){var s=r[a];if(s){var l=s.items.indexOf(t);return l>=0?s.stackedData[l]:null}}return null},Fde=function(t){return t.reduce(function(r,n){return[Cg(n.concat([r[0]]).filter(pe)),kg(n.concat([r[1]]).filter(pe))]},[1/0,-1/0])},K3=function(t,r,n){return Object.keys(t).reduce(function(i,a){var s=t[a],l=s.stackedData,c=l.reduce(function(u,d){var f=Fde(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},fC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qx=function(t,r,n){if(Te(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(pe(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(fC.test(t[0])){var a=+fC.exec(t[0])[1];i[0]=r[0]-a}else Te(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(pe(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(hC.test(t[1])){var s=+hC.exec(t[1])[1];i[1]=r[1]+s}else Te(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Om=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=o1(r,function(f){return f.coordinate}),s=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},mC=function(t,r,n){return!t||!t.length||Eg(t,rn(n,"type.defaultProps.domain"))?r:t},X3=function(t,r){var n=t.type.defaultProps?Dt(Dt({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Dt(Dt({},Ae(t,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:M1(t),value:xr(r,i),type:c,payload:r,chartType:u,hide:d})};function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function pC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(r),!0).forEach(function(n){J3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J3(e,t,r){return t=Ude(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ude(e){var t=Bde(e,"string");return dd(t)=="symbol"?t:t+""}function Bde(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vde(e,t){return Yde(e)||Hde(e,t)||Wde(e,t)||qde()}function qde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wde(e,t){if(e){if(typeof e=="string")return gC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gC(e,t)}}function gC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Yde(e){if(Array.isArray(e))return e}var Am=Math.PI/180,Gde=function(t){return t*180/Math.PI},gt=function(t,r,n,i){return{x:t+Math.cos(-Am*i)*n,y:r+Math.sin(-Am*i)*n}},Z3=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Kde=function(t,r,n,i,a){var s=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Er(t.cx,s,s/2),f=Er(t.cy,l,l/2),h=Z3(s,l,n),m=Er(t.innerRadius,h,0),x=Er(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(v,p){var y=r[p],b=y.domain,_=y.reversed,w;if(qe(y.range))i==="angleAxis"?w=[c,u]:i==="radiusAxis"&&(w=[m,x]),_&&(w=[w[1],w[0]]);else{w=y.range;var j=w,N=Vde(j,2);c=N[0],u=N[1]}var k=H3(y,a),E=k.realScaleType,M=k.scale;M.domain(b).range(w),Y3(M);var C=G3(M,Oi(Oi({},y),{},{realScaleType:E})),O=Oi(Oi(Oi({},y),C),{},{range:w,radius:x,realScaleType:E,scale:M,cx:d,cy:f,innerRadius:m,outerRadius:x,startAngle:c,endAngle:u});return Oi(Oi({},v),{},J3({},p,O))},{})},Xde=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},Jde=function(t,r){var n=t.x,i=t.y,a=r.cx,s=r.cy,l=Xde({x:n,y:i},{x:a,y:s});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return i>s&&(u=2*Math.PI-u),{radius:l,angle:Gde(u),angleInRadian:u}},Zde=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},Qde=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),l=Math.min(a,s);return t+l*360},yC=function(t,r){var n=t.x,i=t.y,a=Jde({x:n,y:i},r),s=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=Zde(r),f=d.startAngle,h=d.endAngle,m=l,x;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;x=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;x=m>=h&&m<=f}return x?Oi(Oi({},r),{},{radius:s,angle:Qde(m,r)}):null},Q3=function(t){return!S.isValidElement(t)&&!Te(t)&&typeof t!="boolean"?t.className:""};function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}var efe=["offset"];function tfe(e){return afe(e)||ife(e)||nfe(e)||rfe()}function rfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nfe(e,t){if(e){if(typeof e=="string")return Wx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wx(e,t)}}function ife(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function afe(e){if(Array.isArray(e))return Wx(e)}function Wx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sfe(e,t){if(e==null)return{};var r=ofe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ofe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(r),!0).forEach(function(n){lfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lfe(e,t,r){return t=cfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cfe(e){var t=ufe(e,"string");return fd(t)=="symbol"?t:t+""}function ufe(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hd.apply(this,arguments)}var dfe=function(t){var r=t.value,n=t.formatter,i=qe(t.children)?r:t.children;return Te(n)?n(i):i},ffe=function(t,r){var n=Cr(r-t),i=Math.min(Math.abs(r-t),360);return n*i},hfe=function(t,r,n){var i=t.position,a=t.viewBox,s=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,x=c.endAngle,g=c.clockWise,v=(f+h)/2,p=ffe(m,x),y=p>=0?1:-1,b,_;i==="insideStart"?(b=m+y*s,_=g):i==="insideEnd"?(b=x-y*s,_=!g):i==="end"&&(b=x+y*s,_=g),_=p<=0?_:!_;var w=gt(u,d,v,b),j=gt(u,d,v,b+(_?1:-1)*359),N="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(j.x,",").concat(j.y),k=qe(t.id)?Kd("recharts-radial-line-"):t.id;return z.createElement("text",hd({},n,{dominantBaseline:"central",className:Be("recharts-radial-bar-label",l)}),z.createElement("defs",null,z.createElement("path",{id:k,d:N})),z.createElement("textPath",{xlinkHref:"#".concat(k)},r))},mfe=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,s=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var m=gt(s,l,u+n,h),x=m.x,g=m.y;return{x,y:g,textAnchor:x>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,p=gt(s,l,v,h),y=p.x,b=p.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},pfe=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,s=r,l=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",x=f>0?"start":"end",g=u>=0?1:-1,v=g*i,p=g>0?"end":"start",y=g>0?"start":"end";if(a==="top"){var b={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:m};return Vt(Vt({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:x};return Vt(Vt({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var w={x:l-v,y:c+d/2,textAnchor:p,verticalAnchor:"middle"};return Vt(Vt({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(a==="right"){var j={x:l+u+v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Vt(Vt({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return a==="insideLeft"?Vt({x:l+v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},N):a==="insideRight"?Vt({x:l+u-v,y:c+d/2,textAnchor:p,verticalAnchor:"middle"},N):a==="insideTop"?Vt({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:x},N):a==="insideBottom"?Vt({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},N):a==="insideTopLeft"?Vt({x:l+v,y:c+h,textAnchor:y,verticalAnchor:x},N):a==="insideTopRight"?Vt({x:l+u-v,y:c+h,textAnchor:p,verticalAnchor:x},N):a==="insideBottomLeft"?Vt({x:l+v,y:c+d-h,textAnchor:y,verticalAnchor:m},N):a==="insideBottomRight"?Vt({x:l+u-v,y:c+d-h,textAnchor:p,verticalAnchor:m},N):tc(a)&&(pe(a.x)||Os(a.x))&&(pe(a.y)||Os(a.y))?Vt({x:l+Er(a.x,u),y:c+Er(a.y,d),textAnchor:"end",verticalAnchor:"end"},N):Vt({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},gfe=function(t){return"cx"in t&&pe(t.cx)};function tr(e){var t=e.offset,r=t===void 0?5:t,n=sfe(e,efe),i=Vt({offset:r},n),a=i.viewBox,s=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||qe(l)&&qe(c)&&!S.isValidElement(u)&&!Te(u))return null;if(S.isValidElement(u))return S.cloneElement(u,i);var m;if(Te(u)){if(m=S.createElement(u,i),S.isValidElement(m))return m}else m=dfe(i);var x=gfe(a),g=Ae(i,!0);if(x&&(s==="insideStart"||s==="insideEnd"||s==="end"))return hfe(i,m,g);var v=x?mfe(i):pfe(i);return z.createElement(Gs,hd({className:Be("recharts-label",f)},g,v,{breakAll:h}),m)}tr.displayName="Label";var e4=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,s=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,x=t.left,g=t.width,v=t.height,p=t.clockWise,y=t.labelViewBox;if(y)return y;if(pe(g)&&pe(v)){if(pe(f)&&pe(h))return{x:f,y:h,width:g,height:v};if(pe(m)&&pe(x))return{x:m,y:x,width:g,height:v}}return pe(f)&&pe(h)?{x:f,y:h,width:0,height:0}:pe(r)&&pe(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:p}:t.viewBox?t.viewBox:{}},yfe=function(t,r){return t?t===!0?z.createElement(tr,{key:"label-implicit",viewBox:r}):Kt(t)?z.createElement(tr,{key:"label-implicit",viewBox:r,value:t}):S.isValidElement(t)?t.type===tr?S.cloneElement(t,{key:"label-implicit",viewBox:r}):z.createElement(tr,{key:"label-implicit",content:t,viewBox:r}):Te(t)?z.createElement(tr,{key:"label-implicit",content:t,viewBox:r}):tc(t)?z.createElement(tr,hd({viewBox:r},t,{key:"label-implicit"})):null:null},vfe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=e4(t),s=Sn(i,tr).map(function(c,u){return S.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return s;var l=yfe(t.label,r||a);return[l].concat(tfe(s))};tr.parseViewBox=e4;tr.renderCallByParent=vfe;function xfe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var bfe=xfe;const wfe=nt(bfe);function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}var _fe=["valueAccessor"],jfe=["data","dataKey","clockWise","id","textBreakAll"];function Sfe(e){return Efe(e)||Cfe(e)||kfe(e)||Nfe()}function Nfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kfe(e,t){if(e){if(typeof e=="string")return Hx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hx(e,t)}}function Cfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Efe(e){if(Array.isArray(e))return Hx(e)}function Hx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tm(){return Tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tm.apply(this,arguments)}function xC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xC(Object(r),!0).forEach(function(n){Pfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pfe(e,t,r){return t=Ofe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ofe(e){var t=Afe(e,"string");return md(t)=="symbol"?t:t+""}function Afe(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wC(e,t){if(e==null)return{};var r=Tfe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Mfe=function(t){return Array.isArray(t.value)?wfe(t.value):t.value};function Ha(e){var t=e.valueAccessor,r=t===void 0?Mfe:t,n=wC(e,_fe),i=n.data,a=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,u=wC(n,jfe);return!i||!i.length?null:z.createElement(it,{className:"recharts-label-list"},i.map(function(d,f){var h=qe(a)?r(d,f):xr(d&&d.payload,a),m=qe(l)?{}:{id:"".concat(l,"-").concat(f)};return z.createElement(tr,Tm({},Ae(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:tr.parseViewBox(qe(s)?d:bC(bC({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Ha.displayName="LabelList";function $fe(e,t){return e?e===!0?z.createElement(Ha,{key:"labelList-implicit",data:t}):z.isValidElement(e)||Te(e)?z.createElement(Ha,{key:"labelList-implicit",data:t,content:e}):tc(e)?z.createElement(Ha,Tm({data:t},e,{key:"labelList-implicit"})):null:null}function Dfe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Sn(n,Ha).map(function(s,l){return S.cloneElement(s,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var a=$fe(e.label,t);return[a].concat(Sfe(i))}Ha.renderCallByParent=Dfe;function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yx.apply(this,arguments)}function _C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_C(Object(r),!0).forEach(function(n){Ife(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ife(e,t,r){return t=Rfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rfe(e){var t=Lfe(e,"string");return pd(t)=="symbol"?t:t+""}function Lfe(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zfe=function(t,r){var n=Cr(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Ff=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,s=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/Am,h=u?a:a+s*f,m=gt(r,n,d,h),x=gt(r,n,i,h),g=u?a-s*f:a,v=gt(r,n,d*Math.cos(f*Am),g);return{center:m,circleTangency:x,lineTangency:v,theta:f}},t4=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.startAngle,l=t.endAngle,c=zfe(s,l),u=s+c,d=gt(r,n,a,s),f=gt(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=gt(r,n,i,s),x=gt(r,n,i,u);h+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Ffe=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Cr(d-u),h=Ff({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),m=h.circleTangency,x=h.lineTangency,g=h.theta,v=Ff({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),p=v.circleTangency,y=v.lineTangency,b=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-g-b;if(_<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):t4({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var w="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var j=Ff({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),N=j.circleTangency,k=j.lineTangency,E=j.theta,M=Ff({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),C=M.circleTangency,O=M.lineTangency,L=M.theta,$=c?Math.abs(u-d):Math.abs(u-d)-E-L;if($<0&&s===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},Ufe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},r4=function(t){var r=jC(jC({},Ufe),t),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<a||d===f)return null;var m=Be("recharts-sector",h),x=s-a,g=Er(l,x,0,!0),v;return g>0&&Math.abs(d-f)<360?v=Ffe({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=t4({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),z.createElement("path",Yx({},Ae(r,!0),{className:m,d:v,role:"img"}))};function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gx.apply(this,arguments)}function SC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(r),!0).forEach(function(n){Bfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bfe(e,t,r){return t=Vfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vfe(e){var t=qfe(e,"string");return gd(t)=="symbol"?t:t+""}function qfe(e,t){if(gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kC={curveBasisClosed:BJ,curveBasisOpen:VJ,curveBasis:UJ,curveBumpX:CJ,curveBumpY:EJ,curveLinearClosed:qJ,curveLinear:hg,curveMonotoneX:WJ,curveMonotoneY:HJ,curveNatural:YJ,curveStep:GJ,curveStepAfter:XJ,curveStepBefore:KJ},Uf=function(t){return t.x===+t.x&&t.y===+t.y},Mc=function(t){return t.x},$c=function(t){return t.y},Wfe=function(t,r){if(Te(t))return t;var n="curve".concat(dg(t));return(n==="curveMonotone"||n==="curveBump")&&r?kC["".concat(n).concat(r==="vertical"?"Y":"X")]:kC[n]||hg},Hfe=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,s=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Wfe(n,l),f=u?a.filter(function(g){return Uf(g)}):a,h;if(Array.isArray(s)){var m=u?s.filter(function(g){return Uf(g)}):s,x=f.map(function(g,v){return NC(NC({},g),{},{base:m[v]})});return l==="vertical"?h=Af().y($c).x1(Mc).x0(function(g){return g.base.x}):h=Af().x(Mc).y1($c).y0(function(g){return g.base.y}),h.defined(Uf).curve(d),h(x)}return l==="vertical"&&pe(s)?h=Af().y($c).x1(Mc).x0(s):pe(s)?h=Af().x(Mc).y1($c).y0(s):h=X$().x(Mc).y($c),h.defined(Uf).curve(d),h(f)},Kx=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?Hfe(t):i;return z.createElement("path",Gx({},Ae(t,!1),nm(t),{className:Be("recharts-curve",r),d:s,ref:a}))},n4={exports:{}},Yfe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Gfe=Yfe,Kfe=Gfe;function i4(){}function a4(){}a4.resetWarningCache=i4;var Xfe=function(){function e(n,i,a,s,l,c){if(c!==Kfe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a4,resetWarningCache:i4};return r.PropTypes=r,r};n4.exports=Xfe();var Jfe=n4.exports;const rt=nt(Jfe);var Zfe=Object.getOwnPropertyNames,Qfe=Object.getOwnPropertySymbols,ehe=Object.prototype.hasOwnProperty;function CC(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function Bf(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var a=i.cache,s=a.get(r),l=a.get(n);if(s&&l)return s===n&&l===r;a.set(r,n),a.set(n,r);var c=e(r,n,i);return a.delete(r),a.delete(n),c}}function EC(e){return Zfe(e).concat(Qfe(e))}var the=Object.hasOwn||function(e,t){return ehe.call(e,t)};function so(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var rhe="__v",nhe="__o",ihe="_owner",PC=Object.getOwnPropertyDescriptor,OC=Object.keys;function ahe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function she(e,t){return so(e.getTime(),t.getTime())}function ohe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function lhe(e,t){return e===t}function AC(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.entries(),s,l,c=0;(s=a.next())&&!s.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var h=s.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var che=so;function uhe(e,t,r){var n=OC(e),i=n.length;if(OC(t).length!==i)return!1;for(;i-- >0;)if(!s4(e,t,r,n[i]))return!1;return!0}function Dc(e,t,r){var n=EC(e),i=n.length;if(EC(t).length!==i)return!1;for(var a,s,l;i-- >0;)if(a=n[i],!s4(e,t,r,a)||(s=PC(e,a),l=PC(t,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function dhe(e,t){return so(e.valueOf(),t.valueOf())}function fhe(e,t){return e.source===t.source&&e.flags===t.flags}function TC(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.values(),s,l;(s=a.next())&&!s.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(s.value,l.value,s.value,l.value,e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function hhe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function mhe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function s4(e,t,r,n){return(n===ihe||n===nhe||n===rhe)&&(e.$$typeof||t.$$typeof)?!0:the(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var phe="[object Arguments]",ghe="[object Boolean]",yhe="[object Date]",vhe="[object Error]",xhe="[object Map]",bhe="[object Number]",whe="[object Object]",_he="[object RegExp]",jhe="[object Set]",She="[object String]",Nhe="[object URL]",khe=Array.isArray,MC=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,$C=Object.assign,Che=Object.prototype.toString.call.bind(Object.prototype.toString);function Ehe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,s=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(x,g,v){if(x===g)return!0;if(x==null||g==null)return!1;var p=typeof x;if(p!==typeof g)return!1;if(p!=="object")return p==="number"?s(x,g,v):p==="function"?i(x,g,v):!1;var y=x.constructor;if(y!==g.constructor)return!1;if(y===Object)return l(x,g,v);if(khe(x))return t(x,g,v);if(MC!=null&&MC(x))return f(x,g,v);if(y===Date)return r(x,g,v);if(y===RegExp)return u(x,g,v);if(y===Map)return a(x,g,v);if(y===Set)return d(x,g,v);var b=Che(x);return b===yhe?r(x,g,v):b===_he?u(x,g,v):b===xhe?a(x,g,v):b===jhe?d(x,g,v):b===whe?typeof x.then!="function"&&typeof g.then!="function"&&l(x,g,v):b===Nhe?h(x,g,v):b===vhe?n(x,g,v):b===phe?l(x,g,v):b===ghe||b===bhe||b===She?c(x,g,v):!1}}function Phe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?Dc:ahe,areDatesEqual:she,areErrorsEqual:ohe,areFunctionsEqual:lhe,areMapsEqual:n?CC(AC,Dc):AC,areNumbersEqual:che,areObjectsEqual:n?Dc:uhe,arePrimitiveWrappersEqual:dhe,areRegExpsEqual:fhe,areSetsEqual:n?CC(TC,Dc):TC,areTypedArraysEqual:n?Dc:hhe,areUrlsEqual:mhe};if(r&&(i=$C({},i,r(i))),t){var a=Bf(i.areArraysEqual),s=Bf(i.areMapsEqual),l=Bf(i.areObjectsEqual),c=Bf(i.areSetsEqual);i=$C({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return i}function Ohe(e){return function(t,r,n,i,a,s,l){return e(t,r,l)}}function Ahe(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,a=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:i,meta:m,strict:a})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return r(c,u,s)}}var The=ss();ss({strict:!0});ss({circular:!0});ss({circular:!0,strict:!0});ss({createInternalComparator:function(){return so}});ss({strict:!0,createInternalComparator:function(){return so}});ss({circular:!0,createInternalComparator:function(){return so}});ss({circular:!0,createInternalComparator:function(){return so},strict:!0});function ss(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,a=e.strict,s=a===void 0?!1:a,l=Phe(e),c=Ehe(l),u=n?n(c):Ohe(c);return Ahe({circular:r,comparator:c,createState:i,equals:u,strict:s})}function Mhe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function DC(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):Mhe(i)};requestAnimationFrame(n)}function Xx(e){"@babel/helpers - typeof";return Xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xx(e)}function $he(e){return Lhe(e)||Rhe(e)||Ihe(e)||Dhe()}function Dhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ihe(e,t){if(e){if(typeof e=="string")return IC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IC(e,t)}}function IC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lhe(e){if(Array.isArray(e))return e}function zhe(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,l=$he(s),c=l[0],u=l.slice(1);if(typeof c=="number"){DC(i.bind(null,u),c);return}i(c),DC(i.bind(null,u));return}Xx(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}function RC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(r),!0).forEach(function(n){o4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o4(e,t,r){return t=Fhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fhe(e){var t=Uhe(e,"string");return yd(t)==="symbol"?t:String(t)}function Uhe(e,t){if(yd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bhe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Vhe=function(t){return t},qhe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},fu=function(t,r){return Object.keys(r).reduce(function(n,i){return LC(LC({},n),{},o4({},i,t(i,r[i])))},{})},zC=function(t,r,n){return t.map(function(i){return"".concat(qhe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Whe(e,t){return Ghe(e)||Yhe(e,t)||l4(e,t)||Hhe()}function Hhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yhe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Ghe(e){if(Array.isArray(e))return e}function Khe(e){return Zhe(e)||Jhe(e)||l4(e)||Xhe()}function Xhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l4(e,t){if(e){if(typeof e=="string")return Jx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jx(e,t)}}function Jhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zhe(e){if(Array.isArray(e))return Jx(e)}function Jx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Mm=1e-4,c4=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},u4=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},FC=function(t,r){return function(n){var i=c4(t,r);return u4(i,n)}},Qhe=function(t,r){return function(n){var i=c4(t,r),a=[].concat(Khe(i.map(function(s,l){return s*l}).slice(1)),[0]);return u4(a,n)}},UC=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=Whe(u,4);i=d[0],a=d[1],s=d[2],l=d[3]}}}var f=FC(i,s),h=FC(a,l),m=Qhe(i,s),x=function(p){return p>1?1:p<0?0:p},g=function(p){for(var y=p>1?1:p,b=y,_=0;_<8;++_){var w=f(b)-y,j=m(b);if(Math.abs(w-y)<Mm||j<Mm)return h(b);b=x(b-w/j)}return h(b)};return g.isStepper=!1,g},eme=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,s=t.dt,l=s===void 0?17:s,c=function(d,f,h){var m=-(d-f)*n,x=h*a,g=h+(m-x)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<Mm&&Math.abs(g)<Mm?[f,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},tme=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return UC(i);case"spring":return eme();default:if(i.split("(")[0]==="cubic-bezier")return UC(i)}return typeof i=="function"?i:null};function vd(e){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vd(e)}function BC(e){return ime(e)||nme(e)||d4(e)||rme()}function rme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ime(e){if(Array.isArray(e))return Qx(e)}function VC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(r),!0).forEach(function(n){Zx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zx(e,t,r){return t=ame(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ame(e){var t=sme(e,"string");return vd(t)==="symbol"?t:String(t)}function sme(e,t){if(vd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ome(e,t){return ume(e)||cme(e,t)||d4(e,t)||lme()}function lme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d4(e,t){if(e){if(typeof e=="string")return Qx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qx(e,t)}}function Qx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function ume(e){if(Array.isArray(e))return e}var $m=function(t,r,n){return t+(r-t)*n},eb=function(t){var r=t.from,n=t.to;return r!==n},dme=function e(t,r,n){var i=fu(function(a,s){if(eb(s)){var l=t(s.from,s.to,s.velocity),c=ome(l,2),u=c[0],d=c[1];return ar(ar({},s),{},{from:u,velocity:d})}return s},r);return n<1?fu(function(a,s){return eb(s)?ar(ar({},s),{},{velocity:$m(s.velocity,i[a].velocity,n),from:$m(s.from,i[a].from,n)}):s},r):e(t,i,n-1)};const fme=function(e,t,r,n,i){var a=Bhe(e,t),s=a.reduce(function(v,p){return ar(ar({},v),{},Zx({},p,[e[p],t[p]]))},{}),l=a.reduce(function(v,p){return ar(ar({},v),{},Zx({},p,{from:e[p],velocity:0,to:t[p]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return fu(function(p,y){return y.from},l)},m=function(){return!Object.values(l).filter(eb).length},x=function(p){u||(u=p);var y=p-u,b=y/r.dt;l=dme(r,l,b),i(ar(ar(ar({},e),t),h())),u=p,m()||(c=requestAnimationFrame(f))},g=function(p){d||(d=p);var y=(p-d)/n,b=fu(function(w,j){return $m.apply(void 0,BC(j).concat([r(y)]))},s);if(i(ar(ar(ar({},e),t),b)),y<1)c=requestAnimationFrame(f);else{var _=fu(function(w,j){return $m.apply(void 0,BC(j).concat([r(1)]))},s);i(ar(ar(ar({},e),t),_))}};return f=r.isStepper?x:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Nl(e){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(e)}var hme=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function mme(e,t){if(e==null)return{};var r=pme(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pme(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function gy(e){return xme(e)||vme(e)||yme(e)||gme()}function gme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yme(e,t){if(e){if(typeof e=="string")return tb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tb(e,t)}}function vme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xme(e){if(Array.isArray(e))return tb(e)}function tb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qC(Object(r),!0).forEach(function(n){qc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qc(e,t,r){return t=f4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f4(n.key),n)}}function _me(e,t,r){return t&&wme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function f4(e){var t=jme(e,"string");return Nl(t)==="symbol"?t:String(t)}function jme(e,t){if(Nl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rb(e,t)}function rb(e,t){return rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rb(e,t)}function Nme(e){var t=kme();return function(){var n=Dm(e),i;if(t){var a=Dm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return nb(this,i)}}function nb(e,t){if(t&&(Nl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ib(e)}function ib(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dm(e){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dm(e)}var na=function(e){Sme(r,e);var t=Nme(r);function r(n,i){var a;bme(this,r),a=t.call(this,n,i);var s=a.props,l=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,m=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(ib(a)),a.changeStyle=a.changeStyle.bind(ib(a)),!l||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),nb(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},nb(a);a.state={style:c?qc({},c,u):u}}else a.state={style:{}};return a}return _me(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!s){var m={style:c?qc({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(The(i.to,d)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=x||u?f:i.to;if(this.state&&h){var v={style:c?qc({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(v)}this.runAnimation($n($n({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=fme(s,l,tme(u),c,this.changeStyle),x=function(){a.stopJSAnimation=m()};this.manager.start([h,d,x,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,c=i.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,v,p){if(p===0)return g;var y=v.duration,b=v.easing,_=b===void 0?"ease":b,w=v.style,j=v.properties,N=v.onAnimationEnd,k=p>0?s[p-1]:v,E=j||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(gy(g),[a.runJSAnimation.bind(a,{from:k.style,to:w,duration:y,easing:_}),y]);var M=zC(E,y,_),C=$n($n($n({},k.style),w),{},{transition:M});return[].concat(gy(g),[C,y,N]).filter(Vhe)};return this.manager.start([c].concat(gy(s.reduce(m,[d,Math.max(h,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=zhe());var a=i.begin,s=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=l?qc({},l,c):c,v=zC(Object.keys(g),s,u);x.start([d,a,$n($n({},g),{},{transition:v}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=mme(i,hme),u=S.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||s<=0)return a;var f=function(m){var x=m.props,g=x.style,v=g===void 0?{}:g,p=x.className,y=S.cloneElement(m,$n($n({},c),{},{style:$n($n({},v),d),className:p}));return y};return u===1?f(S.Children.only(a)):z.createElement("div",null,S.Children.map(a,function(h){return f(h)}))}}]),r}(S.PureComponent);na.displayName="Animate";na.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};na.propTypes={from:rt.oneOfType([rt.object,rt.string]),to:rt.oneOfType([rt.object,rt.string]),attributeName:rt.string,duration:rt.number,begin:rt.number,easing:rt.oneOfType([rt.string,rt.func]),steps:rt.arrayOf(rt.shape({duration:rt.number.isRequired,style:rt.object.isRequired,easing:rt.oneOfType([rt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),rt.func]),properties:rt.arrayOf("string"),onAnimationEnd:rt.func})),children:rt.oneOfType([rt.node,rt.func]),isActive:rt.bool,canBegin:rt.bool,onAnimationEnd:rt.func,shouldReAnimate:rt.bool,onAnimationStart:rt.func,onAnimationReStart:rt.func};function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}function Im(){return Im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Im.apply(this,arguments)}function Cme(e,t){return Ame(e)||Ome(e,t)||Pme(e,t)||Eme()}function Eme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pme(e,t){if(e){if(typeof e=="string")return WC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WC(e,t)}}function WC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ome(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Ame(e){if(Array.isArray(e))return e}function HC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(r),!0).forEach(function(n){Tme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tme(e,t,r){return t=Mme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mme(e){var t=$me(e,"string");return xd(t)=="symbol"?t:t+""}function $me(e,t){if(xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GC=function(t,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=a[h]>s?s:a[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+i)),d+="L ".concat(t+c*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-l*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var x=Math.min(s,a);d="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*x,`
            L `).concat(t+n,",").concat(r+i-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n-c*x,",").concat(r+i,`
            L `).concat(t+c*x,",").concat(r+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(r+i-l*x," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},Dme=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(s,s+c),h=Math.max(s,s+c);return n>=u&&n<=d&&i>=f&&i<=h}return!1},Ime={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$1=function(t){var r=YC(YC({},Ime),t),n=S.useRef(),i=S.useState(-1),a=Cme(i,2),s=a[0],l=a[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,x=r.animationEasing,g=r.animationDuration,v=r.animationBegin,p=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Be("recharts-rectangle",m);return y?z.createElement(na,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:x,isActive:y},function(_){var w=_.width,j=_.height,N=_.x,k=_.y;return z.createElement(na,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:p,easing:x},z.createElement("path",Im({},Ae(r,!0),{className:b,d:GC(N,k,w,j,h),ref:n})))}):z.createElement("path",Im({},Ae(r,!0),{className:b,d:GC(c,u,d,f,h)}))},Rme=["points","className","baseLinePoints","connectNulls"];function zo(){return zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zo.apply(this,arguments)}function Lme(e,t){if(e==null)return{};var r=zme(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KC(e){return Vme(e)||Bme(e)||Ume(e)||Fme()}function Fme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ume(e,t){if(e){if(typeof e=="string")return ab(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ab(e,t)}}function Bme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vme(e){if(Array.isArray(e))return ab(e)}function ab(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var XC=function(t){return t&&t.x===+t.x&&t.y===+t.y},qme=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){XC(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),XC(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},hu=function(t,r){var n=qme(t);r&&(n=[n.reduce(function(a,s){return[].concat(KC(a),KC(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Wme=function(t,r,n){var i=hu(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(hu(r.reverse(),n).slice(1))},Hme=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,s=Lme(t,Rme);if(!r||!r.length)return null;var l=Be("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",u=Wme(r,i,a);return z.createElement("g",{className:l},z.createElement("path",zo({},Ae(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?z.createElement("path",zo({},Ae(s,!0),{fill:"none",d:hu(r,a)})):null,c?z.createElement("path",zo({},Ae(s,!0),{fill:"none",d:hu(i,a)})):null)}var d=hu(r,a);return z.createElement("path",zo({},Ae(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:l,d}))};function sb(){return sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sb.apply(this,arguments)}var D1=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,s=Be("recharts-dot",a);return r===+r&&n===+n&&i===+i?z.createElement("circle",sb({},Ae(t,!1),nm(t),{className:s,cx:r,cy:n,r:i})):null};function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}var Yme=["x","y","top","left","width","height","className"];function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ob.apply(this,arguments)}function JC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gme(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JC(Object(r),!0).forEach(function(n){Kme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kme(e,t,r){return t=Xme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xme(e){var t=Jme(e,"string");return bd(t)=="symbol"?t:t+""}function Jme(e,t){if(bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zme(e,t){if(e==null)return{};var r=Qme(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var epe=function(t,r,n,i,a,s){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},tpe=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.top,l=s===void 0?0:s,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,x=t.className,g=Zme(t,Yme),v=Gme({x:n,y:a,top:l,left:u,width:f,height:m},g);return!pe(n)||!pe(a)||!pe(f)||!pe(m)||!pe(l)||!pe(u)?null:z.createElement("path",ob({},Ae(v,!0),{className:Be("recharts-cross",x),d:epe(n,a,f,m,l,u)}))},rpe=Ng,npe=S3,ipe=bi;function ape(e,t){return e&&e.length?rpe(e,ipe(t),npe):void 0}var spe=ape;const ope=nt(spe);var lpe=Ng,cpe=bi,upe=N3;function dpe(e,t){return e&&e.length?lpe(e,cpe(t),upe):void 0}var fpe=dpe;const hpe=nt(fpe);var mpe=["cx","cy","angle","ticks","axisLine"],ppe=["ticks","tick","angle","tickFormatter","stroke"];function kl(e){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(e)}function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mu.apply(this,arguments)}function ZC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZC(Object(r),!0).forEach(function(n){Tg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QC(e,t){if(e==null)return{};var r=gpe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ype(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m4(n.key),n)}}function vpe(e,t,r){return t&&eE(e.prototype,t),r&&eE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xpe(e,t,r){return t=Rm(t),bpe(e,h4()?Reflect.construct(t,r||[],Rm(e).constructor):t.apply(e,r))}function bpe(e,t){if(t&&(kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wpe(e)}function wpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h4=function(){return!!e})()}function Rm(e){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rm(e)}function _pe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lb(e,t)}function lb(e,t){return lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lb(e,t)}function Tg(e,t,r){return t=m4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m4(e){var t=jpe(e,"string");return kl(t)=="symbol"?t:t+""}function jpe(e,t){if(kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mg=function(e){function t(){return ype(this,t),xpe(this,t,arguments)}return _pe(t,e),vpe(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,l=a.cx,c=a.cy;return gt(l,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,l=n.ticks,c=ope(l,function(d){return d.coordinate||0}),u=hpe(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,u=QC(n,mpe),d=l.reduce(function(x,g){return[Math.min(x[0],g.coordinate),Math.max(x[1],g.coordinate)]},[1/0,-1/0]),f=gt(i,a,d[0],s),h=gt(i,a,d[1],s),m=ds(ds(ds({},Ae(u,!1)),{},{fill:"none"},Ae(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return z.createElement("line",mu({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=QC(i,ppe),f=this.getTickTextAnchor(),h=Ae(d,!1),m=Ae(s,!1),x=a.map(function(g,v){var p=n.getTickValueCoord(g),y=ds(ds(ds(ds({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(p.x,", ").concat(p.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},p),{},{payload:g});return z.createElement(it,mu({className:Be("recharts-polar-radius-axis-tick",Q3(s)),key:"tick-".concat(g.coordinate)},Ys(n.props,g,v)),t.renderTickItem(s,y,c?c(g.value,v):g.value))});return z.createElement(it,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:z.createElement(it,{className:Be("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),tr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return z.isValidElement(n)?s=z.cloneElement(n,i):Te(n)?s=n(i):s=z.createElement(Gs,mu({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(S.PureComponent);Tg(Mg,"displayName","PolarRadiusAxis");Tg(Mg,"axisType","radiusAxis");Tg(Mg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Cl(e){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}function js(){return js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},js.apply(this,arguments)}function tE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(r),!0).forEach(function(n){$g(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Spe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g4(n.key),n)}}function Npe(e,t,r){return t&&rE(e.prototype,t),r&&rE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kpe(e,t,r){return t=Lm(t),Cpe(e,p4()?Reflect.construct(t,r||[],Lm(e).constructor):t.apply(e,r))}function Cpe(e,t){if(t&&(Cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Epe(e)}function Epe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p4=function(){return!!e})()}function Lm(e){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lm(e)}function Ppe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cb(e,t)}function cb(e,t){return cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cb(e,t)}function $g(e,t,r){return t=g4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g4(e){var t=Ope(e,"string");return Cl(t)=="symbol"?t:t+""}function Ope(e,t){if(Cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ape=Math.PI/180,Tpe=1e-5,Dg=function(e){function t(){return Spe(this,t),kpe(this,t,arguments)}return Ppe(t,e),Npe(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=gt(a,s,l,n.coordinate),h=gt(a,s,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Ape),s;return a>Tpe?s=i==="outer"?"start":"end":a<-1e-5?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,u=fs(fs({},Ae(this.props,!1)),{},{fill:"none"},Ae(l,!1));if(c==="circle")return z.createElement(D1,js({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var d=this.props.ticks,f=d.map(function(h){return gt(i,a,s,h.coordinate)});return z.createElement(Hme,js({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=Ae(this.props,!1),f=Ae(s,!1),h=fs(fs({},d),{},{fill:"none"},Ae(l,!1)),m=a.map(function(x,g){var v=n.getTickLineCoord(x),p=n.getTickTextAnchor(x),y=fs(fs(fs({textAnchor:p},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:x,x:v.x2,y:v.y2});return z.createElement(it,js({className:Be("recharts-polar-angle-axis-tick",Q3(s)),key:"tick-".concat(x.coordinate)},Ys(n.props,x,g)),l&&z.createElement("line",js({className:"recharts-polar-angle-axis-tick-line"},h,v)),s&&t.renderTickItem(s,y,c?c(x.value,g):x.value))});return z.createElement(it,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:z.createElement(it,{className:Be("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return z.isValidElement(n)?s=z.cloneElement(n,i):Te(n)?s=n(i):s=z.createElement(Gs,js({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(S.PureComponent);$g(Dg,"displayName","PolarAngleAxis");$g(Dg,"axisType","angleAxis");$g(Dg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Mpe=bD,$pe=Mpe(Object.getPrototypeOf,Object),Dpe=$pe,Ipe=la,Rpe=Dpe,Lpe=ca,zpe="[object Object]",Fpe=Function.prototype,Upe=Object.prototype,y4=Fpe.toString,Bpe=Upe.hasOwnProperty,Vpe=y4.call(Object);function qpe(e){if(!Lpe(e)||Ipe(e)!=zpe)return!1;var t=Rpe(e);if(t===null)return!0;var r=Bpe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&y4.call(r)==Vpe}var Wpe=qpe;const Hpe=nt(Wpe);var Ype=la,Gpe=ca,Kpe="[object Boolean]";function Xpe(e){return e===!0||e===!1||Gpe(e)&&Ype(e)==Kpe}var Jpe=Xpe;const Zpe=nt(Jpe);function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zm.apply(this,arguments)}function Qpe(e,t){return nge(e)||rge(e,t)||tge(e,t)||ege()}function ege(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tge(e,t){if(e){if(typeof e=="string")return nE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nE(e,t)}}function nE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function nge(e){if(Array.isArray(e))return e}function iE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iE(Object(r),!0).forEach(function(n){ige(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ige(e,t,r){return t=age(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function age(e){var t=sge(e,"string");return wd(t)=="symbol"?t:t+""}function sge(e,t){if(wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sE=function(t,r,n,i,a){var s=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-s/2,",").concat(r+a),l+="L ".concat(t+n-s/2-i,",").concat(r+a),l+="L ".concat(t,",").concat(r," Z"),l},oge={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lge=function(t){var r=aE(aE({},oge),t),n=S.useRef(),i=S.useState(-1),a=Qpe(i,2),s=a[0],l=a[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,x=r.animationEasing,g=r.animationDuration,v=r.animationBegin,p=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=Be("recharts-trapezoid",m);return p?z.createElement(na,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:x,isActive:p},function(b){var _=b.upperWidth,w=b.lowerWidth,j=b.height,N=b.x,k=b.y;return z.createElement(na,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:x},z.createElement("path",zm({},Ae(r,!0),{className:y,d:sE(N,k,_,w,j),ref:n})))}):z.createElement("g",null,z.createElement("path",zm({},Ae(r,!0),{className:y,d:sE(c,u,d,f,h)})))},cge=["option","shapeType","propTransformer","activeClassName","isActive"];function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function uge(e,t){if(e==null)return{};var r=dge(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(r),!0).forEach(function(n){fge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fge(e,t,r){return t=hge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hge(e){var t=mge(e,"string");return _d(t)=="symbol"?t:t+""}function mge(e,t){if(_d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pge(e,t){return Fm(Fm({},t),e)}function gge(e,t){return e==="symbols"}function lE(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return z.createElement($1,r);case"trapezoid":return z.createElement(lge,r);case"sector":return z.createElement(r4,r);case"symbols":if(gge(t))return z.createElement(Q_,r);break;default:return null}}function yge(e){return S.isValidElement(e)?e.props:e}function v4(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?pge:n,a=e.activeClassName,s=a===void 0?"recharts-active-shape":a,l=e.isActive,c=uge(e,cge),u;if(S.isValidElement(t))u=S.cloneElement(t,Fm(Fm({},c),yge(t)));else if(Te(t))u=t(c);else if(Hpe(t)&&!Zpe(t)){var d=i(t,c);u=z.createElement(lE,{shapeType:r,elementProps:d})}else{var f=c;u=z.createElement(lE,{shapeType:r,elementProps:f})}return l?z.createElement(it,{className:s},u):u}function Ig(e,t){return t!=null&&"trapezoids"in e.props}function Rg(e,t){return t!=null&&"sectors"in e.props}function jd(e,t){return t!=null&&"points"in e.props}function vge(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function xge(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function bge(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function wge(e,t){var r;return Ig(e,t)?r=vge:Rg(e,t)?r=xge:jd(e,t)&&(r=bge),r}function _ge(e,t){var r;return Ig(e,t)?r="trapezoids":Rg(e,t)?r="sectors":jd(e,t)&&(r="points"),r}function jge(e,t){if(Ig(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Rg(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return jd(e,t)?t.payload:{}}function Sge(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=_ge(r,t),a=jge(r,t),s=n.filter(function(c,u){var d=Eg(a,c),f=r.props[i].filter(function(x){var g=wge(r,t);return g(x,t)}),h=r.props[i].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(s[s.length-1]);return l}var hh;function El(e){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(e)}function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fo.apply(this,arguments)}function cE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cE(Object(r),!0).forEach(function(n){vn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b4(n.key),n)}}function kge(e,t,r){return t&&uE(e.prototype,t),r&&uE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cge(e,t,r){return t=Um(t),Ege(e,x4()?Reflect.construct(t,r||[],Um(e).constructor):t.apply(e,r))}function Ege(e,t){if(t&&(El(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pge(e)}function Pge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x4=function(){return!!e})()}function Um(e){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Um(e)}function Oge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ub(e,t)}function ub(e,t){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ub(e,t)}function vn(e,t,r){return t=b4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b4(e){var t=Age(e,"string");return El(t)=="symbol"?t:t+""}function Age(e,t){if(El(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var da=function(e){function t(r){var n;return Nge(this,t),n=Cge(this,t,[r]),vn(n,"pieRef",null),vn(n,"sectorRefs",[]),vn(n,"id",Kd("recharts-pie-")),vn(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Te(i)&&i()}),vn(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Te(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Oge(t,e),kge(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=Ae(this.props,!1),f=Ae(s,!1),h=Ae(l,!1),m=s&&s.offsetRadius||20,x=n.map(function(g,v){var p=(g.startAngle+g.endAngle)/2,y=gt(g.cx,g.cy,g.outerRadius+m,p),b=ht(ht(ht(ht({},d),g),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(y.x,g.cx)},y),_=ht(ht(ht(ht({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:v,points:[gt(g.cx,g.cy,g.outerRadius,p),y]}),w=c;return qe(c)&&qe(u)?w="value":qe(c)&&(w=u),z.createElement(it,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(s,b,xr(g,w)))});return z.createElement(it,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,m=f?s:h,x=ht(ht({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return z.createElement(it,Fo({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Ys(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),z.createElement(v4,Fo({option:m,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return z.createElement(na,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var g=x.t,v=[],p=a&&a[0],y=p.startAngle;return a.forEach(function(b,_){var w=h&&h[_],j=_>0?rn(b,"paddingAngle",0):0;if(w){var N=wa(w.endAngle-w.startAngle,b.endAngle-b.startAngle),k=ht(ht({},b),{},{startAngle:y+j,endAngle:y+N(g)+j});v.push(k),y=k.endAngle}else{var E=b.endAngle,M=b.startAngle,C=wa(0,E-M),O=C(g),L=ht(ht({},b),{},{startAngle:y+j,endAngle:y+O+j});v.push(L),y=L.endAngle}}),z.createElement(it,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!Eg(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,m=i.isAnimationActive,x=this.state.isAnimationFinished;if(a||!s||!s.length||!pe(u)||!pe(d)||!pe(f)||!pe(h))return null;var g=Be("recharts-pie",l);return z.createElement(it,{tabIndex:this.props.rootTabIndex,className:g,ref:function(p){n.pieRef=p}},this.renderSectors(),c&&this.renderLabels(s),tr.renderCallByParent(this.props,null,!1),(!m||x)&&Ha.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(z.isValidElement(n))return z.cloneElement(n,i);if(Te(n))return n(i);var s=Be("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return z.createElement(Kx,Fo({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(z.isValidElement(n))return z.cloneElement(n,i);var s=a;if(Te(n)&&(s=n(i),z.isValidElement(s)))return s;var l=Be("recharts-pie-label-text",typeof n!="boolean"&&!Te(n)?n.className:"");return z.createElement(Gs,Fo({},i,{alignmentBaseline:"middle",className:l}),s)}}])}(S.PureComponent);hh=da;vn(da,"displayName","Pie");vn(da,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!lc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});vn(da,"parseDeltaAngle",function(e,t){var r=Cr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});vn(da,"getRealPieData",function(e){var t=e.data,r=e.children,n=Ae(e,!1),i=Sn(r,vg);return t&&t.length?t.map(function(a,s){return ht(ht(ht({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return ht(ht({},n),a.props)}):[]});vn(da,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,s=Z3(i,a),l=n+Er(e.cx,i,i/2),c=r+Er(e.cy,a,a/2),u=Er(e.innerRadius,s,0),d=Er(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});vn(da,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?ht(ht({},t.type.defaultProps),t.props):t.props,i=hh.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),x=hh.parseCoordinateOfPie(n,r),g=hh.parseDeltaAngle(s,l),v=Math.abs(g),p=u;qe(u)&&qe(f)?(Hn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),p="value"):qe(u)&&(Hn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),p=f);var y=i.filter(function(k){return xr(k,p,0)!==0}).length,b=(v>=360?y:y-1)*c,_=v-y*m-b,w=i.reduce(function(k,E){var M=xr(E,p,0);return k+(pe(M)?M:0)},0),j;if(w>0){var N;j=i.map(function(k,E){var M=xr(k,p,0),C=xr(k,d,E),O=(pe(M)?M:0)/w,L;E?L=N.endAngle+Cr(g)*c*(M!==0?1:0):L=s;var $=L+Cr(g)*((M!==0?m:0)+O*_),B=(L+$)/2,Y=(x.innerRadius+x.outerRadius)/2,F=[{name:C,value:M,payload:k,dataKey:p,type:h}],R=gt(x.cx,x.cy,Y,B);return N=ht(ht(ht({percent:O,cornerRadius:a,name:C,tooltipPayload:F,midAngle:B,middleRadius:Y,tooltipPosition:R},k),x),{},{value:xr(k,p),startAngle:L,endAngle:$,payload:k,paddingAngle:Cr(g)*c}),N})}return ht(ht({},x),{},{sectors:j,data:i})});var Tge=Math.ceil,Mge=Math.max;function $ge(e,t,r,n){for(var i=-1,a=Mge(Tge((t-e)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=e,e+=r;return s}var Dge=$ge,Ige=zD,Rge=1/0,Lge=17976931348623157e292;function zge(e){if(!e)return e===0?e:0;if(e=Ige(e),e===Rge||e===-1/0){var t=e<0?-1:1;return t*Lge}return e===e?e:0}var w4=zge,Fge=Dge,Uge=yg,yy=w4;function Bge(e){return function(t,r,n){return n&&typeof n!="number"&&Uge(t,r,n)&&(r=n=void 0),t=yy(t),r===void 0?(r=t,t=0):r=yy(r),n=n===void 0?t<r?1:-1:yy(n),Fge(t,r,n,e)}}var Vge=Bge,qge=Vge,Wge=qge(),Hge=Wge;const Bm=nt(Hge);function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}function dE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dE(Object(r),!0).forEach(function(n){_4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _4(e,t,r){return t=Yge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yge(e){var t=Gge(e,"string");return Sd(t)=="symbol"?t:t+""}function Gge(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kge=["Webkit","Moz","O","ms"],Xge=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Kge.reduce(function(a,s){return fE(fE({},a),{},_4({},s+n,r))},{});return i[t]=r,i};function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function Vm(){return Vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vm.apply(this,arguments)}function hE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hE(Object(r),!0).forEach(function(n){Yr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S4(n.key),n)}}function Zge(e,t,r){return t&&mE(e.prototype,t),r&&mE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qge(e,t,r){return t=qm(t),e0e(e,j4()?Reflect.construct(t,r||[],qm(e).constructor):t.apply(e,r))}function e0e(e,t){if(t&&(Pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t0e(e)}function t0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j4=function(){return!!e})()}function qm(e){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qm(e)}function r0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&db(e,t)}function db(e,t){return db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},db(e,t)}function Yr(e,t,r){return t=S4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S4(e){var t=n0e(e,"string");return Pl(t)=="symbol"?t:t+""}function n0e(e,t){if(Pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var i0e=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,s=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=uu().domain(Bm(0,c)).range([a,a+s-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},pE=function(t){return t.changedTouches&&!!t.changedTouches.length},Ol=function(e){function t(r){var n;return Jge(this,t),n=Qge(this,t,[r]),Yr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Yr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Yr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Yr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Yr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Yr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Yr(n,"handleSlideDragStart",function(i){var a=pE(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return r0e(t,e),Zge(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),m=t.getIndexInRange(s,f),x=t.getIndexInRange(s,h);return{startIndex:m-m%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,c=xr(a[n],l,n);return Te(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,x=c.onChange,g=n.pageX-a;g>0?g=Math.min(g,u+d-f-l,u+d-f-s):g<0&&(g=Math.max(g,u-s,u-l));var v=this.getIndex({startX:s+g,endX:l+g});(v.startIndex!==h||v.endIndex!==m)&&x&&x(v),this.setState({startX:s+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=pE(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,x=d.onChange,g=d.gap,v=d.data,p={startX:this.state.startX,endX:this.state.endX},y=n.pageX-a;y>0?y=Math.min(y,f+h-m-u):y<0&&(y=Math.max(y,f-u)),p[s]=u+y;var b=this.getIndex(p),_=b.startIndex,w=b.endIndex,j=function(){var k=v.length-1;return s==="startX"&&(l>c?_%g===0:w%g===0)||l<c&&w===k||s==="endX"&&(l>c?w%g===0:_%g===0)||l>c&&w===k};this.setState(Yr(Yr({},s,u+y),"brushMoveStartX",n.pageX),function(){x&&j()&&x(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];i==="startX"&&m>=u||i==="endX"&&m<=c||this.setState(Yr({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.fill,u=n.stroke;return z.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=S.Children.only(u);return f?z.cloneElement(f,{x:i,y:a,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,x=c.data,g=c.startIndex,v=c.endIndex,p=Math.max(n,this.props.x),y=vy(vy({},Ae(this.props,!1)),{},{x:p,y:u,width:d,height:f}),b=m||"Min value: ".concat((a=x[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=x[v])===null||s===void 0?void 0:s.name);return z.createElement(it,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,x={pointerEvents:"none",fill:u};return z.createElement(it,{className:"recharts-brush-texts"},z.createElement(Gs,Vm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:s+l/2},x),this.getTextOfTick(i)),z.createElement(Gs,Vm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:s+l/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,x=h.endX,g=h.isTextActive,v=h.isSlideMoving,p=h.isTravellerMoving,y=h.isTravellerFocused;if(!i||!i.length||!pe(l)||!pe(c)||!pe(u)||!pe(d)||u<=0||d<=0)return null;var b=Be("recharts-brush",a),_=z.Children.count(s)===1,w=Xge("userSelect","none");return z.createElement(it,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,x),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(x,"endX"),(g||v||p||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:a,width:s,height:l,fill:c,stroke:"none"}),z.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return z.isValidElement(n)?a=z.cloneElement(n,i):Te(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return vy({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},a&&a.length?i0e({data:a,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,l=a-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>i?l=c:s=c}return i>=n[l]?l:s}}])}(S.PureComponent);Yr(Ol,"displayName","Brush");Yr(Ol,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var a0e=s1;function s0e(e,t){var r;return a0e(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var o0e=s0e,l0e=fD,c0e=bi,u0e=o0e,d0e=Wr,f0e=yg;function h0e(e,t,r){var n=d0e(e)?l0e:u0e;return r&&f0e(e,t,r)&&(t=void 0),n(e,c0e(t))}var m0e=h0e;const p0e=nt(m0e);var fi=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},gE=$D;function g0e(e,t,r){t=="__proto__"&&gE?gE(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var y0e=g0e,v0e=y0e,x0e=TD,b0e=bi;function w0e(e,t){var r={};return t=b0e(t),x0e(e,function(n,i,a){v0e(r,i,t(n,i,a))}),r}var _0e=w0e;const j0e=nt(_0e);function S0e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var N0e=S0e,k0e=s1;function C0e(e,t){var r=!0;return k0e(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var E0e=C0e,P0e=N0e,O0e=E0e,A0e=bi,T0e=Wr,M0e=yg;function $0e(e,t,r){var n=T0e(e)?P0e:O0e;return r&&M0e(e,t,r)&&(t=void 0),n(e,A0e(t))}var D0e=$0e;const N4=nt(D0e);var I0e=["x","y"];function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function fb(){return fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fb.apply(this,arguments)}function yE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(r),!0).forEach(function(n){R0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R0e(e,t,r){return t=L0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L0e(e){var t=z0e(e,"string");return Nd(t)=="symbol"?t:t+""}function z0e(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F0e(e,t){if(e==null)return{};var r=U0e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function B0e(e,t){var r=e.x,n=e.y,i=F0e(e,I0e),a="".concat(r),s=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return Ic(Ic(Ic(Ic(Ic({},t),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function vE(e){return z.createElement(v4,fb({shapeType:"rectangle",propTransformer:B0e,activeClassName:"recharts-active-bar"},e))}var V0e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=typeof n=="number";return a?t(n,i):(a||Xs(),r)}},q0e=["value","background"],k4;function Al(e){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(e)}function W0e(e,t){if(e==null)return{};var r=H0e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function H0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Wm(){return Wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wm.apply(this,arguments)}function xE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(r),!0).forEach(function(n){Ma(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E4(n.key),n)}}function G0e(e,t,r){return t&&bE(e.prototype,t),r&&bE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function K0e(e,t,r){return t=Hm(t),X0e(e,C4()?Reflect.construct(t,r||[],Hm(e).constructor):t.apply(e,r))}function X0e(e,t){if(t&&(Al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J0e(e)}function J0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C4=function(){return!!e})()}function Hm(e){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hm(e)}function Z0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hb(e,t)}function hb(e,t){return hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hb(e,t)}function Ma(e,t,r){return t=E4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E4(e){var t=Q0e(e,"string");return Al(t)=="symbol"?t:t+""}function Q0e(e,t){if(Al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ja=function(e){function t(){var r;Y0e(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=K0e(this,t,[].concat(i)),Ma(r,"state",{isAnimationFinished:!1}),Ma(r,"id",Kd("recharts-bar-")),Ma(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Ma(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Z0e(t,e),G0e(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=Ae(this.props,!1);return n&&n.map(function(f,h){var m=h===c,x=m?u:s,g=Ft(Ft(Ft({},d),f),{},{isActive:m,option:x,index:h,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(it,Wm({className:"recharts-bar-rectangle"},Ys(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),z.createElement(vE,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return z.createElement(na,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var x=m.t,g=a.map(function(v,p){var y=h&&h[p];if(y){var b=wa(y.x,v.x),_=wa(y.y,v.y),w=wa(y.width,v.width),j=wa(y.height,v.height);return Ft(Ft({},v),{},{x:b(x),y:_(x),width:w(x),height:j(x)})}if(s==="horizontal"){var N=wa(0,v.height),k=N(x);return Ft(Ft({},v),{},{y:v.y+v.height-k,height:k})}var E=wa(0,v.width),M=E(x);return Ft(Ft({},v),{},{width:M})});return z.createElement(it,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Eg(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,c=Ae(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=W0e(u,q0e);if(!f)return null;var m=Ft(Ft(Ft(Ft(Ft({},h),{},{fill:"#eee"},f),c),Ys(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return z.createElement(vE,Wm({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Sn(d,Ag);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,m=function(v,p){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:xr(v,p)}},x={clipPath:n?"url(#clipPath-".concat(i,")"):null};return z.createElement(it,x,f.map(function(g){return z.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,x=n.background,g=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,p=Be("recharts-bar",s),y=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,_=y||b,w=qe(g)?this.id:g;return z.createElement(it,{className:p},y||b?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(w)},z.createElement("rect",{x:y?u:u-f/2,y:b?d:d-h/2,width:y?f:f*2,height:b?h:h*2}))):null,z.createElement(it,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!m||v)&&Ha.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(S.PureComponent);k4=Ja;Ma(Ja,"displayName","Bar");Ma(Ja,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!lc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ma(Ja,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,s=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=Ade(n,r);if(!m)return null;var x=t.layout,g=r.type.defaultProps,v=g!==void 0?Ft(Ft({},g),r.props):r.props,p=v.dataKey,y=v.children,b=v.minPointSize,_=x==="horizontal"?s:a,w=u?_.scale.domain():null,j=Lde({numericAxis:_}),N=Sn(y,vg),k=f.map(function(E,M){var C,O,L,$,B,Y;u?C=Tde(u[d+M],w):(C=xr(E,p),Array.isArray(C)||(C=[j,C]));var F=V0e(b,k4.defaultProps.minPointSize)(C[1],M);if(x==="horizontal"){var R,D=[s.scale(C[0]),s.scale(C[1])],X=D[0],ne=D[1];O=dC({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:E,index:M}),L=(R=ne??X)!==null&&R!==void 0?R:void 0,$=m.size;var Q=X-ne;if(B=Number.isNaN(Q)?0:Q,Y={x:O,y:s.y,width:$,height:s.height},Math.abs(F)>0&&Math.abs(B)<Math.abs(F)){var K=Cr(B||F)*(Math.abs(F)-Math.abs(B));L-=K,B+=K}}else{var ce=[a.scale(C[0]),a.scale(C[1])],me=ce[0],xe=ce[1];if(O=me,L=dC({axis:s,ticks:c,bandSize:i,offset:m.offset,entry:E,index:M}),$=xe-me,B=m.size,Y={x:a.x,y:L,width:a.width,height:B},Math.abs(F)>0&&Math.abs($)<Math.abs(F)){var ue=Cr($||F)*(Math.abs(F)-Math.abs($));$+=ue}}return Ft(Ft(Ft({},E),{},{x:O,y:L,width:$,height:B,value:u?C:C[1],payload:E,background:Y},N&&N[M]&&N[M].props),{},{tooltipPayload:[X3(r,E)],tooltipPosition:{x:O+$/2,y:L+B/2}})});return Ft({data:k,layout:x},h)});function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function eye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P4(n.key),n)}}function tye(e,t,r){return t&&wE(e.prototype,t),r&&wE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(r),!0).forEach(function(n){Lg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lg(e,t,r){return t=P4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P4(e){var t=rye(e,"string");return kd(t)=="symbol"?t:t+""}function rye(e,t){if(kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nye=function(t,r,n,i,a){var s=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Kr(u,Ja);return d.reduce(function(m,x){var g=r[x],v=g.orientation,p=g.domain,y=g.padding,b=y===void 0?{}:y,_=g.mirror,w=g.reversed,j="".concat(v).concat(_?"Mirror":""),N,k,E,M,C;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var O=p[1]-p[0],L=1/0,$=g.categoricalDomain.sort(gX);if($.forEach(function(ce,me){me>0&&(L=Math.min((ce||0)-($[me-1]||0),L))}),Number.isFinite(L)){var B=L/O,Y=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(N=B*Y/2),g.padding==="no-gap"){var F=Er(t.barCategoryGap,B*Y),R=B*Y/2;N=R-F-(R-F)/Y*F}}}i==="xAxis"?k=[n.left+(b.left||0)+(N||0),n.left+n.width-(b.right||0)-(N||0)]:i==="yAxis"?k=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(N||0),n.top+n.height-(b.bottom||0)-(N||0)]:k=g.range,w&&(k=[k[1],k[0]]);var D=H3(g,a,h),X=D.scale,ne=D.realScaleType;X.domain(p).range(k),Y3(X);var Q=G3(X,zn(zn({},g),{},{realScaleType:ne}));i==="xAxis"?(C=v==="top"&&!_||v==="bottom"&&_,E=n.left,M=f[j]-C*g.height):i==="yAxis"&&(C=v==="left"&&!_||v==="right"&&_,E=f[j]-C*g.width,M=n.top);var K=zn(zn(zn({},g),Q),{},{realScaleType:ne,x:E,y:M,scale:X,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return K.bandSize=Om(K,Q),!g.hide&&i==="xAxis"?f[j]+=(C?-1:1)*K.height:g.hide||(f[j]+=(C?-1:1)*K.width),zn(zn({},m),{},Lg({},x,K))},{})},O4=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},iye=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return O4({x:r,y:n},{x:i,y:a})},A4=function(){function e(t){eye(this,e),this.scale=t}return tye(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();Lg(A4,"EPS",1e-4);var I1=function(t){var r=Object.keys(t).reduce(function(n,i){return zn(zn({},n),{},Lg({},i,A4.create(t[i])))},{});return zn(zn({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return j0e(i,function(c,u){return r[u].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return N4(i,function(a,s){return r[s].isInRange(a)})}})};function aye(e){return(e%180+180)%180}var sye=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=aye(i),s=a*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},oye=bi,lye=Xd,cye=pg;function uye(e){return function(t,r,n){var i=Object(t);if(!lye(t)){var a=oye(r);t=cye(t),r=function(l){return a(i[l],l,i)}}var s=e(t,r,n);return s>-1?i[a?t[s]:s]:void 0}}var dye=uye,fye=w4;function hye(e){var t=fye(e),r=t%1;return t===t?r?t-r:t:0}var mye=hye,pye=kD,gye=bi,yye=mye,vye=Math.max;function xye(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:yye(r);return i<0&&(i=vye(n+i,0)),pye(e,gye(t),i)}var bye=xye,wye=dye,_ye=bye,jye=wye(_ye),Sye=jye;const Nye=nt(Sye);var kye=bK(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),R1=S.createContext(void 0),L1=S.createContext(void 0),T4=S.createContext(void 0),M4=S.createContext({}),$4=S.createContext(void 0),D4=S.createContext(0),I4=S.createContext(0),jE=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=t.clipPathId,l=t.children,c=t.width,u=t.height,d=kye(a);return z.createElement(R1.Provider,{value:n},z.createElement(L1.Provider,{value:i},z.createElement(M4.Provider,{value:a},z.createElement(T4.Provider,{value:d},z.createElement($4.Provider,{value:s},z.createElement(D4.Provider,{value:u},z.createElement(I4.Provider,{value:c},l)))))))},Cye=function(){return S.useContext($4)},R4=function(t){var r=S.useContext(R1);r==null&&Xs();var n=r[t];return n==null&&Xs(),n},Eye=function(){var t=S.useContext(R1);return ka(t)},Pye=function(){var t=S.useContext(L1),r=Nye(t,function(n){return N4(n.domain,Number.isFinite)});return r||ka(t)},L4=function(t){var r=S.useContext(L1);r==null&&Xs();var n=r[t];return n==null&&Xs(),n},Oye=function(){var t=S.useContext(T4);return t},Aye=function(){return S.useContext(M4)},z1=function(){return S.useContext(I4)},F1=function(){return S.useContext(D4)};function Tl(e){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}function Tye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F4(n.key),n)}}function $ye(e,t,r){return t&&Mye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dye(e,t,r){return t=Ym(t),Iye(e,z4()?Reflect.construct(t,r||[],Ym(e).constructor):t.apply(e,r))}function Iye(e,t){if(t&&(Tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rye(e)}function Rye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z4=function(){return!!e})()}function Ym(e){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ym(e)}function Lye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mb(e,t)}function mb(e,t){return mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mb(e,t)}function SE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(r),!0).forEach(function(n){U1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U1(e,t,r){return t=F4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F4(e){var t=zye(e,"string");return Tl(t)=="symbol"?t:t+""}function zye(e,t){if(Tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Fye(e,t){return qye(e)||Vye(e,t)||Bye(e,t)||Uye()}function Uye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bye(e,t){if(e){if(typeof e=="string")return kE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kE(e,t)}}function kE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function qye(e){if(Array.isArray(e))return e}function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pb.apply(this,arguments)}var Wye=function(t,r){var n;return z.isValidElement(t)?n=z.cloneElement(t,r):Te(t)?n=t(r):n=z.createElement("line",pb({},r,{className:"recharts-reference-line-line"})),n},Hye=function(t,r,n,i,a,s,l,c,u){var d=a.x,f=a.y,h=a.width,m=a.height;if(n){var x=u.y,g=t.y.apply(x,{position:s});if(fi(u,"discard")&&!t.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?v.reverse():v}if(r){var p=u.x,y=t.x.apply(p,{position:s});if(fi(u,"discard")&&!t.x.isInRange(y))return null;var b=[{x:y,y:f+m},{x:y,y:f}];return l==="top"?b.reverse():b}if(i){var _=u.segment,w=_.map(function(j){return t.apply(j,{position:s})});return fi(u,"discard")&&p0e(w,function(j){return!t.isInRange(j)})?null:w}return null};function Yye(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=Cye(),d=R4(i),f=L4(a),h=Oye();if(!u||!h)return null;Hn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=I1({x:d.scale,y:f.scale}),x=Kt(t),g=Kt(r),v=n&&n.length===2,p=Hye(m,x,g,v,h,e.position,d.orientation,f.orientation,e);if(!p)return null;var y=Fye(p,2),b=y[0],_=b.x,w=b.y,j=y[1],N=j.x,k=j.y,E=fi(e,"hidden")?"url(#".concat(u,")"):void 0,M=NE(NE({clipPath:E},Ae(e,!0)),{},{x1:_,y1:w,x2:N,y2:k});return z.createElement(it,{className:Be("recharts-reference-line",l)},Wye(s,M),tr.renderCallByParent(e,iye({x1:_,y1:w,x2:N,y2:k})))}var B1=function(e){function t(){return Tye(this,t),Dye(this,t,arguments)}return Lye(t,e),$ye(t,[{key:"render",value:function(){return z.createElement(Yye,this.props)}}])}(z.Component);U1(B1,"displayName","ReferenceLine");U1(B1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gb.apply(this,arguments)}function Ml(e){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(e)}function CE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(r),!0).forEach(function(n){zg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B4(n.key),n)}}function Xye(e,t,r){return t&&Kye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jye(e,t,r){return t=Gm(t),Zye(e,U4()?Reflect.construct(t,r||[],Gm(e).constructor):t.apply(e,r))}function Zye(e,t){if(t&&(Ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qye(e)}function Qye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U4=function(){return!!e})()}function Gm(e){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gm(e)}function eve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yb(e,t)}function yb(e,t){return yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yb(e,t)}function zg(e,t,r){return t=B4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B4(e){var t=tve(e,"string");return Ml(t)=="symbol"?t:t+""}function tve(e,t){if(Ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rve=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,s=I1({x:i.scale,y:a.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return fi(t,"discard")&&!s.isInRange(l)?null:l},Fg=function(e){function t(){return Gye(this,t),Jye(this,t,arguments)}return eve(t,e),Xye(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,u=Kt(i),d=Kt(a);if(Hn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=rve(this.props);if(!f)return null;var h=f.x,m=f.y,x=this.props,g=x.shape,v=x.className,p=fi(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=EE(EE({clipPath:p},Ae(this.props,!0)),{},{cx:h,cy:m});return z.createElement(it,{className:Be("recharts-reference-dot",v)},t.renderDot(g,y),tr.renderCallByParent(this.props,{x:h-s,y:m-s,width:2*s,height:2*s}))}}])}(z.Component);zg(Fg,"displayName","ReferenceDot");zg(Fg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});zg(Fg,"renderDot",function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):Te(e)?r=e(t):r=z.createElement(D1,gb({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vb.apply(this,arguments)}function $l(e){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(e)}function PE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function OE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(r),!0).forEach(function(n){Ug(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ive(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q4(n.key),n)}}function ave(e,t,r){return t&&ive(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sve(e,t,r){return t=Km(t),ove(e,V4()?Reflect.construct(t,r||[],Km(e).constructor):t.apply(e,r))}function ove(e,t){if(t&&($l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lve(e)}function lve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V4=function(){return!!e})()}function Km(e){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Km(e)}function cve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xb(e,t)}function xb(e,t){return xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xb(e,t)}function Ug(e,t,r){return t=q4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q4(e){var t=uve(e,"string");return $l(t)=="symbol"?t:t+""}function uve(e,t){if($l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dve=function(t,r,n,i,a){var s=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=I1({x:d.scale,y:f.scale}),m={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},x={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return fi(a,"discard")&&(!h.isInRange(m)||!h.isInRange(x))?null:O4(m,x)},Bg=function(e){function t(){return nve(this,t),sve(this,t,arguments)}return cve(t,e),ave(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Hn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Kt(i),h=Kt(a),m=Kt(s),x=Kt(l),g=this.props.shape;if(!f&&!h&&!m&&!x&&!g)return null;var v=dve(f,h,m,x,this.props);if(!v&&!g)return null;var p=fi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return z.createElement(it,{className:Be("recharts-reference-area",c)},t.renderRect(g,OE(OE({clipPath:p},Ae(this.props,!0)),v)),tr.renderCallByParent(this.props,v))}}])}(z.Component);Ug(Bg,"displayName","ReferenceArea");Ug(Bg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ug(Bg,"renderRect",function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):Te(e)?r=e(t):r=z.createElement($1,vb({},t,{className:"recharts-reference-area-rect"})),r});function W4(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function fve(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return sye(n,r)}function hve(e,t,r){var n=r==="width",i=e.x,a=e.y,s=e.width,l=e.height;return t===1?{start:n?i:a,end:n?i+s:a+l}:{start:n?i+s:a+l,end:n?i:a}}function Xm(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function mve(e,t){return W4(e,t+1)}function pve(e,t,r,n,i){for(var a=(n||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,f=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:W4(n,u)};var g=c,v,p=function(){return v===void 0&&(v=r(x,g)),v},y=x.coordinate,b=c===0||Xm(e,y,p,d,l);b||(c=0,d=s,u+=1),b&&(d=y+e*(p()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}function AE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(r),!0).forEach(function(n){gve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gve(e,t,r){return t=yve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yve(e){var t=vve(e,"string");return Cd(t)=="symbol"?t:t+""}function vve(e,t){if(Cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xve(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,l=t.start,c=t.end,u=function(h){var m=a[h],x,g=function(){return x===void 0&&(x=r(m,h)),x};if(h===s-1){var v=e*(m.coordinate+e*g()/2-c);a[h]=m=gr(gr({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else a[h]=m=gr(gr({},m),{},{tickCoord:m.coordinate});var p=Xm(e,m.tickCoord,g,l,c);p&&(c=m.tickCoord-e*(g()/2+i),a[h]=gr(gr({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function bve(e,t,r,n,i,a){var s=(n||[]).slice(),l=s.length,c=t.start,u=t.end;if(a){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);s[l-1]=d=gr(gr({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Xm(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+i),s[l-1]=gr(gr({},d),{},{isShow:!0}))}for(var x=a?l-1:l,g=function(y){var b=s[y],_,w=function(){return _===void 0&&(_=r(b,y)),_};if(y===0){var j=e*(b.coordinate-e*w()/2-c);s[y]=b=gr(gr({},b),{},{tickCoord:j<0?b.coordinate-j*e:b.coordinate})}else s[y]=b=gr(gr({},b),{},{tickCoord:b.coordinate});var N=Xm(e,b.tickCoord,w,c,u);N&&(c=b.tickCoord+e*(w()/2+i),s[y]=gr(gr({},b),{},{isShow:!0}))},v=0;v<x;v++)g(v);return s}function V1(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,s=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!n)return[];if(pe(c)||lc.isSsr)return mve(i,typeof c=="number"&&pe(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",x=d&&m==="width"?cu(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(b,_){var w=Te(u)?u(b.value,_):b.value;return m==="width"?fve(cu(w,{fontSize:t,letterSpacing:r}),x,f):cu(w,{fontSize:t,letterSpacing:r})[m]},v=i.length>=2?Cr(i[1].coordinate-i[0].coordinate):1,p=hve(a,v,m);return c==="equidistantPreserveStart"?pve(v,p,g,i,s):(c==="preserveStart"||c==="preserveStartEnd"?h=bve(v,p,g,i,s,c==="preserveStartEnd"):h=xve(v,p,g,i,s),h.filter(function(y){return y.isShow}))}var wve=["viewBox"],_ve=["viewBox"],jve=["ticks"];function Dl(e){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(e)}function Uo(){return Uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uo.apply(this,arguments)}function TE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(r),!0).forEach(function(n){q1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xy(e,t){if(e==null)return{};var r=Sve(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Nve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ME(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y4(n.key),n)}}function kve(e,t,r){return t&&ME(e.prototype,t),r&&ME(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cve(e,t,r){return t=Jm(t),Eve(e,H4()?Reflect.construct(t,r||[],Jm(e).constructor):t.apply(e,r))}function Eve(e,t){if(t&&(Dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pve(e)}function Pve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H4=function(){return!!e})()}function Jm(e){return Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jm(e)}function Ove(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bb(e,t)}function bb(e,t){return bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bb(e,t)}function q1(e,t,r){return t=Y4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y4(e){var t=Ave(e,"string");return Dl(t)=="symbol"?t:t+""}function Ave(e,t){if(Dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fc=function(e){function t(r){var n;return Nve(this,t),n=Cve(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Ove(t,e),kve(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=xy(n,wve),l=this.props,c=l.viewBox,u=xy(l,_ve);return!el(a,c)||!el(s,u)||!el(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,x,g,v,p,y,b=f?-1:1,_=n.tickSize||d,w=pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=x=n.coordinate,v=s+ +!f*c,g=v-b*_,y=g-b*h,p=w;break;case"left":g=v=n.coordinate,x=a+ +!f*l,m=x-b*_,p=m-b*h,y=w;break;case"right":g=v=n.coordinate,x=a+ +f*l,m=x+b*_,p=m+b*h,y=w;break;default:m=x=n.coordinate,v=s+ +f*c,g=v+b*_,y=g+b*h,p=w;break}return{line:{x1:m,y1:g,x2:x,y2:v},tick:{x:p,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Sr(Sr(Sr({},Ae(this.props,!1)),Ae(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Sr(Sr({},f),{},{x1:i,y1:a+h*l,x2:i+s,y2:a+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Sr(Sr({},f),{},{x1:i+m*s,y1:a,x2:i+m*s,y2:a+l})}return z.createElement("line",Uo({},f,{className:Be("recharts-cartesian-axis-line",rn(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=V1(Sr(Sr({},this.props),{},{ticks:n}),i,a),x=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Ae(this.props,!1),p=Ae(d,!1),y=Sr(Sr({},v),{},{fill:"none"},Ae(c,!1)),b=m.map(function(_,w){var j=s.getTickLineCoord(_),N=j.line,k=j.tick,E=Sr(Sr(Sr(Sr({textAnchor:x,verticalAnchor:g},v),{},{stroke:"none",fill:u},p),k),{},{index:w,payload:_,visibleTicksCount:m.length,tickFormatter:f});return z.createElement(it,Uo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Ys(s.props,_,w)),c&&z.createElement("line",Uo({},y,N,{className:Be("recharts-cartesian-axis-tick-line",rn(c,"className"))})),d&&t.renderTickItem(d,E,"".concat(Te(f)?f(_.value,w):_.value).concat(h||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=xy(f,jve),x=h;return Te(c)&&(x=h&&h.length>0?c(this.props):c(m)),s<=0||l<=0||!x||!x.length?null:z.createElement(it,{className:Be("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),tr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return z.isValidElement(n)?s=z.cloneElement(n,i):Te(n)?s=n(i):s=z.createElement(Gs,Uo({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(S.Component);q1(fc,"displayName","CartesianAxis");q1(fc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Tve=["x1","y1","x2","y2","key"],Mve=["offset"];function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}function $E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(r),!0).forEach(function(n){$ve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ve(e,t,r){return t=Dve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dve(e){var t=Ive(e,"string");return Js(t)=="symbol"?t:t+""}function Ive(e,t){if(Js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ms.apply(this,arguments)}function DE(e,t){if(e==null)return{};var r=Rve(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Lve=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,s=t.width,l=t.height,c=t.ry;return z.createElement("rect",{x:i,y:a,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function G4(e,t){var r;if(z.isValidElement(e))r=z.cloneElement(e,t);else if(Te(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,s=t.y2,l=t.key,c=DE(t,Tve),u=Ae(c,!1);u.offset;var d=DE(u,Mve);r=z.createElement("line",Ms({},d,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:l}))}return r}function zve(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var u=vr(vr({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return G4(i,u)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Fve(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var u=vr(vr({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return G4(i,u)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Uve(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var x=!d[m+1],g=x?i+s-h:d[m+1]-h;if(g<=0)return null;var v=m%t.length;return z.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:a,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Bve(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var x=!d[m+1],g=x?a+l-h:d[m+1]-h;if(g<=0)return null;var v=m%n.length;return z.createElement("rect",{key:"react-".concat(m),x:h,y:s,width:g,height:c,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Vve=function(t,r){var n=t.xAxis,i=t.width,a=t.height,s=t.offset;return W3(V1(vr(vr(vr({},fc.defaultProps),n),{},{ticks:Li(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},qve=function(t,r){var n=t.yAxis,i=t.width,a=t.height,s=t.offset;return W3(V1(vr(vr(vr({},fc.defaultProps),n),{},{ticks:Li(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},yo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function wb(e){var t,r,n,i,a,s,l=z1(),c=F1(),u=Aye(),d=vr(vr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:yo.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:yo.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:yo.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:yo.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:yo.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:yo.verticalFill,x:pe(e.x)?e.x:u.left,y:pe(e.y)?e.y:u.top,width:pe(e.width)?e.width:u.width,height:pe(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,x=d.height,g=d.syncWithTicks,v=d.horizontalValues,p=d.verticalValues,y=Eye(),b=Pye();if(!pe(m)||m<=0||!pe(x)||x<=0||!pe(f)||f!==+f||!pe(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||Vve,w=d.horizontalCoordinatesGenerator||qve,j=d.horizontalPoints,N=d.verticalPoints;if((!j||!j.length)&&Te(w)){var k=v&&v.length,E=w({yAxis:b?vr(vr({},b),{},{ticks:k?v:b.ticks}):void 0,width:l,height:c,offset:u},k?!0:g);Hn(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Js(E),"]")),Array.isArray(E)&&(j=E)}if((!N||!N.length)&&Te(_)){var M=p&&p.length,C=_({xAxis:y?vr(vr({},y),{},{ticks:M?p:y.ticks}):void 0,width:l,height:c,offset:u},M?!0:g);Hn(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Js(C),"]")),Array.isArray(C)&&(N=C)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(Lve,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),z.createElement(zve,Ms({},d,{offset:u,horizontalPoints:j,xAxis:y,yAxis:b})),z.createElement(Fve,Ms({},d,{offset:u,verticalPoints:N,xAxis:y,yAxis:b})),z.createElement(Uve,Ms({},d,{horizontalPoints:j})),z.createElement(Bve,Ms({},d,{verticalPoints:N})))}wb.displayName="CartesianGrid";function Il(e){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(e)}function Wve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J4(n.key),n)}}function Yve(e,t,r){return t&&Hve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gve(e,t,r){return t=Zm(t),Kve(e,K4()?Reflect.construct(t,r||[],Zm(e).constructor):t.apply(e,r))}function Kve(e,t){if(t&&(Il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xve(e)}function Xve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K4=function(){return!!e})()}function Zm(e){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zm(e)}function Jve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_b(e,t)}function _b(e,t){return _b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_b(e,t)}function X4(e,t,r){return t=J4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J4(e){var t=Zve(e,"string");return Il(t)=="symbol"?t:t+""}function Zve(e,t){if(Il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jb.apply(this,arguments)}function Qve(e){var t=e.xAxisId,r=z1(),n=F1(),i=R4(t);return i==null?null:z.createElement(fc,jb({},i,{className:Be("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Li(s,!0)}}))}var Ed=function(e){function t(){return Wve(this,t),Gve(this,t,arguments)}return Jve(t,e),Yve(t,[{key:"render",value:function(){return z.createElement(Qve,this.props)}}])}(z.Component);X4(Ed,"displayName","XAxis");X4(Ed,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Rl(e){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}function exe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function txe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eI(n.key),n)}}function rxe(e,t,r){return t&&txe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nxe(e,t,r){return t=Qm(t),ixe(e,Z4()?Reflect.construct(t,r||[],Qm(e).constructor):t.apply(e,r))}function ixe(e,t){if(t&&(Rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return axe(e)}function axe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z4=function(){return!!e})()}function Qm(e){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qm(e)}function sxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sb(e,t)}function Sb(e,t){return Sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Sb(e,t)}function Q4(e,t,r){return t=eI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eI(e){var t=oxe(e,"string");return Rl(t)=="symbol"?t:t+""}function oxe(e,t){if(Rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nb.apply(this,arguments)}var lxe=function(t){var r=t.yAxisId,n=z1(),i=F1(),a=L4(r);return a==null?null:z.createElement(fc,Nb({},a,{className:Be("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return Li(l,!0)}}))},Pd=function(e){function t(){return exe(this,t),nxe(this,t,arguments)}return sxe(t,e),rxe(t,[{key:"render",value:function(){return z.createElement(lxe,this.props)}}])}(z.Component);Q4(Pd,"displayName","YAxis");Q4(Pd,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function IE(e){return fxe(e)||dxe(e)||uxe(e)||cxe()}function cxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uxe(e,t){if(e){if(typeof e=="string")return kb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kb(e,t)}}function dxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fxe(e){if(Array.isArray(e))return kb(e)}function kb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Cb=function(t,r,n,i,a){var s=Sn(t,B1),l=Sn(t,Fg),c=[].concat(IE(s),IE(l)),u=Sn(t,Bg),d="".concat(i,"Id"),f=i[0],h=r;if(c.length&&(h=c.reduce(function(g,v){if(v.props[d]===n&&fi(v.props,"extendDomain")&&pe(v.props[f])){var p=v.props[f];return[Math.min(g[0],p),Math.max(g[1],p)]}return g},h)),u.length){var m="".concat(f,"1"),x="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===n&&fi(v.props,"extendDomain")&&pe(v.props[m])&&pe(v.props[x])){var p=v.props[m],y=v.props[x];return[Math.min(g[0],p,y),Math.max(g[1],p,y)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,v){return pe(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},tI={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,x=new Array(m);h<m;h++)x[h]=f[h].fn;return x},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,x){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],p=arguments.length,y,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),p){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,x),!0}for(b=1,y=new Array(p-1);b<p;b++)y[b-1]=arguments[b];v.fn.apply(v.context,y)}else{var _=v.length,w;for(b=0;b<_;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),p){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!y)for(w=1,y=new Array(p-1);w<p;w++)y[w-1]=arguments[w];v[b].fn.apply(v[b].context,y)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var x=this._events[m];if(x.fn)x.fn===d&&(!h||x.once)&&(!f||x.context===f)&&s(this,m);else{for(var g=0,v=[],p=x.length;g<p;g++)(x[g].fn!==d||h&&!x[g].once||f&&x[g].context!==f)&&v.push(x[g]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(tI);var hxe=tI.exports;const mxe=nt(hxe);var by=new mxe,wy="recharts.syncMouseEvents";function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(e)}function pxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rI(n.key),n)}}function yxe(e,t,r){return t&&gxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _y(e,t,r){return t=rI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rI(e){var t=vxe(e,"string");return Od(t)=="symbol"?t:t+""}function vxe(e,t){if(Od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xxe=function(){function e(){pxe(this,e),_y(this,"activeIndex",0),_y(this,"coordinateList",[]),_y(this,"layout","horizontal")}return yxe(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,l=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,h=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function bxe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&pe(n)&&pe(i))return!0}return!1}function wxe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function nI(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,s=gt(t,r,n,i),l=gt(t,r,n,a);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function _xe(e,t,r){var n,i,a,s;if(e==="horizontal")n=t.x,a=n,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=gt(l,c,u,f),m=gt(l,c,d,f);n=h.x,i=h.y,a=m.x,s=m.y}else return nI(t);return[{x:n,y:i},{x:a,y:s}]}function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}function RE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(r),!0).forEach(function(n){jxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jxe(e,t,r){return t=Sxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sxe(e){var t=Nxe(e,"string");return Ad(t)=="symbol"?t:t+""}function Nxe(e,t){if(Ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kxe(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var x,g=Kx;if(h==="ScatterChart")x=s,g=tpe;else if(h==="BarChart")x=wxe(f,s,c,d),g=$1;else if(f==="radial"){var v=nI(s),p=v.cx,y=v.cy,b=v.radius,_=v.startAngle,w=v.endAngle;x={cx:p,cy:y,startAngle:_,endAngle:w,innerRadius:b,outerRadius:b},g=r4}else x={points:_xe(f,s,c)},g=Kx;var j=Vf(Vf(Vf(Vf({stroke:"#ccc",pointerEvents:"none"},c),x),Ae(m,!1)),{},{payload:l,payloadIndex:u,className:Be("recharts-tooltip-cursor",m.className)});return S.isValidElement(m)?S.cloneElement(m,j):S.createElement(g,j)}var Cxe=["item"],Exe=["children","className","width","height","style","compact","title","desc"];function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bo.apply(this,arguments)}function LE(e,t){return Axe(e)||Oxe(e,t)||aI(e,t)||Pxe()}function Pxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function Axe(e){if(Array.isArray(e))return e}function zE(e,t){if(e==null)return{};var r=Txe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Txe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sI(n.key),n)}}function Dxe(e,t,r){return t&&$xe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ixe(e,t,r){return t=ep(t),Rxe(e,iI()?Reflect.construct(t,r||[],ep(e).constructor):t.apply(e,r))}function Rxe(e,t){if(t&&(Ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lxe(e)}function Lxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iI=function(){return!!e})()}function ep(e){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ep(e)}function zxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eb(e,t)}function Eb(e,t){return Eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Eb(e,t)}function zl(e){return Bxe(e)||Uxe(e)||aI(e)||Fxe()}function Fxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aI(e,t){if(e){if(typeof e=="string")return Pb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pb(e,t)}}function Uxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bxe(e){if(Array.isArray(e))return Pb(e)}function Pb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(r),!0).forEach(function(n){Ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ee(e,t,r){return t=sI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sI(e){var t=Vxe(e,"string");return Ll(t)=="symbol"?t:t+""}function Vxe(e,t){if(Ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qxe={xAxis:["bottom","top"],yAxis:["left","right"]},Wxe={width:"100%",height:"100%"},oI={x:0,y:0};function qf(e){return e}var Hxe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Yxe=function(t,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var s=a.coordinate,l=i.radius;return ie(ie(ie({},i),gt(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=a.coordinate,u=i.angle;return ie(ie(ie({},i),gt(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return oI},Vg=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(zl(l),zl(u)):l},[]);return s.length>0?s:t&&t.length&&pe(i)&&pe(a)?t.slice(i,a+1):[]};function lI(e){return e==="number"?[0,"auto"]:void 0}var Ob=function(t,r,n,i){var a=t.graphicalItems,s=t.tooltipAxis,l=Vg(r,t);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var m=f===void 0?l:f;h=nx(m,s.dataKey,i)}else h=f&&f[n]||l[n];return h?[].concat(zl(c),[X3(u,h)]):c},[])},UE=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},s=Hxe(a,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Nde(s,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Ob(t,r,d,f),m=Yxe(n,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},Gxe=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=q3(d,a);return n.reduce(function(x,g){var v,p=g.type.defaultProps!==void 0?ie(ie({},g.type.defaultProps),g.props):g.props,y=p.type,b=p.dataKey,_=p.allowDataOverflow,w=p.allowDuplicatedCategory,j=p.scale,N=p.ticks,k=p.includeHidden,E=p[s];if(x[E])return x;var M=Vg(t.data,{graphicalItems:i.filter(function(Q){var K,ce=s in Q.props?Q.props[s]:(K=Q.type.defaultProps)===null||K===void 0?void 0:K[s];return ce===E}),dataStartIndex:c,dataEndIndex:u}),C=M.length,O,L,$;bxe(p.domain,_,y)&&(O=qx(p.domain,null,_),m&&(y==="number"||j!=="auto")&&($=du(M,b,"category")));var B=lI(y);if(!O||O.length===0){var Y,F=(Y=p.domain)!==null&&Y!==void 0?Y:B;if(b){if(O=du(M,b,y),y==="category"&&m){var R=pX(O);w&&R?(L=O,O=Bm(0,C)):w||(O=mC(F,O,g).reduce(function(Q,K){return Q.indexOf(K)>=0?Q:[].concat(zl(Q),[K])},[]))}else if(y==="category")w?O=O.filter(function(Q){return Q!==""&&!qe(Q)}):O=mC(F,O,g).reduce(function(Q,K){return Q.indexOf(K)>=0||K===""||qe(K)?Q:[].concat(zl(Q),[K])},[]);else if(y==="number"){var D=Ode(M,i.filter(function(Q){var K,ce,me=s in Q.props?Q.props[s]:(K=Q.type.defaultProps)===null||K===void 0?void 0:K[s],xe="hide"in Q.props?Q.props.hide:(ce=Q.type.defaultProps)===null||ce===void 0?void 0:ce.hide;return me===E&&(k||!xe)}),b,a,d);D&&(O=D)}m&&(y==="number"||j!=="auto")&&($=du(M,b,"category"))}else m?O=Bm(0,C):l&&l[E]&&l[E].hasStack&&y==="number"?O=h==="expand"?[0,1]:K3(l[E].stackGroups,c,u):O=V3(M,i.filter(function(Q){var K=s in Q.props?Q.props[s]:Q.type.defaultProps[s],ce="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return K===E&&(k||!ce)}),y,d,!0);if(y==="number")O=Cb(f,O,E,a,N),F&&(O=qx(F,O,_));else if(y==="category"&&F){var X=F,ne=O.every(function(Q){return X.indexOf(Q)>=0});ne&&(O=X)}}return ie(ie({},x),{},Ee({},E,ie(ie({},p),{},{axisType:a,domain:O,categoricalDomain:$,duplicateDomain:L,originalDomain:(v=p.domain)!==null&&v!==void 0?v:B,isCategorical:m,layout:d})))},{})},Kxe=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Vg(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,x=q3(d,a),g=-1;return n.reduce(function(v,p){var y=p.type.defaultProps!==void 0?ie(ie({},p.type.defaultProps),p.props):p.props,b=y[s],_=lI("number");if(!v[b]){g++;var w;return x?w=Bm(0,m):l&&l[b]&&l[b].hasStack?(w=K3(l[b].stackGroups,c,u),w=Cb(f,w,b,a)):(w=qx(_,V3(h,n.filter(function(j){var N,k,E=s in j.props?j.props[s]:(N=j.type.defaultProps)===null||N===void 0?void 0:N[s],M="hide"in j.props?j.props.hide:(k=j.type.defaultProps)===null||k===void 0?void 0:k.hide;return E===b&&!M}),"number",d),i.defaultProps.allowDataOverflow),w=Cb(f,w,b,a)),ie(ie({},v),{},Ee({},b,ie(ie({axisType:a},i.defaultProps),{},{hide:!0,orientation:rn(qxe,"".concat(a,".").concat(g%2),null),domain:w,originalDomain:_,isCategorical:x,layout:d})))}return v},{})},Xxe=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(i,"Id"),h=Sn(d,a),m={};return h&&h.length?m=Gxe(t,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(m=Kxe(t,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},Jxe=function(t){var r=ka(t),n=Li(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:o1(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Om(r,n)}},BE=function(t){var r=t.children,n=t.defaultShowTooltip,i=Kr(r,Ol),a=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Zxe=function(t){return!t||!t.length?!1:t.some(function(r){var n=qi(r&&r.type);return n&&n.indexOf("Bar")>=0})},VE=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Qxe=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,s=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Kr(f,Ol),x=Kr(f,Wi),g=Object.keys(c).reduce(function(w,j){var N=c[j],k=N.orientation;return!N.mirror&&!N.hide?ie(ie({},w),{},Ee({},k,w[k]+N.width)):w},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(w,j){var N=s[j],k=N.orientation;return!N.mirror&&!N.hide?ie(ie({},w),{},Ee({},k,rn(w,"".concat(k))+N.height)):w},{top:h.top||0,bottom:h.bottom||0}),p=ie(ie({},v),g),y=p.bottom;m&&(p.bottom+=m.props.height||Ol.defaultProps.height),x&&r&&(p=Ede(p,i,n,r));var b=u-p.left-p.right,_=d-p.top-p.bottom;return ie(ie({brushBottom:y},p),{},{width:Math.max(b,0),height:Math.max(_,0)})},ebe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},cI=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,s=t.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(p,y){var b=y.graphicalItems,_=y.stackGroups,w=y.offset,j=y.updateId,N=y.dataStartIndex,k=y.dataEndIndex,E=p.barSize,M=p.layout,C=p.barGap,O=p.barCategoryGap,L=p.maxBarSize,$=VE(M),B=$.numericAxisName,Y=$.cateAxisName,F=Zxe(b),R=[];return b.forEach(function(D,X){var ne=Vg(p.data,{graphicalItems:[D],dataStartIndex:N,dataEndIndex:k}),Q=D.type.defaultProps!==void 0?ie(ie({},D.type.defaultProps),D.props):D.props,K=Q.dataKey,ce=Q.maxBarSize,me=Q["".concat(B,"Id")],xe=Q["".concat(Y,"Id")],ue={},be=c.reduce(function(re,le){var ae=y["".concat(le.axisType,"Map")],Se=Q["".concat(le.axisType,"Id")];ae&&ae[Se]||le.axisType==="zAxis"||Xs();var Pe=ae[Se];return ie(ie({},re),{},Ee(Ee({},le.axisType,Pe),"".concat(le.axisType,"Ticks"),Li(Pe)))},ue),U=be[Y],se=be["".concat(Y,"Ticks")],W=_&&_[me]&&_[me].hasStack&&zde(D,_[me].stackGroups),I=qi(D.type).indexOf("Bar")>=0,G=Om(U,se),ee=[],de=F&&kde({barSize:E,stackGroups:_,totalSize:ebe(be,Y)});if(I){var J,A,P=qe(ce)?L:ce,q=(J=(A=Om(U,se,!0))!==null&&A!==void 0?A:P)!==null&&J!==void 0?J:0;ee=Cde({barGap:C,barCategoryGap:O,bandSize:q!==G?q:G,sizeList:de[xe],maxBarSize:P}),q!==G&&(ee=ee.map(function(re){return ie(ie({},re),{},{position:ie(ie({},re.position),{},{offset:re.position.offset-q/2})})}))}var oe=D&&D.type&&D.type.getComposedData;oe&&R.push({props:ie(ie({},oe(ie(ie({},be),{},{displayedData:ne,props:p,dataKey:K,item:D,bandSize:G,barPosition:ee,offset:w,stackedData:W,layout:M,dataStartIndex:N,dataEndIndex:k}))),{},Ee(Ee(Ee({key:D.key||"item-".concat(X)},B,be[B]),Y,be[Y]),"animationId",j)),childIndex:CX(D,p.children),item:D})}),R},m=function(p,y){var b=p.props,_=p.dataStartIndex,w=p.dataEndIndex,j=p.updateId;if(!l2({props:b}))return null;var N=b.children,k=b.layout,E=b.stackOffset,M=b.data,C=b.reverseStackOrder,O=VE(k),L=O.numericAxisName,$=O.cateAxisName,B=Sn(N,n),Y=Rde(M,B,"".concat(L,"Id"),"".concat($,"Id"),E,C),F=c.reduce(function(Q,K){var ce="".concat(K.axisType,"Map");return ie(ie({},Q),{},Ee({},ce,Xxe(b,ie(ie({},K),{},{graphicalItems:B,stackGroups:K.axisType===L&&Y,dataStartIndex:_,dataEndIndex:w}))))},{}),R=Qxe(ie(ie({},F),{},{props:b,graphicalItems:B}),y==null?void 0:y.legendBBox);Object.keys(F).forEach(function(Q){F[Q]=d(b,F[Q],R,Q.replace("Map",""),r)});var D=F["".concat($,"Map")],X=Jxe(D),ne=h(b,ie(ie({},F),{},{dataStartIndex:_,dataEndIndex:w,updateId:j,graphicalItems:B,stackGroups:Y,offset:R}));return ie(ie({formattedGraphicalItems:ne,graphicalItems:B,offset:R,stackGroups:Y},X),F)},x=function(v){function p(y){var b,_,w;return Mxe(this,p),w=Ixe(this,p,[y]),Ee(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ee(w,"accessibilityManager",new xxe),Ee(w,"handleLegendBBoxUpdate",function(j){if(j){var N=w.state,k=N.dataStartIndex,E=N.dataEndIndex,M=N.updateId;w.setState(ie({legendBBox:j},m({props:w.props,dataStartIndex:k,dataEndIndex:E,updateId:M},ie(ie({},w.state),{},{legendBBox:j}))))}}),Ee(w,"handleReceiveSyncEvent",function(j,N,k){if(w.props.syncId===j){if(k===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(N)}}),Ee(w,"handleBrushChange",function(j){var N=j.startIndex,k=j.endIndex;if(N!==w.state.dataStartIndex||k!==w.state.dataEndIndex){var E=w.state.updateId;w.setState(function(){return ie({dataStartIndex:N,dataEndIndex:k},m({props:w.props,dataStartIndex:N,dataEndIndex:k,updateId:E},w.state))}),w.triggerSyncEvent({dataStartIndex:N,dataEndIndex:k})}}),Ee(w,"handleMouseEnter",function(j){var N=w.getMouseInfo(j);if(N){var k=ie(ie({},N),{},{isTooltipActive:!0});w.setState(k),w.triggerSyncEvent(k);var E=w.props.onMouseEnter;Te(E)&&E(k,j)}}),Ee(w,"triggeredAfterMouseMove",function(j){var N=w.getMouseInfo(j),k=N?ie(ie({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(k),w.triggerSyncEvent(k);var E=w.props.onMouseMove;Te(E)&&E(k,j)}),Ee(w,"handleItemMouseEnter",function(j){w.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Ee(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Ee(w,"handleMouseMove",function(j){j.persist(),w.throttleTriggeredAfterMouseMove(j)}),Ee(w,"handleMouseLeave",function(j){w.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};w.setState(N),w.triggerSyncEvent(N);var k=w.props.onMouseLeave;Te(k)&&k(N,j)}),Ee(w,"handleOuterEvent",function(j){var N=kX(j),k=rn(w.props,"".concat(N));if(N&&Te(k)){var E,M;/.*touch.*/i.test(N)?M=w.getMouseInfo(j.changedTouches[0]):M=w.getMouseInfo(j),k((E=M)!==null&&E!==void 0?E:{},j)}}),Ee(w,"handleClick",function(j){var N=w.getMouseInfo(j);if(N){var k=ie(ie({},N),{},{isTooltipActive:!0});w.setState(k),w.triggerSyncEvent(k);var E=w.props.onClick;Te(E)&&E(k,j)}}),Ee(w,"handleMouseDown",function(j){var N=w.props.onMouseDown;if(Te(N)){var k=w.getMouseInfo(j);N(k,j)}}),Ee(w,"handleMouseUp",function(j){var N=w.props.onMouseUp;if(Te(N)){var k=w.getMouseInfo(j);N(k,j)}}),Ee(w,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Ee(w,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.handleMouseDown(j.changedTouches[0])}),Ee(w,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.handleMouseUp(j.changedTouches[0])}),Ee(w,"handleDoubleClick",function(j){var N=w.props.onDoubleClick;if(Te(N)){var k=w.getMouseInfo(j);N(k,j)}}),Ee(w,"handleContextMenu",function(j){var N=w.props.onContextMenu;if(Te(N)){var k=w.getMouseInfo(j);N(k,j)}}),Ee(w,"triggerSyncEvent",function(j){w.props.syncId!==void 0&&by.emit(wy,w.props.syncId,j,w.eventEmitterSymbol)}),Ee(w,"applySyncEvent",function(j){var N=w.props,k=N.layout,E=N.syncMethod,M=w.state.updateId,C=j.dataStartIndex,O=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)w.setState(ie({dataStartIndex:C,dataEndIndex:O},m({props:w.props,dataStartIndex:C,dataEndIndex:O,updateId:M},w.state)));else if(j.activeTooltipIndex!==void 0){var L=j.chartX,$=j.chartY,B=j.activeTooltipIndex,Y=w.state,F=Y.offset,R=Y.tooltipTicks;if(!F)return;if(typeof E=="function")B=E(R,j);else if(E==="value"){B=-1;for(var D=0;D<R.length;D++)if(R[D].value===j.activeLabel){B=D;break}}var X=ie(ie({},F),{},{x:F.left,y:F.top}),ne=Math.min(L,X.x+X.width),Q=Math.min($,X.y+X.height),K=R[B]&&R[B].value,ce=Ob(w.state,w.props.data,B),me=R[B]?{x:k==="horizontal"?R[B].coordinate:ne,y:k==="horizontal"?Q:R[B].coordinate}:oI;w.setState(ie(ie({},j),{},{activeLabel:K,activeCoordinate:me,activePayload:ce,activeTooltipIndex:B}))}else w.setState(j)}),Ee(w,"renderCursor",function(j){var N,k=w.state,E=k.isTooltipActive,M=k.activeCoordinate,C=k.activePayload,O=k.offset,L=k.activeTooltipIndex,$=k.tooltipAxisBandSize,B=w.getTooltipEventType(),Y=(N=j.props.active)!==null&&N!==void 0?N:E,F=w.props.layout,R=j.key||"_recharts-cursor";return z.createElement(kxe,{key:R,activeCoordinate:M,activePayload:C,activeTooltipIndex:L,chartName:r,element:j,isActive:Y,layout:F,offset:O,tooltipAxisBandSize:$,tooltipEventType:B})}),Ee(w,"renderPolarAxis",function(j,N,k){var E=rn(j,"type.axisType"),M=rn(w.state,"".concat(E,"Map")),C=j.type.defaultProps,O=C!==void 0?ie(ie({},C),j.props):j.props,L=M&&M[O["".concat(E,"Id")]];return S.cloneElement(j,ie(ie({},L),{},{className:Be(E,L.className),key:j.key||"".concat(N,"-").concat(k),ticks:Li(L,!0)}))}),Ee(w,"renderPolarGrid",function(j){var N=j.props,k=N.radialLines,E=N.polarAngles,M=N.polarRadius,C=w.state,O=C.radiusAxisMap,L=C.angleAxisMap,$=ka(O),B=ka(L),Y=B.cx,F=B.cy,R=B.innerRadius,D=B.outerRadius;return S.cloneElement(j,{polarAngles:Array.isArray(E)?E:Li(B,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(M)?M:Li($,!0).map(function(X){return X.coordinate}),cx:Y,cy:F,innerRadius:R,outerRadius:D,key:j.key||"polar-grid",radialLines:k})}),Ee(w,"renderLegend",function(){var j=w.state.formattedGraphicalItems,N=w.props,k=N.children,E=N.width,M=N.height,C=w.props.margin||{},O=E-(C.left||0)-(C.right||0),L=U3({children:k,formattedGraphicalItems:j,legendWidth:O,legendContent:u});if(!L)return null;var $=L.item,B=zE(L,Cxe);return S.cloneElement($,ie(ie({},B),{},{chartWidth:E,chartHeight:M,margin:C,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Ee(w,"renderTooltip",function(){var j,N=w.props,k=N.children,E=N.accessibilityLayer,M=Kr(k,mn);if(!M)return null;var C=w.state,O=C.isTooltipActive,L=C.activeCoordinate,$=C.activePayload,B=C.activeLabel,Y=C.offset,F=(j=M.props.active)!==null&&j!==void 0?j:O;return S.cloneElement(M,{viewBox:ie(ie({},Y),{},{x:Y.left,y:Y.top}),active:F,label:B,payload:F?$:[],coordinate:L,accessibilityLayer:E})}),Ee(w,"renderBrush",function(j){var N=w.props,k=N.margin,E=N.data,M=w.state,C=M.offset,O=M.dataStartIndex,L=M.dataEndIndex,$=M.updateId;return S.cloneElement(j,{key:j.key||"_recharts-brush",onChange:zf(w.handleBrushChange,j.props.onChange),data:E,x:pe(j.props.x)?j.props.x:C.left,y:pe(j.props.y)?j.props.y:C.top+C.height+C.brushBottom-(k.bottom||0),width:pe(j.props.width)?j.props.width:C.width,startIndex:O,endIndex:L,updateId:"brush-".concat($)})}),Ee(w,"renderReferenceElement",function(j,N,k){if(!j)return null;var E=w,M=E.clipPathId,C=w.state,O=C.xAxisMap,L=C.yAxisMap,$=C.offset,B=j.type.defaultProps||{},Y=j.props,F=Y.xAxisId,R=F===void 0?B.xAxisId:F,D=Y.yAxisId,X=D===void 0?B.yAxisId:D;return S.cloneElement(j,{key:j.key||"".concat(N,"-").concat(k),xAxis:O[R],yAxis:L[X],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:M})}),Ee(w,"renderActivePoints",function(j){var N=j.item,k=j.activePoint,E=j.basePoint,M=j.childIndex,C=j.isRange,O=[],L=N.props.key,$=N.item.type.defaultProps!==void 0?ie(ie({},N.item.type.defaultProps),N.item.props):N.item.props,B=$.activeDot,Y=$.dataKey,F=ie(ie({index:M,dataKey:Y,cx:k.x,cy:k.y,r:4,fill:M1(N.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Ae(B,!1)),nm(B));return O.push(p.renderActiveDot(B,F,"".concat(L,"-activePoint-").concat(M))),E?O.push(p.renderActiveDot(B,ie(ie({},F),{},{cx:E.x,cy:E.y}),"".concat(L,"-basePoint-").concat(M))):C&&O.push(null),O}),Ee(w,"renderGraphicChild",function(j,N,k){var E=w.filterFormatItem(j,N,k);if(!E)return null;var M=w.getTooltipEventType(),C=w.state,O=C.isTooltipActive,L=C.tooltipAxis,$=C.activeTooltipIndex,B=C.activeLabel,Y=w.props.children,F=Kr(Y,mn),R=E.props,D=R.points,X=R.isRange,ne=R.baseLine,Q=E.item.type.defaultProps!==void 0?ie(ie({},E.item.type.defaultProps),E.item.props):E.item.props,K=Q.activeDot,ce=Q.hide,me=Q.activeBar,xe=Q.activeShape,ue=!!(!ce&&O&&F&&(K||me||xe)),be={};M!=="axis"&&F&&F.props.trigger==="click"?be={onClick:zf(w.handleItemMouseEnter,j.props.onClick)}:M!=="axis"&&(be={onMouseLeave:zf(w.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:zf(w.handleItemMouseEnter,j.props.onMouseEnter)});var U=S.cloneElement(j,ie(ie({},E.props),be));function se(le){return typeof L.dataKey=="function"?L.dataKey(le.payload):null}if(ue)if($>=0){var W,I;if(L.dataKey&&!L.allowDuplicatedCategory){var G=typeof L.dataKey=="function"?se:"payload.".concat(L.dataKey.toString());W=nx(D,G,B),I=X&&ne&&nx(ne,G,B)}else W=D==null?void 0:D[$],I=X&&ne&&ne[$];if(xe||me){var ee=j.props.activeIndex!==void 0?j.props.activeIndex:$;return[S.cloneElement(j,ie(ie(ie({},E.props),be),{},{activeIndex:ee})),null,null]}if(!qe(W))return[U].concat(zl(w.renderActivePoints({item:E,activePoint:W,basePoint:I,childIndex:$,isRange:X})))}else{var de,J=(de=w.getItemByXY(w.state.activeCoordinate))!==null&&de!==void 0?de:{graphicalItem:U},A=J.graphicalItem,P=A.item,q=P===void 0?j:P,oe=A.childIndex,re=ie(ie(ie({},E.props),be),{},{activeIndex:oe});return[S.cloneElement(q,re),null,null]}return X?[U,null,null]:[U,null]}),Ee(w,"renderCustomized",function(j,N,k){return S.cloneElement(j,ie(ie({key:"recharts-customized-".concat(k)},w.props),w.state))}),Ee(w,"renderMap",{CartesianGrid:{handler:qf,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:qf},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:qf},YAxis:{handler:qf},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:Kd("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=FD(w.triggeredAfterMouseMove,(_=y.throttleDelay)!==null&&_!==void 0?_:1e3/60),w.state={},w}return zxe(p,v),Dxe(p,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,w=b.data,j=b.height,N=b.layout,k=Kr(_,mn);if(k){var E=k.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,C=Ob(this.state,w,E,M),O=this.state.tooltipTicks[E].coordinate,L=(this.state.offset.top+j)/2,$=N==="horizontal",B=$?{x:O,y:L}:{y:O,x:L},Y=this.state.formattedGraphicalItems.find(function(R){var D=R.item;return D.type.name==="Scatter"});Y&&(B=ie(ie({},B),Y.props.points[E].tooltipPosition),C=Y.props.points[E].tooltipPayload);var F={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:M,activePayload:C,activeCoordinate:B};this.setState(F),this.renderCursor(k),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,j;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(b){ax([Kr(b.children,mn)],[Kr(this.props.children,mn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Kr(this.props.children,mn);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return l.indexOf(_)>=0?_:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,w=_.getBoundingClientRect(),j=Qse(w),N={chartX:Math.round(b.pageX-j.left),chartY:Math.round(b.pageY-j.top)},k=w.width/_.offsetWidth||1,E=this.inRange(N.chartX,N.chartY,k);if(!E)return null;var M=this.state,C=M.xAxisMap,O=M.yAxisMap,L=this.getTooltipEventType(),$=UE(this.state,this.props.data,this.props.layout,E);if(L!=="axis"&&C&&O){var B=ka(C).scale,Y=ka(O).scale,F=B&&B.invert?B.invert(N.chartX):null,R=Y&&Y.invert?Y.invert(N.chartY):null;return ie(ie({},N),{},{xValue:F,yValue:R},$)}return $?ie(ie({},N),$):null}},{key:"inRange",value:function(b,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,N=b/w,k=_/w;if(j==="horizontal"||j==="vertical"){var E=this.state.offset,M=N>=E.left&&N<=E.left+E.width&&k>=E.top&&k<=E.top+E.height;return M?{x:N,y:k}:null}var C=this.state,O=C.angleAxisMap,L=C.radiusAxisMap;if(O&&L){var $=ka(O);return yC({x:N,y:k},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),w=Kr(b,mn),j={};w&&_==="axis"&&(w.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=nm(this.props,this.handleOuterEvent);return ie(ie({},N),j)}},{key:"addListener",value:function(){by.on(wy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){by.removeListener(wy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,w){for(var j=this.state.formattedGraphicalItems,N=0,k=j.length;N<k;N++){var E=j[N];if(E.item===b||E.props.key===b.key||_===qi(E.item.type)&&w===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,w=_.left,j=_.top,N=_.height,k=_.width;return z.createElement("defs",null,z.createElement("clipPath",{id:b},z.createElement("rect",{x:w,y:j,height:N,width:k})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,w){var j=LE(w,2),N=j[0],k=j[1];return ie(ie({},_),{},Ee({},N,k.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,w){var j=LE(w,2),N=j[0],k=j[1];return ie(ie({},_),{},Ee({},N,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,w=_.formattedGraphicalItems,j=_.activeItem;if(w&&w.length)for(var N=0,k=w.length;N<k;N++){var E=w[N],M=E.props,C=E.item,O=C.type.defaultProps!==void 0?ie(ie({},C.type.defaultProps),C.props):C.props,L=qi(C.type);if(L==="Bar"){var $=(M.data||[]).find(function(R){return Dme(b,R)});if($)return{graphicalItem:E,payload:$}}else if(L==="RadialBar"){var B=(M.data||[]).find(function(R){return yC(b,R)});if(B)return{graphicalItem:E,payload:B}}else if(Ig(E,j)||Rg(E,j)||jd(E,j)){var Y=Sge({graphicalItem:E,activeTooltipItem:j,itemData:O.data}),F=O.activeIndex===void 0?Y:O.activeIndex;return{graphicalItem:ie(ie({},E),{},{childIndex:F}),payload:jd(E,j)?O.data[Y]:E.props.data[Y]}}}return null}},{key:"render",value:function(){var b=this;if(!l2(this))return null;var _=this.props,w=_.children,j=_.className,N=_.width,k=_.height,E=_.style,M=_.compact,C=_.title,O=_.desc,L=zE(_,Exe),$=Ae(L,!1);if(M)return z.createElement(jE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(ox,Bo({},$,{width:N,height:k,title:C,desc:O}),this.renderClipPath(),u2(w,this.renderMap)));if(this.props.accessibilityLayer){var B,Y;$.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,$.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",$.onKeyDown=function(R){b.accessibilityManager.keyboardEvent(R)},$.onFocus=function(){b.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return z.createElement(jE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",Bo({className:Be("recharts-wrapper",j),style:ie({position:"relative",cursor:"default",width:N,height:k},E)},F,{ref:function(D){b.container=D}}),z.createElement(ox,Bo({},$,{width:N,height:k,title:C,desc:O,style:Wxe}),this.renderClipPath(),u2(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(S.Component);Ee(x,"displayName",r),Ee(x,"defaultProps",ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ee(x,"getDerivedStateFromProps",function(v,p){var y=v.dataKey,b=v.data,_=v.children,w=v.width,j=v.height,N=v.layout,k=v.stackOffset,E=v.margin,M=p.dataStartIndex,C=p.dataEndIndex;if(p.updateId===void 0){var O=BE(v);return ie(ie(ie({},O),{},{updateId:0},m(ie(ie({props:v},O),{},{updateId:0}),p)),{},{prevDataKey:y,prevData:b,prevWidth:w,prevHeight:j,prevLayout:N,prevStackOffset:k,prevMargin:E,prevChildren:_})}if(y!==p.prevDataKey||b!==p.prevData||w!==p.prevWidth||j!==p.prevHeight||N!==p.prevLayout||k!==p.prevStackOffset||!el(E,p.prevMargin)){var L=BE(v),$={chartX:p.chartX,chartY:p.chartY,isTooltipActive:p.isTooltipActive},B=ie(ie({},UE(p,b,N)),{},{updateId:p.updateId+1}),Y=ie(ie(ie({},L),$),B);return ie(ie(ie({},Y),m(ie({props:v},Y),p)),{},{prevDataKey:y,prevData:b,prevWidth:w,prevHeight:j,prevLayout:N,prevStackOffset:k,prevMargin:E,prevChildren:_})}if(!ax(_,p.prevChildren)){var F,R,D,X,ne=Kr(_,Ol),Q=ne&&(F=(R=ne.props)===null||R===void 0?void 0:R.startIndex)!==null&&F!==void 0?F:M,K=ne&&(D=(X=ne.props)===null||X===void 0?void 0:X.endIndex)!==null&&D!==void 0?D:C,ce=Q!==M||K!==C,me=!qe(b),xe=me&&!ce?p.updateId:p.updateId+1;return ie(ie({updateId:xe},m(ie(ie({props:v},p),{},{updateId:xe,dataStartIndex:Q,dataEndIndex:K}),p)),{},{prevChildren:_,dataStartIndex:Q,dataEndIndex:K})}return null}),Ee(x,"renderActiveDot",function(v,p,y){var b;return S.isValidElement(v)?b=S.cloneElement(v,p):Te(v)?b=v(p):b=z.createElement(D1,p),z.createElement(it,{className:"recharts-active-dot",key:y},b)});var g=S.forwardRef(function(p,y){return z.createElement(x,Bo({},p,{ref:y}))});return g.displayName=x.displayName,g},qE=cI({chartName:"BarChart",GraphicalChild:Ja,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ed},{axisType:"yAxis",AxisComp:Pd}],formatAxisMap:nye}),tbe=cI({chartName:"PieChart",GraphicalChild:da,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Dg},{axisType:"radiusAxis",AxisComp:Mg}],formatAxisMap:Kde,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const WE=["#8884d8","#4CAF50","#FFC107","#2196F3","#FF5722","#673AB7","#00BCD4","#FFEB3B"],rbe=()=>{const e=dr(),[t,r]=S.useState([]),[n,i]=S.useState([]),[a,s]=S.useState([]),[l,c]=S.useState(!0),[u,d]=S.useState(!1),[f,h]=S.useState(null),[m,x]=S.useState(null),[g,v]=S.useState(!1),[p,y]=S.useState(!1),[b,_]=S.useState(null),[w,j]=S.useState({id_stock:0,tipo_item:"",id_referencia_item:null,cantidad:0,ubicacion:"",lote:"",fecha_caducidad_lote:""}),[N,k]=S.useState(!1),[E,M]=S.useState(null),[C,O]=S.useState(1),[L,$]=S.useState([]),[B,Y]=S.useState([]),[F,R]=S.useState([]),[D,X]=S.useState(""),[ne,Q]=S.useState(""),[K,ce]=S.useState(1),me=10,xe=10,[ue,be]=S.useState(!1),[U,se]=S.useState(!1),[W,I]=S.useState({nombre_generico:"",nombre_comercial:null,principio_activo:null,presentacion:null,dosis_recomendada:null,fabricante:null,unidad_medida:null,precio_venta:null,categoria:null,sustancia_controlada:!1}),[G,ee]=S.useState(!1),[de,J]=S.useState({nombre:"",descripcion:null,categoria:null,unidad_medida:null}),A=S.useCallback(Z=>{x(Z),h(null),setTimeout(()=>x(null),5e3)},[]),P=S.useCallback(Z=>{h(Z),x(null),setTimeout(()=>h(null),8e3)},[]),q=S.useCallback(()=>{x(null),h(null)},[]),oe=S.useCallback(Z=>{const Ne=new Map;Z.forEach(te=>{Ne.set(te.tipo_item,(Ne.get(te.tipo_item)||0)+te.cantidad)}),$(Array.from(Ne,([te,ye])=>({name:te,value:ye})));const Xe=new Map;Z.filter(te=>te.tipo_item==="suministro").forEach(te=>{const ye=te.categoria_suministro||"Sin Categoría";Xe.set(ye,(Xe.get(ye)||0)+te.cantidad)}),Y(Array.from(Xe,([te,ye])=>({name:te,value:ye})));const V=new Map,H=new Date;H.setHours(0,0,0,0),Z.filter(te=>te.tipo_item==="medicamento").forEach(te=>{if(te.fecha_caducidad_lote){const ye=new Date(te.fecha_caducidad_lote+"T00:00:00");ye.setHours(0,0,0,0);const Ue=ye.getTime()-H.getTime(),Ce=Math.ceil(Ue/(1e3*60*60*24));let De="Vencidos";Ce>90?De="Más de 90 días":Ce>30?De="30-90 días":Ce>0&&(De="Menos de 30 días"),V.set(De,(V.get(De)||0)+te.cantidad)}else V.set("Sin Fecha",(V.get("Sin Fecha")||0)+te.cantidad)}),R(Array.from(V,([te,ye])=>({name:te,value:ye})))},[]),re=S.useCallback((Z,Ne,Xe)=>{const V=Xe.map(H=>{let te="Desconocido",ye=null,Ue=null,Ce=null,De=null,ze=null;if(H.tipo_item==="medicamento"){const lt=Z.find($r=>$r.id_medicamento===H.id_referencia_item);lt?(te=lt.nombre_generico||lt.nombre_comercial||"Medicamento Desconocido",Ce=lt.unidad_medida||null,ze=lt.precio_venta||null,ye=lt.categoria||null):te=`Medicamento Desconocido (ID: ${H.id_referencia_item})`,H.fecha_caducidad_lote&&(De=new Date(H.fecha_caducidad_lote+"T00:00:00").toLocaleDateString("es-ES",{year:"numeric",month:"numeric",day:"numeric"}))}else if(H.tipo_item==="suministro"){const lt=Ne.find($r=>$r.id_suministro===H.id_referencia_item);lt?(te=lt.nombre,Ue=lt.categoria||null,Ce=lt.unidad_medida||null):te=`Suministro Desconocido (ID: ${H.id_referencia_item})`}return{...H,nombre_item:te,categoria_medicamento:ye,categoria_suministro:Ue,unidad_display:Ce,vencimiento_display:De,precio_venta:ze}});s(V.sort((H,te)=>new Date(te.ultima_actualizacion).getTime()-new Date(H.ultima_actualizacion).getTime())),oe(V)},[oe]),le=S.useCallback(async()=>{c(!0),q();try{const{data:Z,error:Ne}=await T.from("medicamentos").select("*");if(Ne)throw Ne;const{data:Xe,error:V}=await T.from("suministros").select("*");if(V)throw V;const{data:H,error:te}=await T.from("inventario_stock").select("*");if(te)throw te;r(Z||[]),i(Xe||[]),re(Z||[],Xe||[],H||[])}catch(Z){console.error("Error al cargar datos de inventario:",Z),P("Error al cargar datos de inventario: "+Z.message+". Por favor, asegúrate de que las tablas estén configuradas y las políticas RLS adecuadas (SELECT para el rol actual).")}finally{c(!1)}},[re,P,q]);S.useEffect(()=>{le();const Z=T.channel("inventario_stock_changes").on("postgres_changes",{event:"*",schema:"public",table:"inventario_stock"},()=>{console.log("Realtime change for inventario_stock received."),le()}).subscribe(),Ne=T.channel("medicamentos_changes").on("postgres_changes",{event:"*",schema:"public",table:"medicamentos"},()=>{console.log("Realtime change for medicamentos received."),le()}).subscribe(),Xe=T.channel("suministros_changes").on("postgres_changes",{event:"*",schema:"public",table:"suministros"},()=>{console.log("Realtime change for suministros received."),le()}).subscribe();return()=>{T.removeChannel(Z),T.removeChannel(Ne),T.removeChannel(Xe),console.log("Unsubscribed from all inventory-related channels.")}},[le]);const ae=Z=>{q(),Z?(y(!0),_(Z),j({id_stock:Z.id_stock,tipo_item:Z.tipo_item,id_referencia_item:Z.id_referencia_item,cantidad:Z.cantidad,ubicacion:Z.ubicacion||"",lote:Z.lote||"",fecha_caducidad_lote:Z.fecha_caducidad_lote||""})):(y(!1),_(null),j({id_stock:0,tipo_item:"",id_referencia_item:null,cantidad:0,ubicacion:"",lote:"",fecha_caducidad_lote:""})),v(!0),be(!1)},Se=Z=>{const{name:Ne,value:Xe}=Z.target;j(V=>({...V,[Ne]:Ne==="cantidad"||Ne==="id_referencia_item"?Number(Xe):Xe}))},Pe=async Z=>{Z.preventDefault(),q(),d(!0);const{id_stock:Ne,tipo_item:Xe,id_referencia_item:V,cantidad:H,ubicacion:te,lote:ye,fecha_caducidad_lote:Ue}=w;if(!Xe||H<=0||!te||V===null){P("Por favor, rellena todos los campos obligatorios: Tipo, Ítem, Cantidad, Ubicación."),d(!1);return}if(Xe==="medicamento"&&!Ue){P("Para medicamentos, la fecha de caducidad es obligatoria."),d(!1);return}const Ce={tipo_item:Xe,id_referencia_item:V,cantidad:H,ubicacion:te,lote:ye||null,fecha_caducidad_lote:Ue||null,ultima_actualizacion:new Date().toISOString()};try{if(p&&b){const{error:De}=await T.from("inventario_stock").update(Ce).eq("id_stock",Ne);if(De)throw De;A("Ítem de inventario actualizado exitosamente.")}else{const{error:De}=await T.from("inventario_stock").insert(Ce);if(De)throw De;A("Nuevo ítem agregado al inventario exitosamente.")}v(!1)}catch(De){console.error("Error al guardar ítem de inventario:",De.message),P("Error al guardar el ítem: "+De.message)}finally{d(!1)}},$e=Z=>{M(Z),O(1),q(),k(!0)},ot=async()=>{if(!E||C<=0||C>E.cantidad){P("Cantidad de despacho inválida.");return}d(!0),q();try{const Z=E.cantidad-C,{error:Ne}=await T.from("inventario_stock").update({cantidad:Z,ultima_actualizacion:new Date().toISOString()}).eq("id_stock",E.id_stock);if(Ne)throw Ne;A(`Se despacharon ${C} unidades de ${E.nombre_item}.`),k(!1),M(null)}catch(Z){console.error("Error al despachar ítem:",Z.message),P("Error al despachar el ítem: "+Z.message)}finally{d(!1)}},He=S.useMemo(()=>a.filter(Z=>Z.cantidad<=xe&&Z.cantidad>0),[a]),Me=S.useMemo(()=>a.filter(Z=>Z.cantidad===0),[a]),zt=S.useMemo(()=>{const Z=new Date;return Z.setHours(0,0,0,0),a.filter(Ne=>Ne.tipo_item==="medicamento"&&Ne.fecha_caducidad_lote&&new Date(Ne.fecha_caducidad_lote+"T00:00:00")<Z&&Ne.cantidad>0)},[a]),Mr=a.length,tt=a.reduce((Z,Ne)=>Z+Ne.cantidad,0),oo=zt.length,wi=S.useMemo(()=>a.filter(Z=>{var V,H,te,ye;const Ne=D===""||Z.nombre_item.toLowerCase().includes(D.toLowerCase())||((V=Z.ubicacion)==null?void 0:V.toLowerCase().includes(D.toLowerCase()))||((H=Z.lote)==null?void 0:H.toLowerCase().includes(D.toLowerCase()))||((te=Z.categoria_suministro)==null?void 0:te.toLowerCase().includes(D.toLowerCase()))||((ye=Z.categoria_medicamento)==null?void 0:ye.toLowerCase().includes(D.toLowerCase())),Xe=ne===""||Z.tipo_item===ne;return Ne&&Xe}),[a,D,ne]),hc=Math.ceil(wi.length/me),tf=S.useMemo(()=>{const Z=(K-1)*me,Ne=Z+me;return wi.slice(Z,Ne)},[wi,K,me]),rf=Z=>{Z>0&&Z<=hc&&ce(Z)},fr=Z=>{const{name:Ne,value:Xe,type:V,checked:H}=Z.target;I(te=>({...te,[Ne]:V==="checkbox"?H:Xe}))},Wg=async Z=>{if(Z.preventDefault(),q(),d(!0),!W.nombre_generico){P("El nombre genérico del medicamento es obligatorio."),d(!1);return}try{const{data:Ne,error:Xe}=await T.from("medicamentos").insert([W]).select().single();if(Xe)throw Xe;A(`Medicamento "${Ne.nombre_generico}" añadido exitosamente al catálogo.`),I({nombre_generico:"",nombre_comercial:null,principio_activo:null,presentacion:null,dosis_recomendada:null,fabricante:null,unidad_medida:null,precio_venta:null,categoria:null,sustancia_controlada:!1}),se(!1)}catch(Ne){console.error("Error al añadir medicamento:",Ne),P("Error al añadir medicamento: "+Ne.message)}finally{d(!1)}},lo=Z=>{const{name:Ne,value:Xe}=Z.target;J(V=>({...V,[Ne]:Xe}))},Hg=async Z=>{if(Z.preventDefault(),q(),d(!0),!de.nombre){P("El nombre del suministro es obligatorio."),d(!1);return}try{const{data:Ne,error:Xe}=await T.from("suministros").insert([de]).select().single();if(Xe)throw Xe;A(`Suministro "${Ne.nombre}" añadido exitosamente al catálogo.`),J({nombre:"",descripcion:null,categoria:null,unidad_medida:null}),ee(!1)}catch(Ne){console.error("Error al añadir suministro:",Ne),P("Error al añadir suministro: "+Ne.message)}finally{d(!1)}},_i=(Z,Ne,Xe)=>{e("/admin-dashboard/proveedores-compras",{state:{itemToPurchase:{type:Z,id:Ne,name:Xe}}})};return l&&a.length===0?o.jsxs("div",{className:"flex items-center justify-center min-h-[60vh] bg-gray-950 text-white font-inter",children:[o.jsx(Fe,{className:"animate-spin mr-3 text-blue-400",size:36}),o.jsx("p",{className:"text-xl text-blue-400",children:"Cargando datos de inventario..."})]}):o.jsxs("div",{className:"p-6 bg-gray-950 text-white space-y-12 min-h-screen font-inter",children:[o.jsxs("h2",{className:"text-3xl font-extrabold text-indigo-400 text-center mb-8 flex items-center justify-center gap-3",children:[o.jsx(hl,{size:28})," Gestión de Inventario"]}),f&&o.jsxs("div",{className:"bg-red-800 text-red-100 p-4 rounded-lg text-center border border-red-600 mb-6 flex items-center justify-between shadow-md animate-fade-in",children:[o.jsx(Yt,{size:24,className:"flex-shrink-0 mr-3"}),o.jsx("span",{className:"flex-grow",children:f}),o.jsx(Ve,{size:20,className:"cursor-pointer ml-3",onClick:()=>h(null)})]}),m&&o.jsxs("div",{className:"bg-green-800 text-green-100 p-4 rounded-lg text-center border border-green-600 mb-6 flex items-center justify-between shadow-md animate-fade-in",children:[o.jsx(oi,{size:24,className:"flex-shrink-0 mr-3"}),o.jsx("span",{className:"flex-grow",children:m}),o.jsx(Ve,{size:20,className:"cursor-pointer ml-3",onClick:()=>x(null)})]}),(He.length>0||Me.length>0||zt.length>0)&&o.jsxs("section",{className:"bg-gray-900 p-6 rounded-xl shadow-lg border border-yellow-700",children:[o.jsxs("h3",{className:"text-2xl text-yellow-400 mb-5 font-bold flex items-center gap-2",children:[o.jsx(Du,{size:24})," Alertas de Inventario"]}),He.length>0&&o.jsxs("div",{className:"bg-yellow-800/20 text-yellow-100 p-4 rounded-lg border border-yellow-600 mb-4 animate-fade-in",children:[o.jsxs("h4",{className:"font-semibold text-lg mb-3 flex items-center text-yellow-300",children:[o.jsx(rT,{size:20,className:"mr-2"})," Stock Bajo (menos de",xe," unidades)"]}),o.jsx("ul",{className:"list-none space-y-2",children:He.map(Z=>o.jsxs("li",{className:"flex items-center text-sm bg-yellow-900/30 p-2 rounded-md border border-yellow-700/50 cursor-pointer",onClick:()=>_i(Z.tipo_item,Z.id_referencia_item,Z.nombre_item),children:[o.jsx(Yt,{size:16,className:"flex-shrink-0 text-yellow-300 mr-2"}),o.jsxs("span",{className:"font-medium mr-1",children:[Z.nombre_item,":"]}),o.jsxs("span",{className:"text-yellow-100",children:[Z.cantidad," unidades restantes en",Z.ubicacion," (Lote: ",Z.lote||"N/A",Z.vencimiento_display?`, Vence:
                      ${Z.vencimiento_display}`:"",")."]})]},Z.id_stock))})]}),Me.length>0&&o.jsxs("div",{className:"bg-red-800/20 text-red-100 p-4 rounded-lg border border-red-600 mb-4 animate-fade-in",children:[o.jsxs("h4",{className:"font-semibold text-lg mb-3 flex items-center text-red-300",children:[o.jsx(QA,{size:20,className:"mr-2"})," Sin Stock (0 unidades)"]}),o.jsx("ul",{className:"list-none space-y-2",children:Me.map(Z=>o.jsxs("li",{className:"flex items-center text-sm bg-red-900/30 p-2 rounded-md border border-red-700/50 cursor-pointer",onClick:()=>_i(Z.tipo_item,Z.id_referencia_item,Z.nombre_item),children:[o.jsx(qh,{size:16,className:"flex-shrink-0 text-red-300 mr-2"}),o.jsxs("span",{className:"font-medium mr-1",children:[Z.nombre_item,":"]}),o.jsxs("span",{className:"text-red-100",children:["Agotado en ",Z.ubicacion," (Lote: ",Z.lote||"N/A",")."]})]},Z.id_stock))})]}),zt.length>0&&o.jsxs("div",{className:"bg-orange-800/20 text-orange-100 p-4 rounded-lg border border-orange-600 animate-fade-in",children:[o.jsxs("h4",{className:"font-semibold text-lg mb-3 flex items-center text-orange-300",children:[o.jsx(Fi,{size:20,className:"mr-2"})," Lotes Vencidos"]}),o.jsx("ul",{className:"list-none space-y-2",children:zt.map(Z=>o.jsxs("li",{className:"flex items-center text-sm bg-orange-900/30 p-2 rounded-md border border-orange-700/50 cursor-pointer",onClick:()=>_i(Z.tipo_item,Z.id_referencia_item,Z.nombre_item),children:[o.jsx(Yt,{size:16,className:"flex-shrink-0 text-orange-300 mr-2"}),o.jsxs("span",{className:"font-medium mr-1",children:[Z.nombre_item,":"]}),o.jsxs("span",{className:"text-orange-100",children:["Lote ",Z.lote||"N/A"," vencido en",Z.vencimiento_display||"fecha desconocida"," (",Z.cantidad," unidades)."]})]},Z.id_stock))})]})]}),o.jsxs("section",{className:"bg-gray-900 p-6 rounded-xl shadow-lg border border-blue-800",children:[o.jsxs("h3",{className:"text-2xl text-indigo-400 mb-5 font-bold flex items-center gap-2",children:[o.jsx(IF,{size:24})," Resumen del Inventario"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-gray-800 p-4 rounded-md shadow-md border border-gray-700 flex flex-col items-center justify-center transform hover:scale-105 transition-transform duration-200",children:[o.jsx("p",{className:"text-5xl font-extrabold text-green-400",children:Mr}),o.jsx("p",{className:"text-lg text-gray-300 mt-2",children:"Ítems Únicos en Inventario"})]}),o.jsxs("div",{className:"bg-gray-800 p-4 rounded-md shadow-md border border-gray-700 flex flex-col items-center justify-center transform hover:scale-105 transition-transform duration-200",children:[o.jsx("p",{className:"text-5xl font-extrabold text-yellow-400",children:tt}),o.jsx("p",{className:"text-lg text-gray-300 mt-2",children:"Cantidad Total de Unidades"})]}),o.jsxs("div",{className:"bg-gray-800 p-4 rounded-md shadow-md border border-gray-700 flex flex-col items-center justify-center transform hover:scale-105 transition-transform duration-200",children:[o.jsx("p",{className:"text-5xl font-extrabold text-red-400",children:oo}),o.jsx("p",{className:"text-lg text-gray-300 mt-2",children:"Lotes de Medicamentos Vencidos"})]})]})]}),o.jsxs("section",{className:"bg-gray-900 p-6 rounded-xl shadow-lg border border-blue-800",children:[o.jsxs("h3",{className:"text-2xl text-indigo-400 mb-5 font-bold flex items-center gap-2",children:[o.jsx(wF,{size:24})," Visualizaciones del Inventario"]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-gray-800 p-4 rounded-md shadow-md border border-gray-700",children:[o.jsx("h4",{className:"text-xl text-white font-medium mb-4",children:"Distribución por Tipo de Ítem"}),o.jsx(ay,{width:"100%",height:300,children:o.jsxs(tbe,{children:[o.jsx(da,{data:L,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",label:({name:Z,percent:Ne})=>`${Z.charAt(0).toUpperCase()+Z.slice(1)} (${(Ne*100).toFixed(0)}%)`,children:L.map((Z,Ne)=>o.jsx(vg,{fill:WE[Ne%WE.length]},`cell-${Ne}`))}),o.jsx(mn,{contentStyle:{backgroundColor:"#2d3748",border:"none",borderRadius:"8px"},itemStyle:{color:"#e2e8f0"}}),o.jsx(Wi,{wrapperStyle:{color:"#e2e8f0"}})]})})]}),o.jsxs("div",{className:"bg-gray-800 p-4 rounded-md shadow-md border border-gray-700",children:[o.jsx("h4",{className:"text-xl text-white font-medium mb-4",children:"Cantidad de Suministros por Categoría"}),o.jsx(ay,{width:"100%",height:300,children:o.jsxs(qE,{data:B,margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx(wb,{strokeDasharray:"3 3",stroke:"#4a5568"}),o.jsx(Ed,{dataKey:"name",stroke:"#cbd5e0"}),o.jsx(Pd,{stroke:"#cbd5e0"}),o.jsx(mn,{contentStyle:{backgroundColor:"#2d3748",border:"none",borderRadius:"8px"},labelStyle:{color:"#e2e8f0"},itemStyle:{color:"#e2e8f0"}}),o.jsx(Wi,{wrapperStyle:{color:"#e2e8f0"}}),o.jsx(Ja,{dataKey:"value",fill:"#4CAF50",name:"Cantidad",radius:[10,10,0,0]})]})})]}),o.jsxs("div",{className:"bg-gray-800 p-4 rounded-md shadow-md border border-gray-700 lg:col-span-2",children:[o.jsx("h4",{className:"text-xl text-white font-medium mb-4",children:"Medicamentos por Estado de Vencimiento (Lotes)"}),o.jsx(ay,{width:"100%",height:300,children:o.jsxs(qE,{data:F,margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx(wb,{strokeDasharray:"3 3",stroke:"#4a5568"}),o.jsx(Ed,{dataKey:"name",stroke:"#cbd5e0"}),o.jsx(Pd,{stroke:"#cbd5e0"}),o.jsx(mn,{contentStyle:{backgroundColor:"#2d3748",border:"none",borderRadius:"8px"},labelStyle:{color:"#e2e8f0"},itemStyle:{color:"#e2e8f0"}}),o.jsx(Wi,{wrapperStyle:{color:"#e2e8f0"}}),o.jsx(Ja,{dataKey:"value",fill:"#FFC107",name:"Cantidad de Lotes",radius:[10,10,0,0]})]})})]})]})]}),o.jsxs("div",{className:"bg-gray-900 p-6 rounded-xl shadow-lg border border-blue-800 mb-8 flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0 md:space-x-4",children:[o.jsxs("div",{className:"relative w-full md:w-1/2",children:[o.jsx(Pp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),o.jsx("input",{type:"text",placeholder:"Buscar por nombre, ubicación, lote o categoría...",value:D,onChange:Z=>{X(Z.target.value),ce(1)},className:"w-full pl-10 pr-4 py-2.5 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition"})]}),o.jsxs("select",{value:ne,onChange:Z=>{Q(Z.target.value),ce(1)},className:"w-full md:w-1/4 px-4 py-2.5 bg-gray-800 border border-gray-600 rounded-lg text-white focus:ring-blue-500 focus:border-blue-500 transition",children:[o.jsx("option",{value:"",children:"Todos los tipos"}),o.jsx("option",{value:"medicamento",children:"Medicamento"}),o.jsx("option",{value:"suministro",children:"Suministro"})]}),o.jsxs("button",{onClick:()=>be(!0),className:"w-full md:w-auto px-6 py-2.5 bg-green-700 hover:bg-green-600 rounded-lg text-white font-semibold flex items-center justify-center transition shadow-md",children:[o.jsx(Wt,{size:20,className:"mr-2"}),"Agregar Nuevo Ítem"]})]}),o.jsxs("section",{className:"bg-gray-900 p-6 rounded-xl shadow-lg border border-blue-800",children:[o.jsxs("h3",{className:"text-2xl text-indigo-400 mb-5 font-bold flex items-center gap-2",children:[o.jsx(jF,{size:24})," Detalles del Inventario"]}),tf.length===0&&!l?o.jsx("p",{className:"text-gray-400 text-center py-4",children:"No hay ítems en el inventario que coincidan con la búsqueda o filtro."}):o.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-700",children:o.jsxs("table",{className:"min-w-full table-auto divide-y divide-gray-700 text-sm",children:[o.jsx("thead",{className:"bg-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Op,{size:14})," Ítem"]})}),o.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:"Tipo"}),o.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:"Cantidad"}),o.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:"Lote / Categoría"}),o.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:"Vencimiento / Unidad"}),o.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:"Ubicación"}),o.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Fi,{size:14})," Última Actualización"]})}),o.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-gray-300 font-semibold text-xs uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-gray-900 divide-y divide-gray-700",children:tf.map(Z=>o.jsxs("tr",{className:"hover:bg-gray-800 transition-colors duration-200",children:[o.jsxs("td",{className:"px-4 py-3 font-medium text-white whitespace-nowrap",children:[Z.nombre_item,Z.cantidad<=xe&&Z.cantidad>0&&o.jsxs("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[o.jsx(Yt,{size:12,className:"mr-1"})," Bajo Stock"]}),Z.cantidad===0&&o.jsxs("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[o.jsx(qh,{size:12,className:"mr-1"})," Agotado"]}),Z.tipo_item==="medicamento"&&Z.fecha_caducidad_lote&&new Date(Z.fecha_caducidad_lote+"T00:00:00")<new Date&&Z.cantidad>0&&o.jsxs("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[o.jsx(Fi,{size:12,className:"mr-1"})," Vencido"]})]}),o.jsx("td",{className:"px-4 py-3 capitalize whitespace-nowrap",children:Z.tipo_item}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:Z.cantidad}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:Z.tipo_item==="medicamento"?Z.lote||"N/A":Z.categoria_suministro||"N/A"}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:Z.tipo_item==="medicamento"?Z.vencimiento_display||"Sin fecha":Z.unidad_display||"N/A"}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:Z.ubicacion||"N/A"}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:new Date(Z.ultima_actualizacion).toLocaleDateString("es-ES")}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx("button",{onClick:()=>ae(Z),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-200",title:"Editar Ítem",children:o.jsx(_n,{size:18})}),o.jsx("button",{onClick:()=>$e(Z),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-200",title:"Despachar Ítem",children:o.jsx(Is,{size:18})})]})})]},Z.id_stock))})]})}),wi.length>me&&o.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[o.jsx("button",{onClick:()=>rf(K-1),disabled:K===1||l||u,className:"p-2 rounded-lg bg-gray-800 hover:bg-gray-700 text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition",children:o.jsx(GA,{size:20})}),o.jsxs("span",{className:"text-gray-300",children:["Página ",K," de ",hc]}),o.jsx("button",{onClick:()=>rf(K+1),disabled:K===hc||l||u,className:"p-2 rounded-lg bg-gray-800 hover:bg-gray-700 text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition",children:o.jsx(KA,{size:20})})]})]}),ue&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 animate-fade-in",children:o.jsxs("div",{className:"bg-gray-900 p-8 rounded-lg shadow-xl w-full max-w-sm border border-indigo-700 text-center",children:[o.jsx("h3",{className:"text-2xl font-bold text-indigo-400 mb-6",children:"¿Qué deseas agregar?"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("button",{onClick:()=>ae(),className:"w-full px-5 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition shadow-md flex items-center justify-center gap-2",children:[o.jsx(hl,{size:20})," Stock de Ítem Existente"]}),o.jsxs("button",{onClick:()=>{be(!1),se(!0)},className:"w-full px-5 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition shadow-md flex items-center justify-center gap-2",children:[o.jsx(Wh,{size:20})," Nuevo Medicamento (Catálogo)"]}),o.jsxs("button",{onClick:()=>{be(!1),ee(!0)},className:"w-full px-5 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition shadow-md flex items-center justify-center gap-2",children:[o.jsx(Hh,{size:20})," Nuevo Suministro (Catálogo)"]})]}),o.jsx("button",{onClick:()=>be(!1),className:"mt-6 px-5 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold transition shadow-md",children:"Cancelar"})]})}),g&&o.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center p-4 z-50 animate-fade-in",children:o.jsxs("div",{className:"bg-gray-800 p-8 rounded-xl shadow-2xl w-full max-w-md space-y-6 border border-blue-700 transform scale-100 animate-scale-in",children:[o.jsxs("h3",{className:"text-2xl font-bold text-blue-400 text-center flex items-center justify-center gap-2",children:[p?o.jsx(_n,{size:24}):o.jsx(Wt,{size:24}),p?"Editar Ítem de Inventario":"Agregar Stock de Ítem Existente"]}),f&&o.jsx("p",{className:"bg-red-700 text-red-100 p-3 rounded text-sm mb-4",children:f}),o.jsxs("form",{onSubmit:Pe,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"tipo_item",className:"block mb-1 text-gray-300",children:"Tipo de Ítem"}),o.jsxs("select",{name:"tipo_item",id:"tipo_item",value:w.tipo_item,onChange:Se,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-blue-500 focus:border-blue-500 transition",required:!0,disabled:p,children:[o.jsx("option",{value:"",children:"Selecciona un tipo"}),o.jsx("option",{value:"medicamento",children:"Medicamento"}),o.jsx("option",{value:"suministro",children:"Suministro"})]})]}),w.tipo_item&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"id_referencia_item",className:"block mb-1 text-gray-300",children:"Selecciona el Ítem del Catálogo"}),o.jsxs("select",{name:"id_referencia_item",id:"id_referencia_item",value:w.id_referencia_item||"",onChange:Se,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-blue-500 focus:border-blue-500 transition",required:!0,children:[o.jsx("option",{value:"",children:"Selecciona..."}),w.tipo_item==="medicamento"&&t.map(Z=>o.jsxs("option",{value:Z.id_medicamento,children:[Z.nombre_generico," (",Z.presentacion||"N/A",")"]},Z.id_medicamento)),w.tipo_item==="suministro"&&n.map(Z=>o.jsxs("option",{value:Z.id_suministro,children:[Z.nombre," (",Z.categoria||"N/A",")"]},Z.id_suministro))]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"cantidad",className:"block mb-1 text-gray-300",children:"Cantidad"}),o.jsx("input",{name:"cantidad",id:"cantidad",type:"number",value:w.cantidad,onChange:Se,min:"0",className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-blue-500 focus:border-blue-500 transition",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"ubicacion",className:"block mb-1 text-gray-300",children:"Ubicación"}),o.jsx("input",{name:"ubicacion",id:"ubicacion",placeholder:"Ej. Almacén Principal, Farmacia",value:w.ubicacion,onChange:Se,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lote",className:"block mb-1 text-gray-300",children:"Lote (opcional)"}),o.jsx("input",{name:"lote",id:"lote",placeholder:"Ej. LOTE001",value:w.lote,onChange:Se,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition"})]}),w.tipo_item==="medicamento"&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"fecha_caducidad_lote",className:"block mb-1 text-gray-300",children:"Fecha de Caducidad (Medicamento)"}),o.jsx("input",{name:"fecha_caducidad_lote",id:"fecha_caducidad_lote",type:"date",value:w.fecha_caducidad_lote,onChange:Se,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-blue-500 focus:border-blue-500 transition",required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-5 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold transition shadow-md",disabled:u,children:"Cancelar"}),o.jsxs("button",{type:"submit",className:"px-6 py-2 bg-indigo-700 hover:bg-indigo-600 text-white rounded-lg font-semibold transition shadow-md flex items-center justify-center",disabled:u,children:[u?o.jsx(Fe,{className:"animate-spin mr-2",size:20}):p?o.jsx(_n,{size:20,className:"mr-2"}):o.jsx(Wt,{size:20,className:"mr-2"}),u?"Guardando...":p?"Guardar Cambios":"Agregar Ítem"]})]})]})]})}),N&&E&&o.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center p-4 z-50 animate-fade-in",children:o.jsxs("div",{className:"bg-gray-800 p-8 rounded-xl shadow-2xl w-full max-w-md space-y-6 border border-blue-700 transform scale-100 animate-scale-in",children:[o.jsxs("h3",{className:"text-2xl font-bold text-blue-400 text-center flex items-center justify-center gap-2",children:[o.jsx(Is,{size:24})," Despachar Ítem del Inventario"]}),f&&o.jsx("p",{className:"bg-red-700 text-red-100 p-3 rounded text-sm mb-4",children:f}),m&&o.jsx("p",{className:"bg-green-700 text-green-100 p-3 rounded text-sm mb-4",children:m}),o.jsxs("p",{className:"text-gray-300 text-center text-lg",children:["Vas a despachar: ",o.jsx("span",{className:"font-semibold text-white",children:E.nombre_item})," (",E.tipo_item,")"]}),o.jsxs("p",{className:"text-gray-400 text-center text-sm",children:["Cantidad disponible: ",E.cantidad]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"dispatchQuantity",className:"block mb-1 text-gray-300",children:"Cantidad a despachar:"}),o.jsx("input",{id:"dispatchQuantity",type:"number",value:C,onChange:Z=>{const Ne=Number(Z.target.value);O(Ne>0?Ne:1)},min:"1",max:E.cantidad,className:"w-full p-2.5 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-blue-500 focus:border-blue-500 transition"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>k(!1),className:"px-5 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold transition shadow-md",disabled:u,children:"Cancelar"}),o.jsx("button",{type:"button",onClick:ot,className:"px-6 py-2 bg-red-700 hover:bg-red-600 text-white rounded-lg font-semibold transition shadow-md flex items-center justify-center",disabled:u||C>E.cantidad||C<=0,children:u?o.jsxs(o.Fragment,{children:[o.jsx(Fe,{className:"animate-spin mr-2",size:20}),"Despachando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Is,{size:20,className:"mr-2"})," Confirmar Despacho"]})})]})]})}),U&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 animate-fade-in",children:o.jsxs("div",{className:"bg-gray-800 p-8 rounded-lg shadow-xl w-full max-w-2xl border border-indigo-700",children:[o.jsxs("h3",{className:"text-2xl font-bold text-indigo-400 mb-6 flex items-center gap-2",children:[o.jsx(Wh,{size:24})," Registrar Nuevo Medicamento"]}),o.jsxs("form",{onSubmit:Wg,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"med_nombre_generico",className:"block text-sm font-medium text-gray-300",children:"Nombre Genérico:"}),o.jsx("input",{type:"text",id:"med_nombre_generico",name:"nombre_generico",value:W.nombre_generico,onChange:fr,required:!0,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"med_nombre_comercial",className:"block text-sm font-medium text-gray-300",children:"Nombre Comercial (opcional):"}),o.jsx("input",{type:"text",id:"med_nombre_comercial",name:"nombre_comercial",value:W.nombre_comercial||"",onChange:fr,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"med_unidad_medida",className:"block text-sm font-medium text-gray-300",children:"Unidad de Medida:"}),o.jsx("input",{type:"text",id:"med_unidad_medida",name:"unidad_medida",value:W.unidad_medida||"",onChange:fr,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"med_precio_venta",className:"block text-sm font-medium text-gray-300",children:"Precio de Venta:"}),o.jsx("input",{type:"number",id:"med_precio_venta",name:"precio_venta",value:W.precio_venta||"",onChange:fr,step:"0.01",min:"0",className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"med_categoria",className:"block text-sm font-medium text-gray-300",children:"Categoría:"}),o.jsx("input",{type:"text",id:"med_categoria",name:"categoria",value:W.categoria||"",onChange:fr,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{className:"flex items-center mt-6",children:[o.jsx("input",{type:"checkbox",id:"med_sustancia_controlada",name:"sustancia_controlada",checked:W.sustancia_controlada||!1,onChange:fr,className:"h-5 w-5 text-indigo-600 focus:ring-indigo-500 border-gray-600 rounded"}),o.jsx("label",{htmlFor:"med_sustancia_controlada",className:"ml-2 block text-sm text-gray-300",children:"Sustancia Controlada"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"med_principio_activo",className:"block text-sm font-medium text-gray-300",children:"Principio Activo:"}),o.jsx("textarea",{id:"med_principio_activo",name:"principio_activo",value:W.principio_activo||"",onChange:fr,rows:2,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500 resize-y"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"med_presentacion",className:"block text-sm font-medium text-gray-300",children:"Presentación:"}),o.jsx("input",{type:"text",id:"med_presentacion",name:"presentacion",value:W.presentacion||"",onChange:fr,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"med_dosis_recomendada",className:"block text-sm font-medium text-gray-300",children:"Dosis Recomendada:"}),o.jsx("input",{type:"text",id:"med_dosis_recomendada",name:"dosis_recomendada",value:W.dosis_recomendada||"",onChange:fr,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"med_fabricante",className:"block text-sm font-medium text-gray-300",children:"Fabricante:"}),o.jsx("input",{type:"text",id:"med_fabricante",name:"fabricante",value:W.fabricante||"",onChange:fr,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>se(!1),className:"px-5 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold transition shadow-md",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-semibold transition shadow-md",disabled:u,children:u?o.jsx(Fe,{className:"animate-spin mr-2",size:20}):"Guardar Medicamento"})]})]})]})}),G&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 animate-fade-in",children:o.jsxs("div",{className:"bg-gray-800 p-8 rounded-lg shadow-xl w-full max-w-xl border border-indigo-700",children:[o.jsxs("h3",{className:"text-2xl font-bold text-indigo-400 mb-6 flex items-center gap-2",children:[o.jsx(Hh,{size:24})," Registrar Nuevo Suministro"]}),o.jsxs("form",{onSubmit:Hg,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"sum_nombre",className:"block text-sm font-medium text-gray-300",children:"Nombre:"}),o.jsx("input",{type:"text",id:"sum_nombre",name:"nombre",value:de.nombre,onChange:lo,required:!0,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"sum_descripcion",className:"block text-sm font-medium text-gray-300",children:"Descripción (opcional):"}),o.jsx("textarea",{id:"sum_descripcion",name:"descripcion",value:de.descripcion||"",onChange:lo,rows:3,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500 resize-y"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"sum_unidad_medida",className:"block text-sm font-medium text-gray-300",children:"Unidad de Medida (opcional):"}),o.jsx("input",{type:"text",id:"sum_unidad_medida",name:"unidad_medida",value:de.unidad_medida||"",onChange:lo,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"sum_categoria",className:"block text-sm font-medium text-gray-300",children:"Categoría (opcional):"}),o.jsx("input",{type:"text",id:"sum_categoria",name:"categoria",value:de.categoria||"",onChange:lo,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>ee(!1),className:"px-5 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold transition shadow-md",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-semibold transition shadow-md",disabled:u,children:u?o.jsx(Fe,{className:"animate-spin mr-2",size:20}):"Guardar Suministro"})]})]})]})})]})},uI="suppliers",dI="purchaseOrders",W1=()=>{const e=localStorage.getItem(uI);return e?JSON.parse(e):[]},fI=e=>{localStorage.setItem(uI,JSON.stringify(e))},hI=()=>W1(),nbe=e=>{const t=W1(),r={...e,id:qa()};return fI([...t,r]),r},ibe=(e,t)=>{const r=W1(),n=r.findIndex(a=>a.id===e);if(n===-1)return;const i={...r[n],...t};return r[n]=i,fI(r),i},mI=()=>{const e=localStorage.getItem(dI);return e?JSON.parse(e):[]},abe=e=>{localStorage.setItem(dI,JSON.stringify(e))},sbe=()=>mI(),obe=e=>{const t=mI(),r=e.items.reduce((i,a)=>i+a.quantity*a.unitPrice,0),n={...e,id:qa(),createdAt:new Date().toISOString(),total:r};return abe([...t,n]),n},lbe=e=>new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit"}),cbe={pending:o.jsx(Ui,{className:"text-yellow-500"}),completed:o.jsx(Vh,{className:"text-green-500"}),cancelled:o.jsx(Ap,{className:"text-red-500"})},ube=({order:e,onEdit:t,onDelete:r})=>o.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("h3",{className:"font-semibold",children:["Orden #",e.id.slice(0,8)]}),o.jsxs("div",{className:"flex items-center gap-1",children:[cbe[e.status],o.jsx("span",{className:"text-sm capitalize",children:e.status})]})]}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("p",{children:["Proveedor: ",e.supplierId.slice(0,8),"..."]}),o.jsxs("p",{children:["Fecha: ",lbe(e.date)]}),o.jsxs("p",{className:"flex items-center",children:[o.jsx(hl,{className:"mr-1",size:14}),e.items.length," items"]}),o.jsxs("p",{className:"font-medium",children:["Total: $",e.total.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-3 pt-3 border-t",children:[o.jsx("button",{onClick:t,className:"text-blue-600 hover:text-blue-800",title:"Editar",children:o.jsx(_n,{size:18})}),o.jsx("button",{onClick:r,className:"text-red-600 hover:text-red-800",title:"Eliminar",children:o.jsx(wr,{size:18})})]})]}),dbe="inventoryItems",fbe=()=>{const e=localStorage.getItem(dbe);if(!e)return[];try{return JSON.parse(e)}catch(t){return console.error("Error parsing inventory items from localStorage",t),[]}},hbe=()=>fbe(),mbe=({isOpen:e,onClose:t,order:r,onSave:n})=>{const[i,a]=S.useState([]),[s,l]=S.useState([]),[c,u]=S.useState({supplierId:"",date:new Date().toISOString().split("T")[0],items:[],status:"pending",notes:""});S.useEffect(()=>{e&&(d(),f(),u(r?{supplierId:r.supplierId,date:r.date,items:r.items,status:r.status,notes:r.notes||""}:{supplierId:"",date:new Date().toISOString().split("T")[0],items:[],status:"pending",notes:""}))},[e,r]);const d=()=>{const v=hI();a(v)},f=()=>{const v=hbe();l(v)},h=v=>{if(v.preventDefault(),!r){const p=obe(c);n(p)}t()},m=()=>{u({...c,items:[...c.items,{inventoryItemId:"",quantity:1,unitPrice:0}]})},x=v=>{const p=[...c.items];p.splice(v,1),u({...c,items:p})},g=(v,p,y)=>{const b=[...c.items];b[v]={...b[v],[p]:y},u({...c,items:b})};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center border-b p-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:r?"Editar Orden":"Nueva Orden de Compra"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx(Ap,{size:24})})]}),o.jsxs("form",{onSubmit:h,className:"p-4 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Proveedor"}),o.jsxs("select",{value:c.supplierId,onChange:v=>u({...c,supplierId:v.target.value}),className:"w-full p-2 border rounded",required:!0,children:[o.jsx("option",{value:"",children:"Seleccionar proveedor"}),i.map(v=>o.jsx("option",{value:v.id,children:v.name},v.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha"}),o.jsx("input",{type:"date",value:c.date,onChange:v=>u({...c,date:v.target.value}),className:"w-full p-2 border rounded",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Artículos"}),o.jsxs("div",{className:"space-y-2",children:[c.items.map((v,p)=>o.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[o.jsx("div",{className:"col-span-5",children:o.jsxs("select",{value:v.inventoryItemId,onChange:y=>g(p,"inventoryItemId",y.target.value),className:"w-full p-2 border rounded",required:!0,children:[o.jsx("option",{value:"",children:"Seleccionar artículo"}),s.map(y=>o.jsx("option",{value:y.id,children:y.name},y.id))]})}),o.jsx("div",{className:"col-span-2",children:o.jsx("input",{type:"number",min:"1",value:v.quantity,onChange:y=>g(p,"quantity",parseInt(y.target.value)),className:"w-full p-2 border rounded",required:!0})}),o.jsx("div",{className:"col-span-3",children:o.jsx("input",{type:"number",min:"0",step:"0.01",value:v.unitPrice,onChange:y=>g(p,"unitPrice",parseFloat(y.target.value)),className:"w-full p-2 border rounded",required:!0})}),o.jsx("div",{className:"col-span-1 text-center",children:o.jsx("button",{type:"button",onClick:()=>x(p),className:"text-red-500 hover:text-red-700",children:o.jsx(EF,{size:18})})})]},p)),o.jsxs("button",{type:"button",onClick:m,className:"flex items-center text-blue-600 hover:text-blue-800 text-sm mt-2",children:[o.jsx(Xo,{size:16,className:"mr-1"}),"Agregar artículo"]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),o.jsx("textarea",{value:c.notes,onChange:v=>u({...c,notes:v.target.value}),className:"w-full p-2 border rounded",rows:3})]}),o.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border rounded text-gray-700 hover:bg-gray-100",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Guardar"})]})]})]})}):null},pbe=({isOpen:e,onClose:t,supplier:r,onSave:n})=>{const[i,a]=S.useState({name:"",contact:"",phone:"",email:"",address:"",taxId:"",notes:""});S.useState(()=>{if(r){const{id:l,...c}=r;a(c)}else a({name:"",contact:"",phone:"",email:"",address:"",taxId:"",notes:""})},[r]);const s=l=>{if(l.preventDefault(),r){const c=ibe(r.id,i);c&&n(c)}else{const c=nbe(i);n(c)}t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[o.jsxs("div",{className:"flex justify-between items-center border-b p-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:r?"Editar Proveedor":"Nuevo Proveedor"}),o.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsx(Ap,{size:24})})]}),o.jsxs("form",{onSubmit:s,className:"p-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),o.jsx("input",{type:"text",value:i.name,onChange:l=>a({...i,name:l.target.value}),className:"w-full p-2 border rounded",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contacto *"}),o.jsx("input",{type:"text",value:i.contact,onChange:l=>a({...i,contact:l.target.value}),className:"w-full p-2 border rounded",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono *"}),o.jsx("input",{type:"tel",value:i.phone,onChange:l=>a({...i,phone:l.target.value}),className:"w-full p-2 border rounded",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),o.jsx("input",{type:"email",value:i.email||"",onChange:l=>a({...i,email:l.target.value}),className:"w-full p-2 border rounded"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dirección"}),o.jsx("input",{type:"text",value:i.address||"",onChange:l=>a({...i,address:l.target.value}),className:"w-full p-2 border rounded"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIF/CIF"}),o.jsx("input",{type:"text",value:i.taxId||"",onChange:l=>a({...i,taxId:l.target.value}),className:"w-full p-2 border rounded"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),o.jsx("textarea",{value:i.notes||"",onChange:l=>a({...i,notes:l.target.value}),className:"w-full p-2 border rounded",rows:3})]}),o.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border rounded text-gray-700 hover:bg-gray-100",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Guardar"})]})]})]})}):null},gbe=()=>{const[e,t]=S.useState([]),[r,n]=S.useState([]),[i,a]=S.useState(!0),[s,l]=S.useState(null),[c,u]=S.useState(!1),[d,f]=S.useState(!1),[h,m]=S.useState(null);S.useEffect(()=>{x()},[]);const x=()=>{a(!0);try{const y=sbe(),b=hI();t(y),n(b)}catch(y){l("Error al cargar datos"),console.error(y)}finally{a(!1)}},g=y=>{window.confirm("¿Eliminar esta orden?")&&t(e.filter(b=>b.id!==y))},v=y=>{t(h?e.map(b=>b.id===y.id?y:b):[...e,y]),m(null)},p=y=>{n([...r,y])};return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Compras"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Gestión de órdenes de compra"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>f(!0),className:"bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded flex items-center",children:[o.jsx(Xo,{size:18,className:"mr-2"}),"Proveedor"]}),o.jsxs("button",{onClick:()=>{m(null),u(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded flex items-center",children:[o.jsx(Xo,{size:18,className:"mr-2"}),"Nueva Orden"]})]})]}),s&&o.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:s}),i?o.jsx("p",{children:"Cargando..."}):e.length===0?o.jsxs("div",{className:"text-center py-10",children:[o.jsx("p",{className:"text-gray-500 mb-4",children:"No hay órdenes registradas"}),o.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded flex items-center mx-auto",children:[o.jsx(Xo,{size:18,className:"mr-2"}),"Crear primera orden"]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(y=>o.jsx(ube,{order:y,onEdit:()=>{m(y),u(!0)},onDelete:()=>g(y.id)},y.id))}),o.jsx(mbe,{isOpen:c,onClose:()=>u(!1),order:h,onSave:v}),o.jsx(pbe,{isOpen:d,onClose:()=>f(!1),onSave:p})]})},mh="vetClinicUsers",Wf=[{id:"1",username:"owner",password:"password",role:"owner"},{id:"2",username:"vet",password:"password",role:"veterinarian"},{id:"3",username:"employee",password:"password",role:"employee"},{id:"4",username:"client",password:"password",role:"client"}],qg=()=>{const e=localStorage.getItem(mh);if(e)try{return JSON.parse(e)}catch(t){return console.error("Failed to parse users from localStorage",t),localStorage.setItem(mh,JSON.stringify(Wf)),Wf}else return localStorage.setItem(mh,JSON.stringify(Wf)),Wf},H1=e=>{localStorage.setItem(mh,JSON.stringify(e))},ybe=()=>qg(),vbe=e=>{if(!e.password)throw new Error("Password is required to create a new user.");const t=qg();if(t.some(i=>i.username===e.username))throw new Error(`Username "${e.username}" already exists.`);const r={...e,id:qa()},n=[...t,r];return H1(n),r},xbe=(e,t)=>{const r=qg(),n=r.findIndex(a=>a.id===e);if(n===-1)return null;if(t.username&&r.some(a=>a.username===t.username&&a.id!==e))throw new Error(`Username "${t.username}" is already taken.`);const i={...r[n],...t};return r[n]=i,H1(r),i},bbe=e=>{const t=qg();t.length;const r=t.filter(n=>n.id!==e);return t.length!==r.length?(H1(r),!0):!1},wbe=()=>["owner","veterinarian","employee","client"],_be=({isOpen:e,onClose:t,onSave:r,userToEdit:n})=>{const[i,a]=S.useState(""),[s,l]=S.useState(""),[c,u]=S.useState("client"),[d,f]=S.useState([]),[h,m]=S.useState(null);S.useEffect(()=>{f(wbe()),n?(a(n.username),u(n.role),l(""),m(null)):(a(""),l(""),u("client"),m(null))},[n,e]);const x=g=>{if(g.preventDefault(),m(null),!i.trim()){m("El nombre de usuario es obligatorio.");return}if(!n&&!s){m("La contraseña es obligatoria para nuevos usuarios.");return}const v={id:n?n.id:"",username:i.trim(),role:c,...s&&{password:s}};try{r(v)}catch(p){m(p.message||"Ocurrió un error al guardar el usuario.")}};return e?o.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex justify-center items-center",children:o.jsxs("div",{className:"relative mx-auto p-8 border w-full max-w-md shadow-lg rounded-md bg-white",children:[o.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-800","aria-label":"Cerrar modal",children:"×"}),o.jsx("h3",{className:"text-2xl font-semibold mb-6 text-center text-gray-800",children:n?"Editar Usuario":"Añadir Usuario"}),o.jsxs("form",{onSubmit:x,className:"space-y-4",children:[h&&o.jsx("p",{className:"text-red-500 text-sm mb-4",children:h}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de Usuario"}),o.jsx("input",{type:"text",id:"username",value:i,onChange:g=>a(g.target.value),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md p-2",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contraseña ",n?"(Dejar en blanco para no cambiar)":""]}),o.jsx("input",{type:"password",id:"password",value:s,onChange:g=>l(g.target.value),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md p-2",required:!n})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Rol"}),o.jsx("select",{id:"role",value:c,onChange:g=>u(g.target.value),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md p-2 capitalize",children:d.map(g=>o.jsx("option",{value:g,className:"capitalize",children:g},g))})]}),o.jsxs("div",{className:"flex justify-end pt-4 space-x-3",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:n?"Guardar Cambios":"Añadir Usuario"})]})]})]})}):null},jbe=()=>{const{user:e}=gi(),[t,r]=S.useState([]),[n,i]=S.useState(!1),[a,s]=S.useState(null),[l,c]=S.useState(!1),[u,d]=S.useState(null),f=(e==null?void 0:e.role)==="owner",h=()=>{if(f){i(!0),s(null);try{const p=ybe();r(p)}catch(p){s(p.message||"Error al cargar usuarios."),console.error(p)}finally{i(!1)}}};S.useEffect(()=>{h()},[f]);const m=(p=null)=>{d(p),c(!0),s(null)},x=()=>{c(!1),d(null),s(null)},g=p=>{s(null);try{if(u){const{password:y,...b}=p,_=b;xbe(u.id,_)}else{const{id:y,...b}=p;if(!b.password)throw new Error("La contraseña es obligatoria para nuevos usuarios.");vbe(b)}h(),x()}catch(y){throw console.error("Error saving user:",y),y}},v=p=>{if(window.confirm("¿Estás seguro de que quieres eliminar este usuario?")){s(null);try{if((e==null?void 0:e.id)===p)throw new Error("No puedes eliminar tu propia cuenta.");bbe(p),h()}catch(y){s(y.message||"Error al eliminar el usuario."),console.error(y)}}};return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Gestión de Usuarios"}),f&&o.jsxs("button",{onClick:()=>m(),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline flex items-center",children:[o.jsx(Xo,{size:18,className:"mr-2"}),"Añadir Usuario"]})]}),a&&o.jsx("p",{className:"text-red-500 bg-red-100 p-3 rounded mb-4",children:a}),f?n?o.jsx("p",{children:"Cargando usuarios..."}):o.jsxs("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:[" ",o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Username"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rol"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID (Interno)"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:"No hay usuarios registrados."})}):t.map(p=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:p.username}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize",children:p.role}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.id}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[o.jsx("button",{onClick:()=>m(p),className:"text-indigo-600 hover:text-indigo-900",title:"Editar",children:o.jsx(_n,{size:18})}),(e==null?void 0:e.id)!==p.id&&o.jsx("button",{onClick:()=>v(p.id),className:"text-red-600 hover:text-red-900",title:"Eliminar",children:o.jsx(wr,{size:18})})]})]},p.id))})]})]}):o.jsxs("div",{className:"flex items-center p-4 bg-yellow-100 text-yellow-800 rounded-md border border-yellow-200",children:[o.jsx(TF,{className:"mr-3 h-6 w-6"}),o.jsx("p",{children:"No tienes permisos para gestionar usuarios. Esta sección es solo para el rol Propietario."})]}),o.jsx(_be,{isOpen:l,onClose:x,onSave:g,userToEdit:u})]})},Sbe="/assets/max-ztIBvalI.webp",Nbe="/assets/RivasParque-DEuhnKdm.jpg",kbe="/assets/groom-DsAQJacO.jpg",Cbe="/assets/vet-FxEcbi2X.jpeg",Ebe="/assets/purina-logo-D_N-LmVR.png";function pI({className:e}){return o.jsx("nav",{className:`fixed top-0 left-0 right-0 bg-gray-950 shadow-md z-10 text-white ${e||""}`,children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between h-16 items-center",children:[o.jsx("div",{className:"flex-shrink-0 flex items-center",children:o.jsx("h1",{className:"text-xl font-bold text-indigo-400",children:"Max's Groomer"})}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs(Jr,{to:"/login",className:"inline-flex items-center px-5 py-2 border border-transparent text-sm font-medium rounded-full text-white bg-indigo-600 hover:bg-indigo-700 transition-all duration-300",children:[o.jsx(xF,{className:"mr-2 h-5 w-5"}),"Login"]}),o.jsxs(Jr,{to:"/create-appointment",className:"inline-flex items-center px-5 py-2 border border-transparent text-sm font-medium rounded-full text-white bg-indigo-800 hover:bg-indigo-700 transition-all duration-300",children:[o.jsx(HA,{className:"mr-2 h-5 w-5"}),"Agendar"]}),o.jsxs(Jr,{to:"/calculadora-alimentos",className:"inline-flex items-center px-5 py-2 border border-transparent text-sm font-medium rounded-full text-white bg-red-600 hover:bg-red-700 transition-all duration-300",children:[o.jsx(yt,{className:"mr-2 h-5 w-5"}),"Nutrición de tu mascota"]})]})]})})})}var gI={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(lr,function(){return function(r){function n(a){if(i[a])return i[a].exports;var s=i[a]={exports:{},id:a,loaded:!1};return r[a].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}var i={};return n.m=r,n.c=i,n.p="dist/",n(0)}([function(r,n,i){function a($){return $&&$.__esModule?$:{default:$}}var s=Object.assign||function($){for(var B=1;B<arguments.length;B++){var Y=arguments[B];for(var F in Y)Object.prototype.hasOwnProperty.call(Y,F)&&($[F]=Y[F])}return $},l=i(1),c=(a(l),i(6)),u=a(c),d=i(7),f=a(d),h=i(8),m=a(h),x=i(9),g=a(x),v=i(10),p=a(v),y=i(11),b=a(y),_=i(14),w=a(_),j=[],N=!1,k={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},E=function(){var $=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if($&&(N=!0),N)return j=(0,b.default)(j,k),(0,p.default)(j,k.once),j},M=function(){j=(0,w.default)(),E()},C=function(){j.forEach(function($,B){$.node.removeAttribute("data-aos"),$.node.removeAttribute("data-aos-easing"),$.node.removeAttribute("data-aos-duration"),$.node.removeAttribute("data-aos-delay")})},O=function($){return $===!0||$==="mobile"&&g.default.mobile()||$==="phone"&&g.default.phone()||$==="tablet"&&g.default.tablet()||typeof $=="function"&&$()===!0},L=function($){k=s(k,$),j=(0,w.default)();var B=document.all&&!window.atob;return O(k.disable)||B?C():(k.disableMutationObserver||m.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),k.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",k.easing),document.querySelector("body").setAttribute("data-aos-duration",k.duration),document.querySelector("body").setAttribute("data-aos-delay",k.delay),k.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?E(!0):k.startEvent==="load"?window.addEventListener(k.startEvent,function(){E(!0)}):document.addEventListener(k.startEvent,function(){E(!0)}),window.addEventListener("resize",(0,f.default)(E,k.debounceDelay,!0)),window.addEventListener("orientationchange",(0,f.default)(E,k.debounceDelay,!0)),window.addEventListener("scroll",(0,u.default)(function(){(0,p.default)(j,k.once)},k.throttleDelay)),k.disableMutationObserver||m.default.ready("[data-aos]",M),j)};r.exports={init:L,refresh:E,refreshHard:M}},function(r,n){},,,,,function(r,n){(function(i){function a(O,L,$){function B(ee){var de=ce,J=me;return ce=me=void 0,se=ee,ue=O.apply(J,de)}function Y(ee){return se=ee,be=setTimeout(D,L),W?B(ee):ue}function F(ee){var de=ee-U,J=ee-se,A=L-de;return I?M(A,xe-J):A}function R(ee){var de=ee-U,J=ee-se;return U===void 0||de>=L||de<0||I&&J>=xe}function D(){var ee=C();return R(ee)?X(ee):void(be=setTimeout(D,F(ee)))}function X(ee){return be=void 0,G&&ce?B(ee):(ce=me=void 0,ue)}function ne(){be!==void 0&&clearTimeout(be),se=0,ce=U=me=be=void 0}function Q(){return be===void 0?ue:X(C())}function K(){var ee=C(),de=R(ee);if(ce=arguments,me=this,U=ee,de){if(be===void 0)return Y(U);if(I)return be=setTimeout(D,L),B(U)}return be===void 0&&(be=setTimeout(D,L)),ue}var ce,me,xe,ue,be,U,se=0,W=!1,I=!1,G=!0;if(typeof O!="function")throw new TypeError(h);return L=d(L)||0,l($)&&(W=!!$.leading,I="maxWait"in $,xe=I?E(d($.maxWait)||0,L):xe,G="trailing"in $?!!$.trailing:G),K.cancel=ne,K.flush=Q,K}function s(O,L,$){var B=!0,Y=!0;if(typeof O!="function")throw new TypeError(h);return l($)&&(B="leading"in $?!!$.leading:B,Y="trailing"in $?!!$.trailing:Y),a(O,L,{leading:B,maxWait:L,trailing:Y})}function l(O){var L=typeof O>"u"?"undefined":f(O);return!!O&&(L=="object"||L=="function")}function c(O){return!!O&&(typeof O>"u"?"undefined":f(O))=="object"}function u(O){return(typeof O>"u"?"undefined":f(O))=="symbol"||c(O)&&k.call(O)==x}function d(O){if(typeof O=="number")return O;if(u(O))return m;if(l(O)){var L=typeof O.valueOf=="function"?O.valueOf():O;O=l(L)?L+"":L}if(typeof O!="string")return O===0?O:+O;O=O.replace(g,"");var $=p.test(O);return $||y.test(O)?b(O.slice(2),$?2:8):v.test(O)?m:+O}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},h="Expected a function",m=NaN,x="[object Symbol]",g=/^\s+|\s+$/g,v=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,y=/^0o[0-7]+$/i,b=parseInt,_=(typeof i>"u"?"undefined":f(i))=="object"&&i&&i.Object===Object&&i,w=(typeof self>"u"?"undefined":f(self))=="object"&&self&&self.Object===Object&&self,j=_||w||Function("return this")(),N=Object.prototype,k=N.toString,E=Math.max,M=Math.min,C=function(){return j.Date.now()};r.exports=s}).call(n,function(){return this}())},function(r,n){(function(i){function a(C,O,L){function $(G){var ee=K,de=ce;return K=ce=void 0,U=G,xe=C.apply(de,ee)}function B(G){return U=G,ue=setTimeout(R,O),se?$(G):xe}function Y(G){var ee=G-be,de=G-U,J=O-ee;return W?E(J,me-de):J}function F(G){var ee=G-be,de=G-U;return be===void 0||ee>=O||ee<0||W&&de>=me}function R(){var G=M();return F(G)?D(G):void(ue=setTimeout(R,Y(G)))}function D(G){return ue=void 0,I&&K?$(G):(K=ce=void 0,xe)}function X(){ue!==void 0&&clearTimeout(ue),U=0,K=be=ce=ue=void 0}function ne(){return ue===void 0?xe:D(M())}function Q(){var G=M(),ee=F(G);if(K=arguments,ce=this,be=G,ee){if(ue===void 0)return B(be);if(W)return ue=setTimeout(R,O),$(be)}return ue===void 0&&(ue=setTimeout(R,O)),xe}var K,ce,me,xe,ue,be,U=0,se=!1,W=!1,I=!0;if(typeof C!="function")throw new TypeError(f);return O=u(O)||0,s(L)&&(se=!!L.leading,W="maxWait"in L,me=W?k(u(L.maxWait)||0,O):me,I="trailing"in L?!!L.trailing:I),Q.cancel=X,Q.flush=ne,Q}function s(C){var O=typeof C>"u"?"undefined":d(C);return!!C&&(O=="object"||O=="function")}function l(C){return!!C&&(typeof C>"u"?"undefined":d(C))=="object"}function c(C){return(typeof C>"u"?"undefined":d(C))=="symbol"||l(C)&&N.call(C)==m}function u(C){if(typeof C=="number")return C;if(c(C))return h;if(s(C)){var O=typeof C.valueOf=="function"?C.valueOf():C;C=s(O)?O+"":O}if(typeof C!="string")return C===0?C:+C;C=C.replace(x,"");var L=v.test(C);return L||p.test(C)?y(C.slice(2),L?2:8):g.test(C)?h:+C}var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},f="Expected a function",h=NaN,m="[object Symbol]",x=/^\s+|\s+$/g,g=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,p=/^0o[0-7]+$/i,y=parseInt,b=(typeof i>"u"?"undefined":d(i))=="object"&&i&&i.Object===Object&&i,_=(typeof self>"u"?"undefined":d(self))=="object"&&self&&self.Object===Object&&self,w=b||_||Function("return this")(),j=Object.prototype,N=j.toString,k=Math.max,E=Math.min,M=function(){return w.Date.now()};r.exports=a}).call(n,function(){return this}())},function(r,n){function i(d){var f=void 0,h=void 0;for(f=0;f<d.length;f+=1)if(h=d[f],h.dataset&&h.dataset.aos||h.children&&i(h.children))return!0;return!1}function a(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function s(){return!!a()}function l(d,f){var h=window.document,m=a(),x=new m(c);u=f,x.observe(h.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function c(d){d&&d.forEach(function(f){var h=Array.prototype.slice.call(f.addedNodes),m=Array.prototype.slice.call(f.removedNodes),x=h.concat(m);if(i(x))return u()})}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){};n.default={isSupported:s,ready:l}},function(r,n){function i(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function a(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function h(m,x){for(var g=0;g<x.length;g++){var v=x[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,x,g){return x&&h(m.prototype,x),g&&h(m,g),m}}(),l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,u=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,d=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,f=function(){function h(){i(this,h)}return s(h,[{key:"phone",value:function(){var m=a();return!(!l.test(m)&&!c.test(m.substr(0,4)))}},{key:"mobile",value:function(){var m=a();return!(!u.test(m)&&!d.test(m.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),h}();n.default=new f},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(s,l,c){var u=s.node.getAttribute("data-aos-once");l>s.position?s.node.classList.add("aos-animate"):typeof u<"u"&&(u==="false"||!c&&u!=="true")&&s.node.classList.remove("aos-animate")},a=function(s,l){var c=window.pageYOffset,u=window.innerHeight;s.forEach(function(d,f){i(d,u+c,l)})};n.default=a},function(r,n,i){function a(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(n,"__esModule",{value:!0});var s=i(12),l=a(s),c=function(u,d){return u.forEach(function(f,h){f.node.classList.add("aos-init"),f.position=(0,l.default)(f.node,d.offset)}),u};n.default=c},function(r,n,i){function a(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(n,"__esModule",{value:!0});var s=i(13),l=a(s),c=function(u,d){var f=0,h=0,m=window.innerHeight,x={offset:u.getAttribute("data-aos-offset"),anchor:u.getAttribute("data-aos-anchor"),anchorPlacement:u.getAttribute("data-aos-anchor-placement")};switch(x.offset&&!isNaN(x.offset)&&(h=parseInt(x.offset)),x.anchor&&document.querySelectorAll(x.anchor)&&(u=document.querySelectorAll(x.anchor)[0]),f=(0,l.default)(u).top,x.anchorPlacement){case"top-bottom":break;case"center-bottom":f+=u.offsetHeight/2;break;case"bottom-bottom":f+=u.offsetHeight;break;case"top-center":f+=m/2;break;case"bottom-center":f+=m/2+u.offsetHeight;break;case"center-center":f+=m/2+u.offsetHeight/2;break;case"top-top":f+=m;break;case"bottom-top":f+=u.offsetHeight+m;break;case"center-top":f+=u.offsetHeight/2+m}return x.anchorPlacement||x.offset||isNaN(d)||(h=d),f+h};n.default=c},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(a){for(var s=0,l=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)s+=a.offsetLeft-(a.tagName!="BODY"?a.scrollLeft:0),l+=a.offsetTop-(a.tagName!="BODY"?a.scrollTop:0),a=a.offsetParent;return{top:l,left:s}};n.default=i},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(a){return a=a||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(a,function(s){return{node:s}})};n.default=i}])})})(gI);var Pbe=gI.exports;const yI=nt(Pbe),Obe=()=>{S.useEffect(()=>{yI.init({duration:1e3,once:!0})},[]);const e="57660362",t=encodeURIComponent("¡Hola Max's Groomer! Estoy interesado en sus servicios y me gustaría hacer una consulta.");return o.jsxs("div",{className:"bg-black text-white",children:[o.jsx(pI,{}),o.jsxs("section",{className:"relative h-screen flex items-center justify-center text-center text-white",style:{backgroundImage:`url(${Sbe})`,backgroundSize:"cover",backgroundPosition:"center"},children:[o.jsx("div",{className:"absolute inset-0 bg-black opacity-60"}),o.jsxs("div",{className:"relative z-10 px-4",children:[o.jsx("h1",{className:"text-5xl font-extrabold mb-4 text-indigo-300 hover:scale-105 transition duration-500",children:"Bienvenidos a Max's Groomer"}),o.jsx("p",{className:"text-xl text-gray-300",children:"Tu clínica veterinaria de confianza en Rivas"})]})]}),o.jsx("section",{className:"py-20 px-4 md:px-16 bg-gray-900 text-white",children:o.jsxs("div",{className:"max-w-6xl mx-auto grid md:grid-cols-2 gap-12 items-center",children:[o.jsx("div",{"data-aos":"fade-right",className:"overflow-hidden rounded-lg shadow-lg",children:o.jsx("img",{src:Nbe,alt:"Instalaciones",className:"w-full h-full object-cover"})}),o.jsxs("div",{"data-aos":"fade-left",children:[o.jsx("h2",{className:"text-4xl font-extrabold text-indigo-400 mb-4",children:"Sobre Nosotros"}),o.jsx("p",{className:"text-gray-300 mb-4",children:"En Max's Groomer, nos dedicamos al cuidado integral de las mascotas. Fundada hace más de ocho años en Rivas, Nicaragua, nuestra clínica combina tradición y modernidad para ofrecer atención veterinaria de alta calidad."}),o.jsx("p",{className:"text-gray-300",children:"Nuestro equipo, comprometido y cercano, se esfuerza por brindar servicios de grooming y citas veterinarias, siempre con el cariño y profesionalismo que tu mascota merece."})]})]})}),o.jsx("section",{className:"py-20 bg-black text-white",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4 md:px-16",children:[o.jsx("h2",{className:"text-4xl font-extrabold text-center text-indigo-300 mb-16","data-aos":"fade-up",children:"Nuestros Servicios"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[o.jsxs("div",{className:"text-center","data-aos":"zoom-in",children:[o.jsx("div",{className:"w-64 h-64 mx-auto mb-6 overflow-hidden rounded-xl shadow-lg",children:o.jsx("img",{src:kbe,alt:"Servicio de Grooming",className:"w-full h-full object-cover"})}),o.jsx("h3",{className:"text-2xl font-semibold text-indigo-400 mb-2",children:"Grooming"}),o.jsx("p",{className:"text-gray-400",children:"Ofrecemos servicios de estética y aseo para que tu mascota luzca siempre radiante."})]}),o.jsxs("div",{className:"text-center","data-aos":"zoom-in","data-aos-delay":"200",children:[o.jsx("div",{className:"w-64 h-64 mx-auto mb-6 overflow-hidden rounded-xl shadow-lg",children:o.jsx("img",{src:Cbe,alt:"Citas Veterinarias",className:"w-full h-full object-cover"})}),o.jsx("h3",{className:"text-2xl font-semibold text-indigo-400 mb-2",children:"Citas Veterinarias"}),o.jsx("p",{className:"text-gray-400",children:"Agenda una consulta con nuestros expertos para asegurar el bienestar de tu compañero."})]})]})]})}),o.jsx("section",{className:"py-16 bg-indigo-950",children:o.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[o.jsx("h2",{className:"text-4xl font-extrabold text-indigo-200 mb-8",children:"Alimentación Purina"}),o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx("img",{src:Ebe,alt:"Purina Logo",className:"h-20"})}),o.jsxs(Hp.p,{className:"text-lg text-gray-300 mb-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:.3},children:["Ofrecemos productos Purina Pro Plan, diseñados para satisfacer las necesidades nutricionales de tu mascota."," ",o.jsx("strong",{className:"text-white",children:"Descubre la mejor nutrición para tu compañero peludo."})]}),o.jsx(Jr,{to:"/calculadora-alimentos",className:"inline-flex items-center px-8 py-3 border border-transparent text-sm font-medium rounded-full text-white bg-red-600 hover:bg-red-700 transition-all duration-300",children:"¡Calcula la Ración Ideal!"})]})}),o.jsx("section",{className:"py-20 px-4 md:px-16 bg-black text-white",children:o.jsxs("div",{className:"max-w-6xl mx-auto grid md:grid-cols-2 gap-12 items-center",children:[o.jsxs("div",{"data-aos":"fade-right",children:[o.jsx("h2",{className:"text-4xl font-extrabold text-indigo-400 mb-4",children:"Nuestra Ubicación"}),o.jsx("p",{className:"text-gray-300 mb-4",children:'Nos encontramos en el corazón de Rivas, Nicaragua, frente a la Farmacia "San Francisco".'}),o.jsx("p",{className:"text-gray-300",children:"¡Estamos listos para cuidar a tu compañero peludo con el cariño y la dedicación que se merece!"})]}),o.jsx("div",{className:"overflow-hidden rounded-lg shadow-lg","data-aos":"fade-left",children:o.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d345.650984937308!2d-85.83319817262564!3d11.43695100033114!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2sni!4v1743146154133!5m2!1sen!2sni",width:"100%",height:"400",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})}),o.jsxs("footer",{className:"bg-gray-950 text-white py-10 mt-16",children:[o.jsxs("div",{className:"max-w-6xl mx-auto px-4 grid md:grid-cols-3 gap-8 text-sm text-gray-300",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-white mb-2",children:"Dirección"}),o.jsx("p",{children:"Del portón principal de la uniav, 2 cuadras al sur, media al lago"})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-white mb-2",children:"Contacto"}),o.jsxs("p",{children:["Teléfono:"," ",o.jsx("a",{href:`https://wa.me/${e}?text=${t}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors duration-200",children:"(505)5766-0362 "})]}),o.jsx("p",{children:"Email: contacto@maxsgroomer.com"})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-white mb-2",children:"Redes Sociales"}),o.jsx("p",{children:"Facebook | Instagram | WhatsApp"})]})]}),o.jsxs("div",{className:"text-center text-gray-500 mt-6 text-xs",children:["© ",new Date().getFullYear()," Max's Groomer. Todos los derechos reservados."]})]})]})},Abe="/assets/fondo-perrito-Bw1Ph4aM.jpeg",Tbe=()=>{const[e,t]=S.useState(null),[r,n]=S.useState(null),[i,a]=S.useState(""),[s,l]=S.useState(null),[c,u]=S.useState(null),[d,f]=S.useState(!1);S.useEffect(()=>{yI.init({duration:1e3,once:!0})},[]);const h=S.useCallback(()=>{if(u(null),l(null),f(!0),e===null){u("Por favor, selecciona el tipo de mascota."),f(!1);return}if(r===null){u("Por favor, selecciona el estado de tu mascota."),f(!1);return}if(typeof i!="number"||i<=0||i>200){u("Ingresa un peso válido para tu mascota (entre 0.1 y 200 kg)."),f(!1);return}const v=70*Math.pow(i,.75);let p;switch(r){case"cachorro":p=e==="perro"?2.5:2;break;case"adulto_neutro":p=e==="perro"?1.6:1.2;break;case"adulto_intacto":p=e==="perro"?1.8:1.4;break;case"adulto_activo":p=e==="perro"?2:1.6;break;case"adulto_mayor":p=e==="perro"?1.4:1;break;case"perdida_peso":p=e==="perro"?1:.8;break;default:p=1}const _=v*p/3.7;setTimeout(()=>{l(`${_.toFixed(0)}g`),f(!1)},700)},[e,r,i]);S.useEffect(()=>{e&&r&&typeof i=="number"&&i>0?h():(l(null),u(null),f(!1))},[e,r,i,h]);const m="57660362",x=encodeURIComponent("¡Hola Max's Groomer! Estoy interesado en el asesoramiento nutricional para mi mascota.");return o.jsxs("div",{className:"relative min-h-screen bg-cover bg-center bg-no-repeat pt-0 px-4 flex flex-col items-center font-inter text-gray-800",style:{backgroundImage:`url(${Abe})`,backgroundAttachment:"fixed"},children:[o.jsx("div",{className:"absolute inset-0 bg-gray-900 opacity-70 z-0"}),o.jsx(pI,{className:"relative z-10 w-full"}),o.jsx("div",{className:"pt-16 w-full"})," ",o.jsxs("div",{className:"relative z-10 max-w-5xl w-full bg-gradient-to-br from-blue-950 to-blue-800 p-8 rounded-2xl shadow-2xl border border-blue-700 text-white flex flex-col lg:flex-row gap-8 mt-4 md:mt-8",children:[o.jsxs("div",{className:"lg:w-1/2 p-6 bg-blue-900 rounded-xl shadow-lg flex flex-col items-center border border-blue-700","data-aos":"fade-right","data-aos-once":"true",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsxs("h2",{className:"text-4xl font-extrabold text-indigo-400 flex items-center justify-center gap-3",children:[o.jsx(NF,{size:32,className:"text-indigo-300"})," ","Calculadora Nutricional"]}),o.jsx("p",{className:"text-md text-gray-300 mt-2",children:"Guía general de ración diaria para tu compañero."})]}),c&&o.jsxs("div",{className:"flex items-center bg-red-800 border border-red-600 text-red-100 px-4 py-3 rounded-lg relative mb-4 w-full text-sm animate-fade-in","data-aos":"fade-down","data-aos-once":"true",children:[o.jsx(Yt,{size:20,className:"mr-2"}),o.jsx("span",{children:c})]}),o.jsxs("div",{className:"mb-6 w-full",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-200 text-center mb-3 flex items-center justify-center gap-2",children:[o.jsx(yt,{size:20,className:"text-indigo-400"})," Tipo de Mascota"]}),o.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[o.jsxs("button",{onClick:()=>{t("perro"),n(null),a(""),l(null),u(null)},className:`flex items-center gap-2 px-6 py-3 rounded-full font-semibold transition-all duration-300 transform hover:scale-105 ${e==="perro"?"bg-indigo-600 text-white shadow-lg border-2 border-indigo-700":"bg-blue-700 text-blue-100 hover:bg-blue-600 border border-blue-800"}`,children:[o.jsx(Mw,{size:20})," Perro"]}),o.jsxs("button",{onClick:()=>{t("gato"),n(null),a(""),l(null),u(null)},className:`flex items-center gap-2 px-6 py-3 rounded-full font-semibold transition-all duration-300 transform hover:scale-105 ${e==="gato"?"bg-indigo-600 text-white shadow-lg border-2 border-indigo-700":"bg-blue-700 text-blue-100 hover:bg-blue-600 border border-blue-800"}`,children:[o.jsx(YA,{size:20})," Gato"]})]})]}),e&&o.jsxs("div",{className:"mb-6 w-full","data-aos":"fade-up","data-aos-once":"true",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-200 text-center mb-3 flex items-center justify-center gap-2",children:[o.jsx(kF,{size:20,className:"text-orange-400"})," Estado / Nivel de Actividad"]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 justify-center",children:[o.jsx("button",{onClick:()=>{n("cachorro"),l(null),u(null)},className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all duration-300 transform hover:scale-105 ${r==="cachorro"?"bg-teal-600 text-white shadow-lg border-2 border-teal-700":"bg-blue-700 text-blue-100 hover:bg-blue-600 border border-blue-800"}`,children:"Cachorro"}),o.jsx("button",{onClick:()=>{n("adulto_neutro"),l(null),u(null)},className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all duration-300 transform hover:scale-105 ${r==="adulto_neutro"?"bg-teal-600 text-white shadow-lg border-2 border-teal-700":"bg-blue-700 text-blue-100 hover:bg-blue-600 border border-blue-800"}`,children:"Adulto (Neutro/Esterilizado)"}),o.jsx("button",{onClick:()=>{n("adulto_intacto"),l(null),u(null)},className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all duration-300 transform hover:scale-105 ${r==="adulto_intacto"?"bg-teal-600 text-white shadow-lg border-2 border-teal-700":"bg-blue-700 text-blue-100 hover:bg-blue-600 border border-blue-800"}`,children:"Adulto (Intacto)"}),o.jsx("button",{onClick:()=>{n("adulto_activo"),l(null),u(null)},className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all duration-300 transform hover:scale-105 ${r==="adulto_activo"?"bg-teal-600 text-white shadow-lg border-2 border-teal-700":"bg-blue-700 text-blue-100 hover:bg-blue-600 border border-blue-800"}`,children:"Adulto Activo"}),o.jsx("button",{onClick:()=>{n("adulto_mayor"),l(null),u(null)},className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all duration-300 transform hover:scale-105 ${r==="adulto_mayor"?"bg-teal-600 text-white shadow-lg border-2 border-teal-700":"bg-blue-700 text-blue-100 hover:bg-blue-600 border border-blue-800"}`,children:"Adulto Mayor"}),o.jsx("button",{onClick:()=>{n("perdida_peso"),l(null),u(null)},className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all duration-300 transform hover:scale-105 ${r==="perdida_peso"?"bg-teal-600 text-white shadow-lg border-2 border-teal-700":"bg-blue-700 text-blue-100 hover:bg-blue-600 border border-blue-800"}`,children:"Pérdida de Peso"})]})]}),r&&o.jsxs("div",{className:"mb-8 w-full","data-aos":"fade-up","data-aos-once":"true",children:[o.jsxs("label",{className:"block text-md font-medium text-gray-200 mb-2 text-center flex items-center justify-center gap-2",children:[o.jsx(AF,{size:20,className:"text-green-400"})," Peso de la mascota (kg)"]}),o.jsx("input",{type:"number",value:i,onChange:g=>a(g.target.value===""?"":Number(g.target.value)),className:"w-full p-3 border-2 border-blue-600 rounded-md text-center text-xl font-bold text-white focus:border-indigo-400 focus:ring-indigo-400 transition shadow-sm bg-blue-800 placeholder-gray-300",min:"0.1",max:"200",step:"0.1",placeholder:"Ej: 5.5"}),typeof i=="number"&&i>0&&o.jsxs("p",{className:"text-center text-md mt-2 text-gray-300",children:["Peso actual: ",o.jsx("strong",{className:"text-indigo-400",children:i})," kg"]})]}),!c&&s&&!d&&o.jsxs("div",{className:"text-center mt-6 p-4 bg-blue-800 rounded-lg border border-blue-700 w-full animate-fade-in shadow-inner","data-aos":"zoom-in","data-aos-once":"true",children:[o.jsx("h3",{className:"text-2xl font-bold text-blue-200 mb-2",children:"Ración Diaria Sugerida:"}),o.jsx("p",{className:"text-6xl font-extrabold text-yellow-300 animate-pulse",children:s}),o.jsx("p",{className:"text-sm text-gray-300 mt-2 italic",children:"*Esta es una guía general. La ración exacta depende del alimento específico."})]}),d&&!c&&o.jsxs("div",{className:"text-center mt-6 p-4 w-full",children:[o.jsx(Fe,{className:"animate-spin text-indigo-400 mx-auto",size:36}),o.jsx("p",{className:"text-indigo-400 mt-2",children:"Calculando ración..."})]})]}),o.jsxs("div",{className:"lg:w-1/2 p-6 bg-blue-900 text-white rounded-xl shadow-lg flex flex-col justify-between border border-blue-700","data-aos":"fade-left","data-aos-once":"true",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-extrabold text-center text-blue-300 mb-6",children:"Asesoramiento Nutricional Personalizado"}),o.jsx("p",{className:"text-lg text-blue-100 mb-8 text-center",children:"Cada mascota es única. Para un plan de alimentación que se ajuste perfectamente a sus necesidades, ¡consulta a nuestros expertos!"}),o.jsxs("ul",{className:"space-y-4 mb-8 text-blue-100 text-base",children:[o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(Oa,{size:24,className:"flex-shrink-0 text-yellow-300 mt-1"}),o.jsxs("div",{children:[o.jsx("strong",{className:"text-white",children:"Planes a Medida:"}),o.jsx("p",{children:"Dietas personalizadas según raza, edad, estado de salud y nivel de actividad."})]})]}),o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(Oa,{size:24,className:"flex-shrink-0 text-yellow-300 mt-1"}),o.jsxs("div",{children:[o.jsx("strong",{className:"text-white",children:"Manejo de Peso:"}),o.jsx("p",{children:"Estrategias efectivas para la pérdida o ganancia de peso saludable."})]})]}),o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(Oa,{size:24,className:"flex-shrink-0 text-yellow-300 mt-1"}),o.jsxs("div",{children:[o.jsx("strong",{className:"text-white",children:"Condiciones Médicas:"}),o.jsx("p",{children:"Recomendaciones dietéticas para mascotas con necesidades especiales o enfermedades."})]})]}),o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(Oa,{size:24,className:"flex-shrink-0 text-yellow-300 mt-1"}),o.jsxs("div",{children:[o.jsx("strong",{className:"text-white",children:"Alimentos Específicos:"}),o.jsx("p",{children:"Guía sobre la mejor elección de alimentos comerciales o dietas caseras."})]})]})]})]}),o.jsxs("div",{className:"text-center mt-auto",children:[o.jsxs("a",{href:`https://wa.me/${m}?text=${x}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-8 py-4 bg-yellow-400 hover:bg-yellow-500 text-blue-950 text-lg font-bold rounded-full shadow-lg transition-all duration-300 transform hover:scale-105",children:[o.jsx(MF,{size:24,className:"mr-3"})," ","¡Agenda una Consulta Nutricional!"]}),o.jsx("p",{className:"text-sm text-blue-200 mt-3",children:"¡Estamos aquí para cuidar a tu mascota!"})]})]})]}),o.jsxs("section",{className:"relative z-10 max-w-5xl w-full bg-gray-800 text-gray-200 p-8 rounded-xl shadow-lg border border-gray-700 mt-8","data-aos":"fade-up","data-aos-once":"true",children:[o.jsxs("h3",{className:"text-2xl font-bold text-indigo-300 mb-4 flex items-center gap-2",children:[o.jsx(_F,{size:24})," Fuentes y Descargo de Responsabilidad"]}),o.jsxs("div",{className:"text-sm leading-relaxed space-y-3",children:[o.jsx("p",{children:"Esta Calculadora Nutricional de Max's Groomer proporciona una estimación de la necesidad calórica diaria para perros y gatos, y una ración aproximada de alimento seco, basándose en principios fundamentales de nutrición veterinaria."}),o.jsx("p",{className:"font-semibold text-yellow-300",children:"Es CRÍTICO entender que esta herramienta es **ILUSTRATIVA, simplificada y de referencia rápida**, y bajo NINGUNA circunstancia debe sustituir el consejo, diagnóstico o tratamiento de un veterinario certificado."}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 pl-4",children:[o.jsxs("li",{children:[o.jsx("strong",{className:"text-white",children:"Cálculo de RER/DER:"})," La estimación de la Necesidad Energética en Reposo (RER) se basa en la fórmula estándar `70 * (Peso en kg)^0.75`. La Necesidad Energética Diaria (DER) se calcula multiplicando el RER por un factor de actividad/estado fisiológico. Estos factores son promedios generales y pueden variar."]}),o.jsxs("li",{children:[o.jsx("strong",{className:"text-white",children:"Densidad Calórica del Alimento:"})," La conversión de calorías a gramos de alimento utiliza un valor promedio de **3.7 kcal/gramo**, que es típico para muchos alimentos secos comerciales para mascotas. Sin embargo, la densidad calórica real de cada alimento varía significativamente. **Siempre debe verificar la etiqueta nutricional de su alimento específico** para conocer su contenido exacto de calorías (generalmente expresado en `kcal/kg` o `kcal/taza`)."]}),o.jsxs("li",{children:[o.jsx("strong",{className:"text-white",children:"Variabilidad Individual:"})," Las necesidades nutricionales son altamente individuales y dependen de factores como la raza específica, la edad exacta, el nivel de actividad preciso, la presencia de enfermedades, estado reproductivo (gestación, lactancia), y el metabolismo único de cada animal."]}),o.jsxs("li",{children:[o.jsx("strong",{className:"text-white",children:"Fuentes de Referencia (Principios Generales):"}),o.jsx("p",{className:"mt-1",children:"Los principios de cálculo de RER y DER, así como los factores de actividad utilizados, se basan en directrices aceptadas en la nutrición de pequeños animales, como las publicadas por organizaciones profesionales y textos de referencia:"}),o.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 space-y-1",children:[o.jsx("li",{children:o.jsx("a",{href:"https://www.wsava.org/WSAVA/media/Documents/Committee%20Resources/Global%20Nutrition%20Committee/Nutrition-Assessment-Guidelines-English.pdf",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"Global Nutrition Committee of the World Small Animal Veterinary Association (WSAVA) - Nutritional Assessment Guidelines."})}),o.jsx("li",{children:o.jsx("a",{href:"https://www.aaha.org/globalassets/02-guidelines/nutrition/2021-aaha-nutrition-and-weight-management-guidelines.pdf",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"American Animal Hospital Association (AAHA) - Nutritional and Weight Management Guidelines."})}),o.jsx("li",{children:'National Research Council (NRC) - Nutrient Requirements of Dogs and Cats. (Esta es una publicación extensa, no hay un URL directo a una "calculadora", pero es la base de muchos cálculos nutricionales).'})]})]})]}),o.jsx("p",{className:"mt-4 text-center text-lg font-bold text-yellow-200",children:"Para un plan nutricional seguro, preciso y adaptado a las necesidades específicas de tu mascota, te instamos a **agendar una consulta con nuestros veterinarios** en Max's Groomer."})]})]}),o.jsx("footer",{className:"relative z-10 w-full text-center text-gray-400 text-sm mt-10 pb-6",children:o.jsxs("p",{children:["© ",new Date().getFullYear()," Max's Groomer. Todos los derechos reservados."]})})]})},Mbe=()=>{const e=dr(),[t,r]=S.useState({name:"",phone:"",address:"",email:"",password:"",city:"",receiveReminders:!1}),[n,i]=S.useState(null),a=l=>{const{name:c,value:u,type:d,checked:f}=l.target;r(h=>({...h,[c]:d==="checkbox"?f:u}))},s=async l=>{if(l.preventDefault(),i(null),!t.name||!t.phone||!t.address||!t.email||!t.password||!t.city){i("Por favor, completa todos los campos.");return}if(!t.email.endsWith("@gmail.com")){i("El correo debe ser de tipo Gmail (@gmail.com).");return}const{data:c,error:u}=await T.auth.signUp({email:t.email,password:t.password});if(u||!c.user){i("Hubo un error al registrar el usuario: "+(u==null?void 0:u.message)||"Error desconocido.");return}const d=c.user,{error:f}=await T.from("users").insert({id_user:d.id,nombre:t.name,email:t.email,telefono:t.phone,activo:!0,creado_en:new Date().toISOString()});if(f){console.error("Error al insertar en la tabla users:",f),i("No se pudo guardar los datos del usuario en la tabla principal. "+f.message);return}const{error:h}=await T.from("clientes").insert({id_user:d.id,nombre:t.name,email:t.email,telefono:t.phone,direccion:t.address,ciudad:t.city,recibir_recordatorios:t.receiveReminders});if(h){console.error("Error al insertar en la tabla clientes:",h),i("No se pudo agregar el usuario a la tabla de clientes. "+h.message);return}const{data:m,error:x}=await T.from("roles").select("id_rol").eq("nombre","cliente").single();if(x||!m){console.error("Error al obtener el rol de cliente:",x),i("Rol de cliente no encontrado o error al obtenerlo. "+(x==null?void 0:x.message));return}const{error:g}=await T.from("user_roles").insert({id_user:d.id,id_rol:m.id_rol});if(g){console.error("Error al asignar el rol:",g),i("No se pudo asignar el rol al usuario. "+g.message);return}e("/login")};return o.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:o.jsxs(Hp.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-lg bg-gray-900 rounded-2xl shadow-2xl p-8 space-y-6 text-white",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-3xl font-extrabold text-indigo-400",children:"Crear Cuenta"}),o.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Únete a Max's Groomer"})]}),n&&o.jsx("div",{className:"bg-red-200 text-red-800 px-4 py-2 rounded text-sm text-center",children:n}),o.jsxs("form",{onSubmit:s,className:"space-y-4",children:[[{name:"name",placeholder:"Nombre completo"},{name:"phone",placeholder:"Teléfono"},{name:"address",placeholder:"Dirección"},{name:"city",placeholder:"Ciudad"},{name:"email",placeholder:"Correo electrónico (Gmail)",type:"email"},{name:"password",placeholder:"Contraseña",type:"password"}].map(l=>o.jsx("input",{name:l.name,type:l.type||"text",placeholder:l.placeholder,value:t[l.name],onChange:a,className:"w-full px-4 py-3 bg-gray-800 text-white border border-gray-600 rounded-md focus:ring-2 focus:ring-indigo-500",required:!0},l.name)),o.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[o.jsx("input",{id:"receiveReminders",name:"receiveReminders",type:"checkbox",checked:t.receiveReminders,onChange:a,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:"receiveReminders",className:"text-gray-300",children:"Deseo recibir recordatorios de citas al correo."})]}),o.jsx("button",{type:"submit",className:"w-full bg-indigo-700 hover:bg-indigo-600 text-white py-3 px-4 text-sm font-medium rounded-md transition-colors",children:"Registrarme"})]}),o.jsxs("p",{className:"text-center text-sm text-gray-400",children:["¿Ya tienes una cuenta?"," ",o.jsx("span",{onClick:()=>e("/login"),className:"text-indigo-400 font-medium cursor-pointer hover:underline",children:"Inicia sesión"})]})]})})},$be=()=>{const[e,t]=S.useState(""),[r,n]=S.useState(null),[i,a]=S.useState(null),s=dr(),l=async c=>{c.preventDefault(),n(null),a(null);const{error:u}=await T.auth.resetPasswordForEmail(e);u?n("Hubo un error al enviar el correo de recuperación."):(a("Se ha enviado un correo para restablecer tu contraseña."),setTimeout(()=>s("/login"),3e3))};return o.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:o.jsxs(Hp.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md bg-gray-900 text-white rounded-xl shadow-2xl p-8 space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-3xl font-bold text-indigo-400",children:"Recuperar Contraseña"}),o.jsx("p",{className:"mt-2 text-sm text-gray-300",children:"Ingresa tu correo para restablecer tu contraseña"})]}),r&&o.jsx("div",{className:"bg-red-100 text-red-700 px-4 py-2 rounded text-sm text-center",children:r}),i&&o.jsx("div",{className:"bg-green-100 text-green-700 px-4 py-2 rounded text-sm text-center",children:i}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsx("input",{name:"email",type:"email",placeholder:"Correo electrónico",value:e,onChange:c=>t(c.target.value),className:"w-full px-4 py-3 border border-gray-600 bg-gray-800 rounded-md text-sm text-white focus:ring-2 focus:ring-indigo-500 focus:outline-none",required:!0}),o.jsx("button",{type:"submit",className:"w-full py-3 px-4 text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 transition-all",children:"Enviar correo de recuperación"})]}),o.jsx("p",{className:"text-center text-sm text-gray-400",children:o.jsx("span",{onClick:()=>s("/login"),className:"text-indigo-400 font-medium cursor-pointer hover:underline",children:"Regresar al Login"})})]})})},Dbe=()=>{const[e,t]=S.useState(""),[r,n]=S.useState(null),[i,a]=S.useState(null),s=dr(),l=async c=>{if(c.preventDefault(),n(null),a(null),!e){n("Por favor, ingresa una nueva contraseña.");return}const{error:u}=await T.auth.updateUser({password:e});u?n("Error al actualizar la contraseña."):(a("¡Contraseña actualizada! Redirigiendo..."),setTimeout(()=>s("/login"),3e3))};return S.useEffect(()=>{const c=window.location.hash;new URLSearchParams(c.substring(1)).get("access_token")||n("El enlace de recuperación no es válido o ha expirado.")},[]),o.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:o.jsxs("div",{className:"w-full max-w-md bg-gray-900 rounded-2xl shadow-2xl p-8 space-y-6 text-white",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-3xl font-extrabold text-indigo-400",children:"Restablecer Contraseña"}),o.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Ingresa tu nueva contraseña"})]}),r&&o.jsx("div",{className:"bg-red-200 text-red-800 px-4 py-2 rounded text-sm text-center",children:r}),i&&o.jsx("div",{className:"bg-green-200 text-green-800 px-4 py-2 rounded text-sm text-center",children:i}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsx("input",{type:"password",placeholder:"Nueva contraseña",value:e,onChange:c=>t(c.target.value),className:"w-full px-4 py-3 bg-gray-800 text-white border border-gray-600 rounded-md focus:ring-2 focus:ring-indigo-500",required:!0}),o.jsx("button",{type:"submit",className:"w-full bg-indigo-700 hover:bg-indigo-600 text-white py-3 px-4 text-sm font-medium rounded-md transition-colors",children:"Cambiar contraseña"})]})]})})},hs=({icon:e,label:t,value:r,onClick:n})=>o.jsxs("div",{onClick:n,className:`bg-gray-800 text-white rounded-lg p-6 border-l-4 border-indigo-700 flex items-center shadow-xl cursor-pointer\r
              transition-all duration-300 transform hover:scale-105 hover:bg-gray-700`,children:[o.jsxs("div",{className:"p-3 rounded-full mr-4 bg-indigo-600 bg-opacity-20 flex-shrink-0",children:[" ",o.jsx(e,{className:"w-8 h-8 text-indigo-400"})," "]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-300 font-medium",children:t}),o.jsx("p",{className:"text-3xl font-bold text-white",children:r})]})]}),HE=()=>{const[e,t]=S.useState({totalUsers:0,totalClients:0,totalPets:0,totalVeterinarios:0,totalAppointments:0,pendingPublicAppointments:0,confirmedTodayAppointments:0}),[r,n]=S.useState([]),[i,a]=S.useState([]),[s,l]=S.useState([]),[c,u]=S.useState([]),d=10,[f,h]=S.useState(!0),[m,x]=S.useState(null),g=dr(),v=S.useCallback(async()=>{h(!0),x(null);try{const{count:p,error:y}=await T.from("users").select("*",{count:"exact",head:!0});if(y)throw y;const{count:b,error:_}=await T.from("clientes").select("*",{count:"exact",head:!0});if(_)throw _;const{data:w,error:j}=await T.from("clientes").select("id_cliente, nombre");if(j)throw j;const N=new Map(w.map(I=>[I.id_cliente,I.nombre])),{count:k,error:E}=await T.from("mascotas").select("*",{count:"exact",head:!0});if(E)throw E;const{count:M,error:C}=await T.from("veterinarios").select("*",{count:"exact",head:!0});if(C)throw C;const{count:O,error:L}=await T.from("citas").select("*",{count:"exact",head:!0});if(L)throw L;const{count:$,error:B}=await T.from("citas_publicas").select("*",{count:"exact",head:!0}).eq("estado","pendiente");if(B)throw B;const{data:Y,error:F}=await T.from("citas").select(`
          id_cita,
          motivo,
          fecha,
          estado,
          id_cliente,      
          mascotas (nombre)
        `).eq("estado","Pendiente").order("fecha",{ascending:!0});if(F)throw F;const R=Y.map(I=>{var G;return{id_cita:I.id_cita,motivo:I.motivo,fecha:I.fecha,estado:I.estado,nombre_mascota:((G=I.mascotas)==null?void 0:G.nombre)||"Mascota Desconocida",nombre_cliente:(I.id_cliente?N.get(I.id_cliente):null)||"Cliente Desconocido"}}),D=new Date,X=new Date(D.getFullYear(),D.getMonth(),D.getDate(),0,0,0).toISOString(),ne=new Date(D.getFullYear(),D.getMonth(),D.getDate(),23,59,59).toISOString(),{count:Q,error:K}=await T.from("citas").select("*",{count:"exact",head:!0}).eq("estado","confirmada").gte("fecha",X).lte("fecha",ne);if(K)throw K;const{data:ce,error:me}=await T.from("medicamentos").select("*");if(me)throw me;const{data:xe,error:ue}=await T.from("suministros").select("*");if(ue)throw ue;const{data:be,error:U}=await T.from("inventario_stock").select("*");if(U)throw U;const se=be.map(I=>{let G="Desconocido",ee=null,de=null,J=null,A=null;if(I.tipo_item==="medicamento"){const P=ce.find(q=>q.id_medicamento===I.id_referencia_item);P?(G=P.nombre_generico||P.nombre_comercial||"Medicamento Desconocido",de=P.unidad_medida||null,A=P.precio_venta||null):G=`Medicamento Desconocido (ID: ${I.id_referencia_item})`,I.fecha_caducidad_lote&&(J=new Date(I.fecha_caducidad_lote+"T00:00:00").toLocaleDateString("es-ES",{year:"numeric",month:"numeric",day:"numeric"}))}else if(I.tipo_item==="suministro"){const P=xe.find(q=>q.id_suministro===I.id_referencia_item);P?(G=P.nombre,ee=P.categoria||null,de=P.unidad_medida||null):G=`Suministro Desconocido (ID: ${I.id_referencia_item})`}return{...I,nombre_item:G,categoria_suministro:ee,unidad_display:de,vencimiento_display:J,precio_venta:A}}),W=new Date;W.setHours(0,0,0,0),a(se.filter(I=>I.cantidad<=d&&I.cantidad>0)),l(se.filter(I=>I.cantidad===0)),u(se.filter(I=>I.tipo_item==="medicamento"&&I.fecha_caducidad_lote&&new Date(I.fecha_caducidad_lote+"T00:00:00")<W&&I.cantidad>0)),t({totalUsers:p||0,totalClients:b||0,totalPets:k||0,totalVeterinarios:M||0,totalAppointments:O||0,pendingPublicAppointments:$||0,confirmedTodayAppointments:Q||0}),n(R)}catch(p){console.error("Error fetching dashboard data:",p.message),x("Error al cargar los datos de la dashboard: "+p.message)}finally{h(!1)}},[]);return S.useEffect(()=>{v();const p=T.channel("dashboard_users_changes").on("postgres_changes",{event:"*",schema:"public",table:"users"},M=>{console.log("Realtime change for users received:",M),v()}).subscribe(),y=T.channel("dashboard_clientes_changes").on("postgres_changes",{event:"*",schema:"public",table:"clientes"},M=>{console.log("Realtime change for clients received:",M),v()}).subscribe(),b=T.channel("dashboard_mascotas_changes").on("postgres_changes",{event:"*",schema:"public",table:"mascotas"},M=>{console.log("Realtime change for mascotas received:",M),v()}).subscribe(),_=T.channel("dashboard_veterinarios_changes").on("postgres_changes",{event:"*",schema:"public",table:"veterinarios"},M=>{console.log("Realtime change for veterinarios received:",M),v()}).subscribe(),w=T.channel("dashboard_citas_changes").on("postgres_changes",{event:"*",schema:"public",table:"citas"},M=>{console.log("Realtime change for citas received:",M),v()}).subscribe(),j=T.channel("dashboard_citas_publicas_changes").on("postgres_changes",{event:"*",schema:"public",table:"citas_publicas"},M=>{console.log("Realtime change for citas_publicas received:",M),v()}).subscribe(),N=T.channel("dashboard_inventario_stock_changes").on("postgres_changes",{event:"*",schema:"public",table:"inventario_stock"},()=>{console.log("Realtime change for inventario_stock received in dashboard."),v()}).subscribe(),k=T.channel("dashboard_medicamentos_changes").on("postgres_changes",{event:"*",schema:"public",table:"medicamentos"},()=>{console.log("Realtime change for medicamentos received in dashboard."),v()}).subscribe(),E=T.channel("dashboard_suministros_changes").on("postgres_changes",{event:"*",schema:"public",table:"suministros"},()=>{console.log("Realtime change for suministros received in dashboard."),v()}).subscribe();return()=>{T.removeChannel(p),T.removeChannel(y),T.removeChannel(b),T.removeChannel(_),T.removeChannel(w),T.removeChannel(j),T.removeChannel(N),T.removeChannel(k),T.removeChannel(E),console.log("Unsubscribed from all dashboard channels.")}},[v]),f?o.jsxs("div",{className:"flex items-center justify-center min-h-[50vh] bg-gray-950 text-white",children:[o.jsx(Fe,{className:"animate-spin mr-3 text-blue-400",size:36}),o.jsx("p",{className:"text-xl text-blue-400",children:"Cargando datos de la dashboard..."})]}):o.jsxs("div",{className:"p-6 bg-gray-950 text-white min-h-screen font-inter",children:[m&&o.jsxs("div",{className:"bg-red-800 text-red-100 p-4 rounded-lg text-center border border-red-600 mb-6 flex items-center justify-between shadow-md animate-fade-in",children:[o.jsx(Yt,{size:24,className:"flex-shrink-0 mr-3"}),o.jsx("span",{className:"flex-grow",children:m}),o.jsx(Ve,{size:20,className:"cursor-pointer ml-3",onClick:()=>x(null)})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:[o.jsx(hs,{icon:Iw,label:"Total Usuarios Registrados",value:e.totalUsers,onClick:()=>g("/admin-dashboard/ver-usuarios")}),o.jsx(hs,{icon:RF,label:"Total Clientes",value:e.totalClients,onClick:()=>g("/admin-dashboard/ver-usuarios")})," ",o.jsx(hs,{icon:yt,label:"Total Mascotas",value:e.totalPets,onClick:()=>g("/admin-dashboard/gestion-mascotas")}),o.jsx(hs,{icon:Yl,label:"Total Veterinarios",value:e.totalVeterinarios,onClick:()=>g("/admin-dashboard/ver-usuarios")})," ",o.jsx(hs,{icon:Wn,label:"Total Citas Agendadas",value:e.totalAppointments,onClick:()=>g("/admin-dashboard/admin-citas-module")}),o.jsx(hs,{icon:Cp,label:"Solicitudes Citas Web (Pendientes)",value:e.pendingPublicAppointments,onClick:()=>g("/admin-dashboard/admin-citas-module")}),o.jsx(hs,{icon:Wn,label:"Citas Confirmadas Hoy",value:e.confirmedTodayAppointments,onClick:()=>g("/admin-dashboard/admin-citas-module")})]}),(i.length>0||s.length>0||c.length>0)&&o.jsxs("div",{className:"bg-gray-900 p-6 rounded-xl shadow-lg border border-yellow-700 mb-8",children:[o.jsxs("h2",{className:"text-2xl font-bold text-yellow-400 mb-5 flex items-center gap-3",children:[o.jsx(Du,{size:24})," Alertas de Inventario"]}),i.length>0&&o.jsxs("div",{className:"bg-yellow-800/20 text-yellow-100 p-4 rounded-lg border border-yellow-600 mb-4 animate-fade-in",children:[o.jsxs("h4",{className:"font-semibold text-lg mb-3 flex items-center text-yellow-300",children:[o.jsx(rT,{size:20,className:"mr-2"})," Stock Bajo (menos de ",d," unidades)"]}),o.jsx("ul",{className:"list-none space-y-2",children:i.map(p=>o.jsxs("li",{className:"flex items-center text-sm bg-yellow-900/30 p-2 rounded-md border border-yellow-700/50 cursor-pointer hover:bg-yellow-800/40 transition-colors",onClick:()=>g("/admin-dashboard/inventario"),children:[o.jsx(Yt,{size:16,className:"flex-shrink-0 text-yellow-300 mr-2"}),o.jsxs("span",{className:"font-medium mr-1",children:[p.nombre_item," (",p.tipo_item==="medicamento"?"Medicamento":"Suministro","):"]}),o.jsxs("span",{className:"text-yellow-100",children:[p.cantidad," unidades restantes en ",p.ubicacion,"."]})]},p.id_stock))})]}),s.length>0&&o.jsxs("div",{className:"bg-red-800/20 text-red-100 p-4 rounded-lg border border-red-600 mb-4 animate-fade-in",children:[o.jsxs("h4",{className:"font-semibold text-lg mb-3 flex items-center text-red-300",children:[o.jsx(QA,{size:20,className:"mr-2"})," Sin Stock (0 unidades)"]}),o.jsx("ul",{className:"list-none space-y-2",children:s.map(p=>o.jsxs("li",{className:"flex items-center text-sm bg-red-900/30 p-2 rounded-md border border-red-700/50 cursor-pointer hover:bg-red-800/40 transition-colors",onClick:()=>g("/admin-dashboard/inventario"),children:[o.jsx(qh,{size:16,className:"flex-shrink-0 text-red-300 mr-2"}),o.jsxs("span",{className:"font-medium mr-1",children:[p.nombre_item," (",p.tipo_item==="medicamento"?"Medicamento":"Suministro","):"]}),o.jsxs("span",{className:"text-red-100",children:["Agotado en ",p.ubicacion,"."]})]},p.id_stock))})]}),c.length>0&&o.jsxs("div",{className:"bg-orange-800/20 text-orange-100 p-4 rounded-lg border border-orange-600 animate-fade-in",children:[o.jsxs("h4",{className:"font-semibold text-lg mb-3 flex items-center text-orange-300",children:[o.jsx(Fi,{size:20,className:"mr-2"})," Lotes de Medicamentos Vencidos"]}),o.jsx("ul",{className:"list-none space-y-2",children:c.map(p=>o.jsxs("li",{className:"flex items-center text-sm bg-orange-900/30 p-2 rounded-md border border-orange-700/50 cursor-pointer hover:bg-orange-800/40 transition-colors",onClick:()=>g("/admin-dashboard/inventario"),children:[o.jsx(Yt,{size:16,className:"flex-shrink-0 text-orange-300 mr-2"}),o.jsxs("span",{className:"font-medium mr-1",children:[p.nombre_item,":"]}),o.jsxs("span",{className:"text-orange-100",children:["Lote ",p.lote||"N/A"," vencido en ",p.vencimiento_display||"fecha desconocida"," (",p.cantidad," unidades)."]})]},p.id_stock))})]})]}),o.jsxs("div",{className:"bg-gray-900 p-6 rounded-xl shadow-lg border border-blue-800",children:[o.jsxs("h2",{className:"text-2xl font-bold text-indigo-400 mb-5 flex items-center gap-3",children:[o.jsx(Wn,{size:24})," Citas Pendientes de Aprobación (Internas)"]}),r.length===0?o.jsx("p",{className:"text-gray-400 text-center py-4",children:"No hay citas internas pendientes de aprobación."}):o.jsx("ul",{className:"space-y-4",children:r.map(p=>o.jsxs("li",{className:"bg-gray-800 p-4 rounded-md border border-gray-700 flex flex-col md:flex-row justify-between items-start md:items-center shadow-sm hover:shadow-md transition-shadow",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-white text-lg",children:p.motivo}),o.jsxs("p",{className:"text-sm text-gray-300",children:[o.jsx("span",{className:"font-medium",children:"Para:"})," ",p.nombre_mascota||"Mascota Desconocida"," del cliente ",p.nombre_cliente||"Cliente Desconocido"]}),o.jsxs("p",{className:"text-sm text-gray-300",children:[o.jsx("span",{className:"font-medium",children:"Fecha:"})," ",new Date(p.fecha).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})," a las ",new Date(p.fecha).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})]})]}),o.jsxs("div",{className:"mt-3 md:mt-0",children:[o.jsx("span",{className:"px-3 py-1 text-xs font-semibold rounded-full bg-yellow-600 text-white",children:p.estado.charAt(0).toUpperCase()+p.estado.slice(1)}),o.jsx("button",{onClick:()=>g("/admin-dashboard/admin-citas-module"),className:"ml-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-md transition-colors shadow-md",children:"Gestionar"})]})]},p.id_cita))})]})]})},Y1="/assets/maxi-xP0nNXUf.jpg",Ibe=()=>{const e=dr(),t=async()=>{if(!window.confirm("¿Estás seguro de que quieres cerrar tu sesión y regresar a la página principal?"))return;const{error:r}=await T.auth.signOut();r?(console.error("Error al cerrar sesión:",r.message),alert("Error al cerrar sesión: "+r.message)):e("/")};return o.jsxs("div",{className:"flex min-h-screen bg-gray-900",children:[o.jsxs("aside",{className:"w-64 bg-gray-800 text-white flex flex-col justify-between p-6 shadow-lg border-r border-gray-700",children:[o.jsxs("div",{children:[o.jsx("div",{onClick:t,className:"cursor-pointer block text-3xl font-extrabold tracking-tight mb-10 text-indigo-400 hover:text-indigo-300 transition-colors duration-200",role:"button","aria-label":"Regresar a la página principal y cerrar sesión",children:"Max's Groomer"}),o.jsxs("nav",{className:"flex flex-col gap-3 text-lg",children:[o.jsxs(Xr,{to:"/dashboard",end:!0,className:({isActive:r})=>`flex items-center p-3 rounded-md transition-colors duration-200 ease-in-out ${r?"bg-indigo-700 text-white shadow-inner font-semibold":"hover:bg-gray-700 text-gray-300"}`,children:[o.jsx(JA,{size:20,className:"mr-3"}),"Inicio"]}),o.jsxs(Xr,{to:"/dashboard/citas",className:({isActive:r})=>`flex items-center p-3 rounded-md transition-colors duration-200 ease-in-out ${r?"bg-indigo-700 text-white shadow-inner font-semibold":"hover:bg-gray-700 text-gray-300"}`,children:[o.jsx(Wn,{size:20,className:"mr-3"}),"Citas"]}),o.jsxs(Xr,{to:"/dashboard/mascotas",className:({isActive:r})=>`flex items-center p-3 rounded-md transition-colors duration-200 ease-in-out ${r?"bg-indigo-700 text-white shadow-inner font-semibold":"hover:bg-gray-700 text-gray-300"}`,children:[o.jsx(yt,{size:20,className:"mr-3"}),"Mascotas"]})]})]}),o.jsx("div",{className:"mt-auto pt-6 border-t border-gray-700",children:o.jsxs("button",{onClick:t,className:"flex items-center w-full p-3 rounded-md text-red-400 hover:bg-red-500 hover:text-white transition-colors duration-200 ease-in-out font-semibold shadow-sm",children:[o.jsx(Dw,{size:20,className:"mr-3"}),"Cerrar Sesión"]})})]}),o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsxs("section",{className:"relative h-56 text-white flex items-center justify-center text-center",style:{backgroundImage:`url(${Y1})`,backgroundSize:"cover",backgroundPosition:"center"},children:[o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50"}),o.jsxs("div",{className:"relative z-10 px-4",children:[o.jsx("h2",{className:"text-4xl font-bold mb-2",children:"Bienvenidos a Max's Groomer"}),o.jsx("p",{className:"text-lg text-gray-200",children:"Tu clínica veterinaria de confianza en Rivas"})]})]}),o.jsx("main",{className:"flex-1 bg-gray-900 text-white p-6",children:o.jsx(Cw,{})})]})]})},Rbe=()=>{const{user:e,loading:t}=gi(),r=dr(),[n,i]=S.useState([]),[a,s]=S.useState([]),[l,c]=S.useState([]),[u,d]=S.useState(!0),[f,h]=S.useState(null),[m,x]=S.useState(""),g=S.useCallback(async()=>{if(!(e!=null&&e.id))return null;try{const{data:y,error:b}=await T.from("clientes").select("id_cliente, nombre").eq("id_user",e.id).single();if(b&&b.code!=="PGRST116")throw console.error("Error al obtener id_cliente:",b.message),new Error("Error al cargar la información del cliente.");return y!=null&&y.nombre&&x(y.nombre),(y==null?void 0:y.id_cliente)||null}catch(y){return console.error("Error en fetchClientId:",y.message),h("Error al cargar la información del cliente: "+y.message),null}},[e]),v=S.useCallback(async()=>{if(t||!e){d(!0);return}d(!0),h(null);const y=await g();if(!y){h("No se pudo obtener el perfil del cliente. Asegúrate de que tu cuenta de usuario está asociada a un cliente."),d(!1),i([]),s([]),c([]);return}let b=[];try{const{data:_,error:w}=await T.from("mascotas").select("id_mascota, nombre, especie, raza, edad, peso").eq("id_cliente",y);if(w)throw w;c(_||[]),b=(_||[]).map(j=>j.id_mascota)}catch(_){console.error("Error al obtener mascotas:",_.message),h("Error al cargar tus mascotas."),d(!1);return}if(b.length===0){i([]),s([]),d(!1);return}try{const{data:_,error:w}=await T.from("citas").select(`
          id_cita,
          id_mascota,
          fecha,
          motivo,
          estado,
          tipo,
          nombre_cliente_invitado,
          nombre_mascota_invitada,
          mascotas (nombre),
          veterinarios (nombre)
          `).in("id_mascota",b).order("fecha",{ascending:!0});if(w)throw w;const j=_.map(M=>{var C,O;return{id_cita:M.id_cita,id_mascota:M.id_mascota,fecha:M.fecha,motivo:M.motivo,estado:M.estado,tipo:M.tipo,nombre_mascota:((C=M.mascotas)==null?void 0:C.nombre)||M.nombre_mascota_invitada||"N/A",nombre_veterinario:((O=M.veterinarios)==null?void 0:O.nombre)||"No asignado",id_cliente:y,nombre_cliente_invitado:M.nombre_cliente_invitado||null,nombre_mascota_invitada:M.nombre_mascota_invitada||null}}),N=j.filter(M=>M.estado==="pendiente"||M.estado==="rechazada");i(N);const k=new Date;k.setSeconds(0),k.setMilliseconds(0);const E=j.filter(M=>(M.estado==="confirmada"||M.estado==="programada")&&new Date(M.fecha).getTime()>=k.getTime()).slice(0,5);s(E)}catch(_){console.error("Error al cargar/actualizar citas:",_.message),h("Error al cargar/actualizar citas: "+_.message)}finally{d(!1)}},[e,t,g]);S.useEffect(()=>{let y;const b=async()=>{const _=await g();if(!_)return;let w=[];try{const{data:j,error:N}=await T.from("mascotas").select("id_mascota, nombre, especie, raza, edad, peso").eq("id_cliente",_);if(N)throw N;w=(j||[]).map(k=>k.id_mascota)}catch(j){console.error("Error al obtener IDs de mascotas para el listener:",j.message)}w.length!==0&&(y=T.channel(`public:citas:id_mascota=in.(${w.join(",")})`).on("postgres_changes",{event:"*",schema:"public",table:"citas",filter:`id_mascota=in.(${w.join(",")})`},j=>{console.log("Realtime change received (Home.tsx):",j),v()}).subscribe((j,N)=>{j==="SUBSCRIBED"&&console.log("Suscrito a cambios en citas (Home.tsx)"),j==="CHANNEL_ERROR"&&(console.error("Error en el canal de suscripción de citas (Home.tsx):",N),h("Error en la suscripción de citas en tiempo real: "+N.message))}))};return v(),!t&&e&&b(),()=>{y&&(console.log("Desuscribiendo del canal de citas (Home.tsx)"),T.removeChannel(y))}},[t,e,g,v]),S.useEffect(()=>{const y=setInterval(()=>{s(b=>[...b])},6e4);return()=>clearInterval(y)},[]);const p=y=>{const b=new Date,w=new Date(y).getTime()-b.getTime();if(w<0)return"Cita pasada";const j=Math.floor(w/(1e3*60*60*24)),N=Math.floor(w%(1e3*60*60*24)/(1e3*60*60)),k=Math.floor(w%(1e3*60*60)/(1e3*60));let E="";return j>0&&(E+=`${j} día${j!==1?"s":""}`),(N>0||j>0)&&(E&&(E+=", "),E+=`${N} hora${N!==1?"s":""}`),(k>0||N>0||j>0)&&(E&&(E+=", "),E+=`${k} minuto${k!==1?"s":""}`),!E&&w>0?"Faltan: menos de 1 minuto":`Faltan: ${E}`};return t||u?o.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white",children:[o.jsx(Fe,{className:"animate-spin mr-2",size:24}),o.jsx("p",{className:"text-xl text-indigo-400",children:"Cargando resumen del dashboard..."})]}):f?o.jsxs("div",{className:"p-6 bg-gray-900 text-white min-h-screen font-inter",children:[o.jsxs("div",{className:"bg-red-800 p-4 rounded-md text-red-100 mb-4",children:[o.jsxs("p",{children:["Error: ",f]}),o.jsx("p",{className:"text-sm mt-2",children:"Asegúrate de que estás autenticado y que las tablas y sus políticas RLS están configuradas correctamente para tu rol de cliente."})]}),o.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition shadow-md",children:"Reintentar Carga"})]}):o.jsxs("div",{className:"space-y-8 p-6 bg-gray-900 text-white min-h-screen font-inter",children:[o.jsxs("h2",{className:"text-3xl font-extrabold text-indigo-400 text-center mb-8",children:["Bienvenido ",m?`${m}`:""," a tu Dashboard"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:`bg-gradient-to-br from-blue-800 to-indigo-800 p-6\r
          rounded-lg shadow-xl border border-blue-700 flex flex-col justify-between`,children:[o.jsxs("h3",{className:`text-xl font-semibold text-blue-200 mb-3 flex\r
            items-center gap-2`,children:[o.jsx(Wn,{size:20})," Próxima Cita"]}),a.length>0?o.jsxs("div",{children:[o.jsxs("p",{className:"text-lg font-bold text-white",children:[a[0].motivo," (",a[0].tipo,") para ",a[0].nombre_mascota]}),o.jsxs("p",{className:"text-blue-100 text-sm mt-1",children:[o.jsx("span",{className:"font-medium",children:"Fecha:"})," ",new Date(a[0].fecha).toLocaleDateString()," a las ",new Date(a[0].fecha).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),o.jsxs("p",{className:"text-blue-100 text-sm",children:[o.jsx("span",{className:"font-medium",children:"Veterinario:"}),a[0].nombre_veterinario]}),o.jsxs("p",{className:"text-blue-300 font-bold text-sm mt-3 flex items-center",children:[o.jsx(Ui,{size:16,className:"inline-block mr-1"}),p(a[0].fecha)]}),o.jsx("button",{onClick:()=>r("/dashboard/citas"),className:`mt-4 w-full bg-blue-600 hover:bg-blue-700 text-\r
                  white py-2 rounded-md font-semibold transition`,children:"Ver todas las Citas"})]}):o.jsxs("div",{children:[o.jsx("p",{className:"text-blue-100",children:"No tienes citas programadas próximas."}),o.jsx("button",{onClick:()=>r("/dashboard/citas"),className:`mt-4 w-full bg-blue-600 hover:bg-blue-700 text-\r
                  white py-2 rounded-md font-semibold transition`,children:"Solicitar una Cita"})]})]}),o.jsxs("div",{className:`bg-gradient-to-br from-yellow-800 to-orange-800 p-6\r
          rounded-lg shadow-xl border border-yellow-700 flex flex-col justify-\r
          between`,children:[o.jsxs("h3",{className:`text-xl font-semibold text-yellow-200 mb-3 flex\r
            items-center gap-2`,children:[o.jsx(Bh,{size:20})," Solicitudes Pendientes"]}),o.jsx("p",{className:`text-5xl font-bold text-white text-center my-\r
            4`,children:n.length}),o.jsx("p",{className:"text-yellow-100 text-center",children:"citas esperando aprobación."}),o.jsx("button",{onClick:()=>r("/dashboard/citas"),className:`mt-4 w-full bg-yellow-600 hover:bg-yellow-700 text-\r
              white py-2 rounded-md font-semibold transition`,children:"Revisar Solicitudes"})]}),o.jsxs("div",{className:`bg-gradient-to-br from-purple-800 to-pink-800 p-6\r
          rounded-lg shadow-xl border border-purple-700 flex flex-col justify-\r
          between`,children:[o.jsxs("h3",{className:`text-xl font-semibold text-purple-200 mb-3 flex\r
            items-center gap-2`,children:[o.jsx(yt,{size:20})," Tus Mascotas"]}),o.jsx("p",{className:`text-5xl font-bold text-white text-center my-\r
            4`,children:l.length}),o.jsx("p",{className:"text-purple-100 text-center",children:"mascotas registradas."}),o.jsx("button",{onClick:()=>r("/dashboard/mascotas"),className:`mt-4 w-full bg-purple-600 hover:bg-purple-700 text-\r
              white py-2 rounded-md font-semibold transition`,children:"Gestionar Mascotas"})]})]}),o.jsxs("section",{className:`bg-gray-800 p-6 rounded-lg shadow-lg border\r
        border-gray-700`,children:[o.jsxs("h3",{className:`text-2xl text-indigo-300 mb-6 font-semibold flex\r
          items-center gap-2`,children:[o.jsx(Wt,{size:24})," Acciones Rápidas"]}),o.jsxs("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-\r
          4`,children:[o.jsxs("button",{onClick:()=>r("/dashboard/citas"),className:`flex items-center justify-center p-4 bg-indigo-700\r
              hover:bg-indigo-600 text-white rounded-lg shadow-md transition transform\r
              hover:scale-105`,children:[o.jsx(Wn,{size:20,className:"mr-2"})," Solicitar Nueva Cita"]}),o.jsxs("button",{onClick:()=>r("/dashboard/mascotas"),className:`flex items-center justify-center p-4 bg-teal-700\r
              hover:bg-teal-600 text-white rounded-lg shadow-md transition transform\r
              hover:scale-105`,children:[o.jsx(yt,{size:20,className:"mr-2"})," Añadir/Editar Mascota"]})]})]}),o.jsxs("section",{className:`bg-gray-800 p-6 rounded-lg shadow-lg border\r
        border-gray-700`,children:[o.jsxs("h3",{className:`text-2xl text-yellow-300 mb-6 font-semibold flex\r
          items-center gap-2`,children:[o.jsx(Ui,{size:24})," Solicitudes de Cita Pendientes/Rechazadas"]}),n.length===0?o.jsx("p",{className:"text-gray-400",children:"No tienes solicitudes de citas pendientes o rechazadas."}):o.jsx("div",{className:"space-y-4",children:n.map(y=>o.jsxs("div",{className:`bg-gray-700 p-4 rounded-md\r
                border border-gray-600 flex flex-col md:flex-row justify-between items-start\r
                md:items-center`,children:[o.jsxs("div",{children:[o.jsxs("p",{className:`text-lg font-semibold text-\r
                    white`,children:[y.motivo," para ",y.nombre_mascota]}),o.jsxs("p",{className:"text-gray-300 text-sm",children:[o.jsx("span",{className:"font-medium",children:"Fecha solicitada:"}),new Date(y.fecha).toLocaleDateString()," a las ",new Date(y.fecha).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),o.jsxs("p",{className:`text-sm font-bold ${y.estado==="pendiente"?"text-yellow-400":"text-red-400"}`,children:["Estado: ",y.estado.charAt(0).toUpperCase()+y.estado.slice(1)]})]}),o.jsx("div",{className:"mt-2 md:mt-0 md:ml-4",children:o.jsx("button",{onClick:()=>r("/dashboard/citas"),className:`px-3 py-1 bg-red-600 hover:bg-red-700 text-\r
                      white rounded-md text-sm transition`,children:"Gestionar Solicitud"})})]},y.id_cita))})]}),o.jsxs("section",{className:`bg-gray-800 p-6 rounded-lg shadow-lg border\r
        border-gray-700`,children:[o.jsxs("h3",{className:`text-2xl text-green-300 mb-6 font-semibold flex\r
          items-center gap-2`,children:[o.jsx(oi,{size:24})," Próximas Citas Aprobadas"]}),a.length===0?o.jsx("p",{className:"text-gray-400",children:"No tienes citas aprobadas próximas."}):o.jsx("div",{className:"space-y-4",children:a.map(y=>o.jsxs("div",{className:`bg-gray-700 p-4 rounded-md\r
                border border-gray-600 flex flex-col md:flex-row justify-between items-start\r
                md:items-center`,children:[o.jsxs("div",{children:[o.jsxs("p",{className:`text-lg font-semibold text-\r
                    white`,children:[y.motivo," (",y.tipo,") para ",y.nombre_mascota]}),o.jsxs("p",{className:"text-gray-300 text-sm",children:[o.jsx("span",{className:"font-medium",children:"Fecha:"})," ",new Date(y.fecha).toLocaleDateString()," a las ",new Date(y.fecha).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),o.jsxs("p",{className:"text-gray-300 text-sm",children:[o.jsx("span",{className:"font-medium",children:"Veterinario:"}),y.nombre_veterinario||"No asignado"]}),o.jsxs("p",{className:"text-indigo-300 font-bold text-sm mt-1",children:[o.jsx(Ui,{size:16,className:"inline-block mr-1"}),p(y.fecha)]})]}),o.jsxs("div",{className:"mt-2 md:mt-0 md:ml-4",children:[o.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-\r
                    full bg-green-600 text-white`,children:y.estado.charAt(0).toUpperCase()+y.estado.slice(1)}),o.jsx("button",{onClick:()=>r("/dashboard/citas"),className:`ml-2 px-3 py-1 bg-red-600 hover:bg-red-700\r
                      text-white rounded-md text-sm transition`,children:"Gestionar Cita"})]})]},y.id_cita))})]})]})},YE={nombre:"",especie:"",raza:"",edad:null,peso:null,fecha_nacimiento:null},Lbe=()=>{const{user:e,loading:t}=gi(),[r,n]=S.useState(""),[i,a]=S.useState(""),[s,l]=S.useState(""),[c,u]=S.useState([]),[d,f]=S.useState(null),[h,m]=S.useState([]),[x,g]=S.useState([]),[v,p]=S.useState(!0),[y,b]=S.useState(!1),[_,w]=S.useState(null),[j,N]=S.useState(null),[k,E]=S.useState(!1),[M,C]=S.useState(YE),[O,L]=S.useState(!1),[$,B]=S.useState(null),[Y,F]=S.useState(null),R=S.useCallback(async()=>{if(e)try{const{data:K,error:ce}=await T.from("clientes").select("id_cliente").eq("id_user",e.id).single();if(ce||!K){console.warn("No se encontró ID de cliente para el usuario autenticado. Esto es normal si no tienen perfil de cliente."),u([]);return}const me=K.id_cliente,{data:xe,error:ue}=await T.from("mascotas").select("*").eq("id_cliente",me);if(ue)throw ue;u(xe||[])}catch(K){console.error("Error fetching mascotas:",K.message),w("Error al cargar tus mascotas.")}},[e]),D=S.useCallback(async()=>{if(e)try{const{data:K,error:ce}=await T.from("clientes").select("id_cliente").eq("id_user",e.id).single();let me=(K==null?void 0:K.id_cliente)||null,xe=[];if(me){const{data:G,error:ee}=await T.from("citas").select(`
            id_cita,
            id_mascota,
            fecha,
            motivo,
            estado,
            tipo,
            mascotas (nombre),
            veterinarios (nombre),
            nombre_mascota_invitada
          `).eq("id_cliente",me).order("fecha",{ascending:!1});if(ee)throw ee;xe=G}let ue=[];const{data:be,error:U}=await T.from("users").select("email, nombre").eq("id_user",e.id).single();if(U&&console.error("Error al obtener perfil de usuario para citas públicas:",U.message),be!=null&&be.email){const{data:G,error:ee}=await T.from("citas_publicas").select(`
            id_cita,
            fecha,
            motivo,
            estado,
            nombre_mascota,
            nombre_cliente,
            tipo:motivo 
          `).eq("email",be.email).order("fecha",{ascending:!1});ee&&console.error("Error al obtener citas públicas por email:",ee.message),ue=G||[],ue=ue.map(de=>({id_cita:de.id_cita,id_mascota:null,fecha:de.fecha,motivo:de.motivo,estado:de.estado==="pendiente"?"Pendiente":de.estado,tipo:de.tipo||"General",nombre_mascota:de.nombre_mascota||"Mascota Invitada",nombre_veterinario:"Pendiente Asignación"}))}const se=[...xe,...ue],W=[],I=[];se.forEach(G=>{var J,A;const ee={id_cita:G.id_cita,id_mascota:G.id_mascota||null,fecha:G.fecha,motivo:G.motivo,estado:G.estado,tipo:G.tipo||"No especificado",nombre_mascota:((J=G.mascotas)==null?void 0:J.nombre)||G.nombre_mascota_invitada||G.nombre_mascota||"Mascota Desconocida",nombre_veterinario:((A=G.veterinarios)==null?void 0:A.nombre)||"Pendiente Asignación"},de=G.estado.toLowerCase();["pendiente","rechazada"].includes(de)?W.push(ee):["confirmada","realizada","cancelada"].includes(de)&&I.push(ee)}),m(W),g(I)}catch(K){console.error("Error fetching citas:",K.message),w("Error al cargar tus citas: "+K.message)}},[e]);S.useEffect(()=>{if(!t&&e){p(!0),Promise.all([R(),D()]).finally(()=>{p(!1)});const K=T.channel("client_mascotas_changes").on("postgres_changes",{event:"*",schema:"public",table:"mascotas"},()=>{console.log("Realtime change for client mascotas received, refetching..."),R()}).subscribe(),ce=T.channel("client_citas_changes").on("postgres_changes",{event:"*",schema:"public",table:"citas"},()=>{console.log("Realtime change for client citas received, refetching..."),D()}).subscribe(),me=T.channel("client_citas_publicas_changes").on("postgres_changes",{event:"*",schema:"public",table:"citas_publicas"},()=>{console.log("Realtime change for client citas_publicas received, refetching..."),D()}).subscribe();return()=>{T.removeChannel(K),T.removeChannel(ce),T.removeChannel(me),console.log("Unsubscribed from client mascotas and citas channels.")}}else!t&&!e&&(p(!1),w("Debes iniciar sesión para ver tus citas y mascotas."))},[e,t,R,D]);const X=K=>{const{name:ce,value:me}=K.target;C(xe=>{let ue=me;return ce==="edad"?(ue=me===""?null:parseInt(me,10),isNaN(ue)&&(ue=null)):ce==="peso"?(ue=me===""?null:parseFloat(me),isNaN(ue)&&(ue=null)):(ce==="raza"&&me.trim()===""||ce==="fecha_nacimiento"&&me.trim()==="")&&(ue=null),{...xe,[ce]:ue}})},ne=async K=>{var ce;if(K.preventDefault(),B(null),F(null),L(!0),!e){B("No se pudo determinar el cliente para asignar la mascota. Inicia sesión."),L(!1);return}try{const{data:me,error:xe}=await T.from("clientes").select("id_cliente").eq("id_user",e.id).single();if(xe||!me)throw new Error("No se encontró el perfil de cliente asociado a tu cuenta. Asegúrate de tener uno.");const ue=me.id_cliente,be={...M,id_cliente:ue,raza:((ce=M.raza)==null?void 0:ce.trim())||null,fecha_nacimiento:M.fecha_nacimiento||null};if(!be.nombre||!be.especie){B("Los campos Nombre y Especie son obligatorios."),L(!1);return}const{error:U}=await T.from("mascotas").insert([be]);if(U)throw U;F("Mascota agregada correctamente. Selecciona tu nueva mascota en la lista."),C(YE),E(!1),await R()}catch(me){console.error("Error al agregar nueva mascota:",me.message),B("Error al agregar la mascota: "+me.message)}finally{L(!1)}},Q=async K=>{if(K.preventDefault(),b(!0),w(null),N(null),!d||!r||!i||!s){w("Por favor, completa todos los campos requeridos para la cita."),b(!1);return}try{const{data:ce,error:me}=await T.from("clientes").select("id_cliente").eq("id_user",e==null?void 0:e.id).single(),xe=(ce==null?void 0:ce.id_cliente)||null,{error:ue}=await T.from("citas").insert([{id_mascota:d,id_cliente:xe,fecha:i,motivo:s,tipo:r,estado:"Pendiente"}]);if(ue)throw ue;N("Cita solicitada exitosamente. Espera la confirmación."),n(""),a(""),l(""),f(null),await D()}catch(ce){console.error("Error al solicitar cita:",ce.message),w("Error al solicitar la cita: "+ce.message)}finally{b(!1)}};return v?o.jsxs("div",{className:"flex items-center justify-center min-h-[60vh] bg-gray-950 text-white",children:[o.jsx(Fe,{className:"animate-spin mr-3 text-blue-400",size:36}),o.jsx("p",{className:"text-xl text-blue-400",children:"Cargando tus datos..."})]}):o.jsxs("div",{className:"p-6 bg-gray-950 text-white rounded-lg shadow-xl space-y-8 font-inter",children:[o.jsxs("h2",{className:"text-3xl font-extrabold text-blue-400 mb-8 flex items-center gap-3",children:[o.jsx(Wn,{size:28})," Mis Citas"]}),_&&o.jsxs("div",{className:"bg-red-800 text-red-100 p-4 rounded-lg text-center border border-red-600 mb-6 flex items-center justify-between shadow-md animate-fade-in",children:[o.jsx(Yt,{size:24,className:"flex-shrink-0 mr-3"}),o.jsx("span",{className:"flex-grow",children:_}),o.jsx(Ve,{size:20,className:"cursor-pointer ml-3",onClick:()=>w(null)})]}),j&&o.jsxs("div",{className:"bg-green-800 text-green-100 p-4 rounded-lg text-center border border-green-600 mb-6 flex items-center justify-between shadow-md animate-fade-in",children:[o.jsx(oi,{size:24,className:"flex-shrink-0 mr-3"}),o.jsx("span",{className:"flex-grow",children:j}),o.jsx(Ve,{size:20,className:"cursor-pointer ml-3",onClick:()=>N(null)})]}),o.jsxs("div",{className:"bg-gray-900 p-6 rounded-xl shadow-lg border border-blue-800",children:[o.jsxs("h3",{className:"text-2xl font-bold text-indigo-400 mb-5 flex items-center gap-2",children:[o.jsx(Wt,{size:22})," Solicitar Nueva Cita"]}),o.jsxs("form",{onSubmit:Q,className:"grid grid-cols-1 md:grid-cols-2 gap-5 text-base",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"selectedMascota",className:"block mb-1 text-gray-300",children:"Selecciona tu Mascota:"}),o.jsxs("select",{id:"selectedMascota",value:d||"",onChange:K=>f(Number(K.target.value)||null),className:"w-full p-2.5 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-blue-500 focus:border-blue-500 transition",required:!0,children:[o.jsx("option",{value:"",children:"-- Selecciona una mascota --"}),c.map(K=>o.jsxs("option",{value:K.id_mascota,children:[K.nombre," (",K.especie,")"]},K.id_mascota))]}),o.jsxs("button",{type:"button",onClick:()=>E(!0),className:"mt-3 w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition shadow-md flex items-center justify-center gap-2",children:[o.jsx(yt,{size:20})," ¿No está tu mascota? Añade una nueva."]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"tipo",className:"block mb-1 text-gray-300",children:"Tipo de Cita:"}),o.jsxs("select",{id:"tipo",value:r,onChange:K=>n(K.target.value),className:"w-full p-2.5 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-blue-500 focus:border-blue-500 transition",required:!0,children:[o.jsx("option",{value:"",children:"-- Selecciona el tipo de cita --"}),o.jsx("option",{value:"Grooming",children:"Grooming"}),o.jsx("option",{value:"Revision-Consulta",children:"Revisión/Consulta"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"fecha",className:"block mb-1 text-gray-300",children:"Fecha y Hora:"}),o.jsx("input",{id:"fecha",type:"datetime-local",value:i,onChange:K=>a(K.target.value),className:"w-full p-2.5 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-blue-500 focus:border-blue-500 transition",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"motivo",className:"block mb-1 text-gray-300",children:"Motivo de la Cita:"}),o.jsx("textarea",{id:"motivo",value:s,onChange:K=>l(K.target.value),rows:3,className:"w-full p-2.5 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"Describe brevemente el motivo de la cita (ej. chequeo anual, vacunas, corte de pelo)",required:!0})]}),o.jsx("div",{className:"md:col-span-2 flex justify-end mt-4",children:o.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-700 hover:bg-indigo-600 text-white rounded-lg font-semibold transition shadow-md flex items-center justify-center",disabled:y,children:y?o.jsxs(o.Fragment,{children:[o.jsx(Fe,{className:"animate-spin mr-2",size:20}),"Solicitando..."]}):"Solicitar Cita"})})]})]}),o.jsxs("div",{className:"bg-gray-900 p-6 rounded-xl shadow-lg border border-blue-800",children:[o.jsxs("h3",{className:"text-2xl font-bold text-yellow-400 mb-5 flex items-center gap-2",children:[o.jsx(Ui,{size:22})," Mis Citas Pendientes/Rechazadas"]}),h.length===0?o.jsx("p",{className:"text-gray-400 text-center py-4",children:"No tienes citas pendientes o rechazadas."}):o.jsx("ul",{className:"space-y-4",children:h.map(K=>o.jsxs("li",{className:"bg-gray-800 p-4 rounded-md border border-gray-700 flex flex-col md:flex-row justify-between items-start md:items-center shadow-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-white text-lg",children:K.motivo}),o.jsxs("p",{className:"text-sm text-gray-300",children:[o.jsx("span",{className:"font-medium",children:"Mascota:"})," ",K.nombre_mascota]}),o.jsxs("p",{className:"text-sm text-gray-300",children:[o.jsx("span",{className:"font-medium",children:"Fecha:"})," ",new Date(K.fecha).toLocaleString("es-ES",{dateStyle:"medium",timeStyle:"short"})]})]}),o.jsx("div",{className:"mt-3 md:mt-0 flex items-center gap-2",children:o.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${K.estado==="Pendiente"?"bg-yellow-600":"bg-red-600"} text-white`,children:K.estado.charAt(0).toUpperCase()+K.estado.slice(1)})})]},K.id_cita))})]}),o.jsxs("div",{className:"bg-gray-900 p-6 rounded-xl shadow-lg border border-blue-800",children:[o.jsxs("h3",{className:"text-2xl font-bold text-green-400 mb-5 flex items-center gap-2",children:[o.jsx(oi,{size:22})," Mis Citas Confirmadas/Realizadas"]}),x.length===0?o.jsx("p",{className:"text-gray-400 text-center py-4",children:"No tienes citas confirmadas o realizadas."}):o.jsx("ul",{className:"space-y-4",children:x.map(K=>o.jsxs("li",{className:"bg-gray-800 p-4 rounded-md border border-gray-700 flex flex-col md:flex-row justify-between items-start md:items-center shadow-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-white text-lg",children:K.motivo}),o.jsxs("p",{className:"text-sm text-gray-300",children:[o.jsx("span",{className:"font-medium",children:"Mascota:"})," ",K.nombre_mascota]}),o.jsxs("p",{className:"text-sm text-gray-300",children:[o.jsx("span",{className:"font-medium",children:"Fecha:"})," ",new Date(K.fecha).toLocaleString("es-ES",{dateStyle:"medium",timeStyle:"short"})]}),o.jsxs("p",{className:"text-sm text-gray-300",children:[o.jsx("span",{className:"font-medium",children:"Veterinario:"})," ",K.nombre_veterinario||"No Asignado"]})]}),o.jsx("div",{className:"mt-3 md:mt-0",children:o.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${K.estado==="confirmada"?"bg-green-600":K.estado==="realizada"?"bg-indigo-600":"bg-red-600"} text-white`,children:K.estado.charAt(0).toUpperCase()+K.estado.slice(1)})})]},K.id_cita))})]}),k&&o.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center p-4 z-50 animate-fade-in",children:o.jsxs("div",{className:"bg-gray-800 p-8 rounded-xl shadow-2xl w-full max-w-md space-y-6 border border-blue-700 transform scale-100 animate-scale-in",children:[o.jsxs("h3",{className:"text-2xl font-bold text-blue-400 text-center flex items-center justify-center gap-2",children:[o.jsx(yt,{size:24})," Añadir Nueva Mascota"]}),$&&o.jsxs("div",{className:"bg-red-800 text-red-100 p-3 rounded-lg text-sm text-center border border-red-600 flex items-center justify-between",children:[o.jsx(Yt,{size:20,className:"flex-shrink-0 mr-2"}),o.jsx("span",{className:"flex-grow",children:$}),o.jsx(Ve,{size:16,className:"cursor-pointer ml-2",onClick:()=>B(null)})]}),Y&&o.jsxs("div",{className:"bg-green-800 text-green-100 p-3 rounded-lg text-sm text-center border border-green-600 flex items-center justify-between",children:[o.jsx(oi,{size:20,className:"flex-shrink-0 mr-2"}),o.jsx("span",{className:"flex-grow",children:Y}),o.jsx(Ve,{size:16,className:"cursor-pointer ml-2",onClick:()=>F(null)})]}),o.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"newMascotaNombre",className:"block mb-1 text-gray-300",children:"Nombre:"}),o.jsx("input",{id:"newMascotaNombre",name:"nombre",value:M.nombre,onChange:X,className:"w-full p-2.5 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"Nombre de la mascota",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"newMascotaEspecie",className:"block mb-1 text-gray-300",children:"Especie:"}),o.jsx("input",{id:"newMascotaEspecie",name:"especie",value:M.especie,onChange:X,className:"w-full p-2.5 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"Ej: Perro, Gato, Ave",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"newMascotaRaza",className:"block mb-1 text-gray-300",children:"Raza (Opcional):"}),o.jsx("input",{id:"newMascotaRaza",name:"raza",value:M.raza||"",onChange:X,className:"w-full p-2.5 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"Ej: Labrador, Siames"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"newMascotaFechaNacimiento",className:"block mb-1 text-gray-300",children:"Fecha de Nacimiento (Opcional):"}),o.jsx("input",{id:"newMascotaFechaNacimiento",name:"fecha_nacimiento",type:"date",value:M.fecha_nacimiento||"",onChange:X,className:"w-full p-2.5 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-blue-500 focus:border-blue-500 transition"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"newMascotaEdad",className:"block mb-1 text-gray-300",children:"Edad (años - Opcional):"}),o.jsx("input",{id:"newMascotaEdad",name:"edad",type:"number",value:M.edad??"",onChange:X,className:"w-full p-2.5 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"Ej: 3",min:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"newMascotaPeso",className:"block mb-1 text-gray-300",children:"Peso (kg - Opcional):"}),o.jsx("input",{id:"newMascotaPeso",name:"peso",type:"number",step:"0.01",value:M.peso??"",onChange:X,className:"w-full p-2.5 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"Ej: 5.2",min:"0"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>E(!1),className:"px-5 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold transition shadow-md",disabled:O,children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-700 hover:bg-indigo-600 text-white rounded-lg font-semibold transition shadow-md flex items-center justify-center",disabled:O,children:O?o.jsxs(o.Fragment,{children:[o.jsx(Fe,{className:"animate-spin mr-2",size:20}),"Añadiendo..."]}):"Añadir Mascota"})]})]})]})})]})},zbe=()=>{const{user:e,loading:t}=gi();dr();const[r,n]=S.useState([]),[i,a]=S.useState(!0),[s,l]=S.useState(null),[c,u]=S.useState(null),[d,f]=S.useState(!1),[h,m]=S.useState(!1),[x,g]=S.useState(!1),[v,p]=S.useState(null),[y,b]=S.useState({nombre:"",especie:"",raza:"",edad:"",peso:""}),[_,w]=S.useState(!1),[j,N]=S.useState(null),[k,E]=S.useState([]),[M,C]=S.useState([]),[O,L]=S.useState([]),[$,B]=S.useState(!0),[Y,F]=S.useState(null),[R,D]=S.useState([]),[X,ne]=S.useState([]),Q=S.useCallback(async()=>{if(!(e!=null&&e.id))return null;try{const{data:W,error:I}=await T.from("clientes").select("id_cliente").eq("id_user",e.id).single();if(I){if(I.code!=="PGRST116")throw console.error("Error fetching id_cliente:",I.message),new Error("Error loading client information.");return null}return(W==null?void 0:W.id_cliente)||null}catch(W){return console.error("Error in fetchClientId:",W.message),l("Error loading client information: "+W.message),null}},[e]),K=S.useCallback(async()=>{if(t||!e){a(!0);return}a(!0),l(null);const W=await Q();if(!W){l("Could not retrieve client profile. Please ensure your user account is associated with a client."),a(!1),n([]);return}try{const{data:I,error:G}=await T.from("mascotas").select("id_mascota, id_cliente, nombre, especie, raza, edad, peso").eq("id_cliente",W);if(G)throw G;n(I||[])}catch(I){console.error("Error fetching pets:",I.message),l("Error loading your pets: "+I.message)}finally{a(!1)}},[e,t,Q]);S.useEffect(()=>{K();let W;return!t&&e&&(async()=>{const G=await Q();G&&(W=T.channel(`public:mascotas:id_cliente=eq.${G}`).on("postgres_changes",{event:"*",schema:"public",table:"mascotas",filter:`id_cliente=eq.${G}`},ee=>{console.log("Realtime change for mascotas received:",ee),K()}).subscribe((ee,de)=>{ee==="SUBSCRIBED"&&console.log("Subscribed to mascotas changes for client:",G),ee==="CHANNEL_ERROR"&&(console.error("Realtime subscription error for mascotas:",(de==null?void 0:de.message)||"Unknown error"),l("Error in real-time subscription for pets: "+((de==null?void 0:de.message)||"Unknown error")))}))})(),()=>{W&&(T.removeChannel(W),console.log("Unsubscribed from mascotas changes."))}},[t,e,Q,K]);const ce=W=>{const{name:I,value:G}=W.target;b(ee=>({...ee,[I]:G}))},me=()=>{g(!1),p(null),b({nombre:"",especie:"",raza:"",edad:"",peso:""}),l(null),u(null),m(!0)},xe=W=>{var I,G;g(!0),p(W),b({nombre:W.nombre,especie:W.especie||"",raza:W.raza||"",edad:((I=W.edad)==null?void 0:I.toString())||"",peso:((G=W.peso)==null?void 0:G.toString())||""}),l(null),u(null),m(!0)},ue=async W=>{if(W.preventDefault(),l(null),u(null),f(!0),!y.nombre||!y.especie){l("Nombre y Especie son campos obligatorios."),f(!1);return}const I=await Q();if(!I){l("Could not retrieve client ID. Please log in again."),f(!1);return}const G={id_cliente:I,nombre:y.nombre,especie:y.especie||null,raza:y.raza||null,edad:y.edad?parseInt(y.edad,10):null,peso:y.peso?parseFloat(y.peso):null};try{if(x&&v){const{error:ee}=await T.from("mascotas").update(G).eq("id_mascota",v.id_mascota);if(ee)throw ee;u("Mascota actualizada correctamente.")}else{const{error:ee}=await T.from("mascotas").insert(G);if(ee)throw ee;u("Mascota añadida correctamente.")}m(!1),K()}catch(ee){console.error("Error saving pet:",ee.message),l("Error al guardar la mascota: "+ee.message)}finally{f(!1)}},be=async(W,I)=>{if(window.confirm(`¿Estás seguro de que quieres eliminar a ${I}? Esta acción es irreversible.`)){l(null),u(null),a(!0);try{const{error:G}=await T.from("mascotas").delete().eq("id_mascota",W);if(G)if(G.code==="23503")l("No se puede eliminar esta mascota porque tiene registros asociados (citas o historial clínico). Elimina primero esos registros.");else throw G;else u(`${I} ha sido eliminada correctamente.`),K()}catch(G){console.error("Error deleting pet:",G.message),l("Error al eliminar la mascota: "+G.message)}finally{a(!1)}}},U=async W=>{N(W),w(!0),B(!0),F(null);try{const[{data:I,error:G},{data:ee,error:de}]=await Promise.all([T.from("medicamentos").select("id_medicamento, nombre_generico, nombre_comercial, unidad_medida"),T.from("inventario_stock").select("id_stock, tipo_item, id_referencia_item, cantidad, lote, fecha_caducidad_lote")]);if(G)throw G;if(D(I||[]),de)throw de;ne(ee||[]);const{data:J,error:A}=await T.from("historial_clinico").select("*").eq("id_mascota",W.id_mascota).order("fecha_consulta",{ascending:!1});if(A)throw A;E(J||[]);const P=(J||[]).map(q=>q.id_historial);if(P.length>0){const{data:q,error:oe}=await T.from("tratamientos_detalles").select("*").in("id_historial",P).order("fecha_inicio",{ascending:!1});if(oe)throw oe;C(q||[])}else C([]);if(P.length>0){const{data:q,error:oe}=await T.from("prescripciones").select(`
            id_prescripcion,
            id_historial,
            id_medicamento,
            cantidad_prescrita,
            dosis,
            frecuencia,
            duracion,
            fecha_prescripcion,
            instrucciones_adicionales
          `).in("id_historial",P).order("fecha_prescripcion",{ascending:!1});if(oe)throw oe;const re=(q||[]).map(le=>{const ae=(I||[]).find(He=>He.id_medicamento===le.id_medicamento),Se=ae?ae.nombre_generico||ae.nombre_comercial:"Medicamento Desconocido",Pe=(ee||[]).filter(He=>He.tipo_item==="medicamento"&&He.id_referencia_item===le.id_medicamento).reduce((He,Me)=>He+Me.cantidad,0);let $e="No Disponible en Clínica";return(ee||[]).some(He=>He.tipo_item==="medicamento"&&He.id_referencia_item===le.id_medicamento)?Pe===0?$e="Agotado":Pe>0&&Pe<=5?$e="Pocas Unidades":$e="En Stock":$e="No Disponible en Clínica",{...le,nombre_medicamento:Se,stock_status:$e,stock_cantidad:Pe,mascota_nombre:W.nombre}});L(re)}else L([])}catch(I){console.error("Error al cargar historial clínico:",I.message),F("Error al cargar el historial: "+(I.message||"Error desconocido.")),E([]),C([]),L([])}finally{B(!1)}};S.useEffect(()=>{let W,I,G,ee,de;if(_&&j){const J=j.id_mascota;W=T.channel(`historial_clinico_modal_${J}`).on("postgres_changes",{event:"*",schema:"public",table:"historial_clinico",filter:`id_mascota=eq.${J}`},A=>{console.log("Realtime: Cambio en historial clínico (modal), recargando...",A),U(j)}).subscribe((A,P)=>{A==="CHANNEL_ERROR"&&console.error("Error Realtime historial clínico (modal):",(P==null?void 0:P.message)||P)}),I=T.channel(`tratamientos_detalles_modal_${J}`).on("postgres_changes",{event:"*",schema:"public",table:"tratamientos_detalles"},A=>{console.log("Realtime: Cambio en tratamientos detalles (modal), recargando...",A),U(j)}).subscribe((A,P)=>{A==="CHANNEL_ERROR"&&console.error("Error Realtime tratamientos detalles (modal):",(P==null?void 0:P.message)||P)}),G=T.channel(`prescripciones_modal_${J}`).on("postgres_changes",{event:"*",schema:"public",table:"prescripciones"},A=>{console.log("Realtime: Cambio en prescripciones (modal), re-cargando stock...",A),U(j)}).subscribe((A,P)=>{A==="CHANNEL_ERROR"&&console.error("Error Realtime prescripciones (modal):",(P==null?void 0:P.message)||P)}),ee=T.channel(`inventario_stock_modal_${J}`).on("postgres_changes",{event:"*",schema:"public",table:"inventario_stock"},A=>{console.log("Realtime: Cambio en inventario (modal), re-calculando stock...",A),U(j)}).subscribe((A,P)=>{A==="CHANNEL_ERROR"&&console.error("Error Realtime inventario (modal):",(P==null?void 0:P.message)||P)}),de=T.channel(`medicamentos_modal_${J}`).on("postgres_changes",{event:"*",schema:"public",table:"medicamentos"},A=>{console.log("Realtime: Cambio en medicamentos (modal), re-cargando stock...",A),U(j)}).subscribe((A,P)=>{A==="CHANNEL_ERROR"&&console.error("Error Realtime medicamentos (modal):",(P==null?void 0:P.message)||P)})}return()=>{W&&T.removeChannel(W),I&&T.removeChannel(I),G&&T.removeChannel(G),ee&&T.removeChannel(ee),de&&T.removeChannel(de),console.log("Desuscripto de canales del modal de historial clínico.")}},[_,j,U]);const se=()=>{w(!1),N(null),E([]),C([]),L([]),F(null)};return t||i?o.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white",children:[o.jsx(Fe,{className:"animate-spin mr-2",size:24}),o.jsx("p",{className:"text-xl text-indigo-400",children:"Cargando tus mascotas..."})]}):s&&!h?o.jsxs("div",{className:"p-6 bg-gray-900 text-white min-h-screen font-inter",children:[o.jsxs("div",{className:"bg-red-800 p-4 rounded-md text-red-100 mb-4",children:[o.jsxs("p",{children:["Error: ",s]}),o.jsx("p",{className:"text-sm mt-2",children:"Asegúrate de que estás autenticado y que las tablas y sus políticas RLS están configuradas correctamente para tu rol de cliente."})]}),o.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition shadow-md",children:"Reintentar Carga"})]}):o.jsxs("div",{className:"p-6 bg-gray-900 text-white space-y-8 min-h-screen font-inter",children:[o.jsxs("h2",{className:"text-3xl font-extrabold text-indigo-400 text-center mb-8 flex items-center justify-center gap-2",children:[o.jsx(yt,{size:30})," Mis Mascotas"]}),c&&o.jsxs("div",{className:"bg-green-700 text-green-100 px-4 py-3 rounded-md text-sm text-center flex items-center justify-between",children:[o.jsx("span",{children:c}),o.jsx(Ve,{size:20,className:"cursor-pointer",onClick:()=>u(null)})]}),o.jsx("div",{className:"flex justify-end mb-6",children:o.jsxs("button",{onClick:me,className:"px-6 py-3 bg-indigo-700 hover:bg-indigo-600 text-white rounded-lg font-semibold shadow-md transition transform hover:scale-105 flex items-center gap-2",children:[o.jsx(Wt,{size:20})," Añadir Nueva Mascota"]})}),r.length===0&&!i&&!h?o.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700 text-center",children:[o.jsx("p",{className:"text-gray-400 text-lg mb-4",children:"No tienes mascotas registradas aún. ¡Añade la primera!"}),o.jsxs("button",{onClick:me,className:"px-6 py-3 bg-indigo-700 hover:bg-indigo-600 text-white rounded-lg font-semibold shadow-md transition transform hover:scale-105 flex items-center gap-2 mx-auto",children:[o.jsx(Wt,{size:20})," Añadir Primera Mascota"]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(W=>{var I,G;return o.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-xl border border-teal-700 flex flex-col items-center text-center",children:[((I=W.especie)==null?void 0:I.toLowerCase())==="perro"?o.jsx(Mw,{size:64,className:"text-teal-400 mb-4"}):((G=W.especie)==null?void 0:G.toLowerCase())==="gato"?o.jsx(YA,{size:64,className:"text-teal-400 mb-4"}):o.jsx(yt,{size:64,className:"text-teal-400 mb-4"}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:W.nombre}),o.jsxs("p",{className:"text-teal-200 text-lg mb-1",children:[W.especie," ",W.raza?`(${W.raza})`:""]}),W.edad!==null&&W.edad!==void 0&&o.jsxs("p",{className:"text-teal-300",children:["Edad: ",W.edad," años"]}),W.peso!==null&&W.peso!==void 0&&o.jsxs("p",{className:"text-teal-300",children:["Peso: ",W.peso," kg"]}),o.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-3 w-full",children:[o.jsxs("button",{onClick:()=>U(W),className:"px-4 py-2 bg-blue-700 hover:bg-blue-600 text-white rounded-md font-semibold transition flex items-center gap-2",children:[o.jsx(Iu,{size:18})," Ver Historial"]}),o.jsxs("button",{onClick:()=>xe(W),className:"px-4 py-2 bg-yellow-700 hover:bg-yellow-600 text-white rounded-md font-semibold transition flex items-center gap-2",children:[o.jsx(_n,{size:18})," Editar"]}),o.jsxs("button",{onClick:()=>be(W.id_mascota,W.nombre),className:"px-4 py-2 bg-red-700 hover:bg-red-600 text-white rounded-md font-semibold transition flex items-center gap-2",children:[o.jsx(wr,{size:18})," Eliminar"]})]})]},W.id_mascota)})}),h&&o.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-gray-800 p-8 rounded-lg shadow-2xl w-full max-w-md space-y-6 border border-indigo-700 animate-fade-in",children:[o.jsx("h3",{className:"text-2xl font-bold text-indigo-400 text-center",children:x?"Editar Mascota":"Añadir Nueva Mascota"}),s&&o.jsxs("div",{className:"bg-red-800 text-red-100 px-4 py-3 rounded-md text-sm text-center flex items-center justify-between",children:[o.jsx("span",{children:s}),o.jsx(Ve,{size:20,className:"cursor-pointer",onClick:()=>l(null)})]}),o.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"nombre",className:"block text-sm font-medium text-gray-300 mb-1",children:"Nombre:"}),o.jsx("input",{type:"text",id:"nombre",name:"nombre",value:y.nombre,onChange:ce,className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Nombre de la mascota",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"especie",className:"block text-sm font-medium text-gray-300 mb-1",children:"Especie:"}),o.jsx("input",{type:"text",id:"especie",name:"especie",value:y.especie,onChange:ce,className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Ej. Perro, Gato, Ave",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"raza",className:"block text-sm font-medium text-gray-300 mb-1",children:"Raza (Opcional):"}),o.jsx("input",{type:"text",id:"raza",name:"raza",value:y.raza,onChange:ce,className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Ej. Labrador, Siames"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"edad",className:"block text-sm font-medium text-gray-300 mb-1",children:"Edad (años, opcional):"}),o.jsx("input",{type:"number",id:"edad",name:"edad",value:y.edad,onChange:ce,className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Ej. 3",min:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"peso",className:"block text-sm font-medium text-gray-300 mb-1",children:"Peso (kg, opcional):"}),o.jsx("input",{type:"number",id:"peso",name:"peso",value:y.peso,onChange:ce,className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Ej. 15.5",step:"0.1",min:"0"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-5 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-md font-semibold transition",children:"Cancelar"}),o.jsxs("button",{type:"submit",className:"px-5 py-2 bg-indigo-700 hover:bg-indigo-600 text-white rounded-md font-semibold transition flex items-center gap-2",disabled:d,children:[d?o.jsx(Fe,{className:"animate-spin mr-2",size:20}):null,x?"Guardar Cambios":"Añadir Mascota"]})]})]})]})}),_&&j&&o.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center p-4 z-50 animate-fade-in",children:o.jsxs("div",{className:"bg-gray-800 p-8 rounded-xl shadow-2xl w-full max-w-4xl space-y-6 border border-blue-700 transform scale-100 animate-scale-in overflow-y-auto max-h-[90vh]",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("h3",{className:"text-2xl font-bold text-blue-400 flex items-center gap-2",children:[o.jsx(Iu,{size:24})," Historial Clínico de ",j.nombre]}),o.jsx("button",{onClick:se,className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-full text-white transition",children:o.jsx(Ve,{size:24})})]}),$?o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx(Fe,{className:"animate-spin mr-2 text-blue-400",size:28}),o.jsx("p",{className:"text-xl text-blue-400",children:"Cargando historial..."})]}):Y?o.jsxs("div",{className:"bg-red-800 text-red-100 p-4 rounded-lg text-center border border-red-600",children:[o.jsx(Yt,{size:24,className:"inline-block mr-3"}),o.jsx("span",{children:Y})]}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("section",{className:"bg-gray-700 p-6 rounded-lg border border-gray-600 shadow-sm",children:[o.jsxs("h4",{className:"text-xl text-indigo-300 mb-4 font-semibold flex items-center gap-2",children:[o.jsx(yt,{size:20})," Detalles de ",j.nombre]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-gray-300 text-base",children:[o.jsxs("p",{children:[o.jsx("strong",{className:"text-white",children:"Especie:"})," ",j.especie]}),j.raza&&o.jsxs("p",{children:[o.jsx("strong",{className:"text-white",children:"Raza:"})," ",j.raza]}),j.edad!==null&&o.jsxs("p",{children:[o.jsx("strong",{className:"text-white",children:"Edad:"})," ",j.edad," años"]}),j.peso!==null&&o.jsxs("p",{children:[o.jsx("strong",{className:"text-white",children:"Peso:"})," ",j.peso," kg"]})]})]}),o.jsxs("section",{className:"bg-gray-700 p-6 rounded-lg border border-gray-600 shadow-sm",children:[o.jsxs("h4",{className:"text-xl text-teal-300 mb-4 font-semibold flex items-center gap-2",children:[o.jsx(eT,{size:20})," Prescripciones Médicas"]}),O.length===0?o.jsx("p",{className:"text-gray-400 text-center py-4",children:"No hay prescripciones registradas para esta mascota."}):o.jsx("div",{className:"space-y-4",children:O.map(W=>o.jsxs("div",{className:"bg-gray-600 p-4 rounded-md border border-gray-500 flex flex-col md:flex-row justify-between items-start md:items-center",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-lg font-semibold text-white",children:[W.nombre_medicamento," - ",W.dosis]}),o.jsxs("p",{className:"text-gray-300 text-sm",children:[o.jsx("span",{className:"font-medium",children:"Cantidad Recetada:"})," ",W.cantidad_prescrita," unid."]}),o.jsxs("p",{className:"text-gray-300 text-sm",children:[o.jsx("span",{className:"font-medium",children:"Frecuencia:"})," ",W.frecuencia,W.duracion&&` | Duración: ${W.duracion}`]}),o.jsxs("p",{className:"text-gray-300 text-sm",children:[o.jsx("span",{className:"font-medium",children:"Fecha de prescripción:"})," ",new Date(W.fecha_prescripcion).toLocaleDateString()]}),W.instrucciones_adicionales&&o.jsxs("p",{className:"text-gray-300 text-sm",children:[o.jsx("span",{className:"font-medium",children:"Instrucciones:"})," ",W.instrucciones_adicionales]})]}),o.jsxs("div",{className:"mt-2 md:mt-0 md:ml-4 flex items-center gap-2",children:[o.jsxs("span",{className:`px-3 py-1 text-xs font-semibold rounded-full
                              ${W.stock_status==="En Stock"?"bg-green-600 text-white":""}
                              ${W.stock_status==="Pocas Unidades"?"bg-orange-600 text-white":""}
                              ${W.stock_status==="Agotado"?"bg-red-600 text-white":""}
                              ${W.stock_status==="No Disponible en Clínica"?"bg-gray-500 text-white":""}
                            `,children:[W.stock_status,(W.stock_status==="En Stock"||W.stock_status==="Pocas Unidades")&&` (${W.stock_cantidad} unid.)`]}),(W.stock_status==="Agotado"||W.stock_status==="No Disponible en Clínica")&&o.jsxs("button",{onClick:()=>alert("Para adquirir este medicamento, por favor contacta a la clínica directamente. Tel: 5766 0362"),className:"ml-2 px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm transition flex items-center gap-1",children:[o.jsx(PF,{size:14})," Contactar Clínica"]})]})]},W.id_prescripcion))})]}),o.jsxs("section",{className:"bg-gray-700 p-6 rounded-lg border border-gray-600 shadow-sm",children:[o.jsxs("h4",{className:"text-xl text-yellow-300 mb-4 font-semibold flex items-center gap-2",children:[o.jsx(Du,{size:20})," Registros de Consultas"]}),k.length===0?o.jsx("p",{className:"text-gray-400 text-center py-4",children:"No hay registros de consultas para esta mascota."}):o.jsx("div",{className:"space-y-4",children:k.map(W=>o.jsxs("div",{className:"bg-gray-600 p-4 rounded-md border border-gray-500 shadow-sm",children:[o.jsxs("p",{className:"text-lg font-bold text-white flex items-center gap-2 mb-2",children:[o.jsx(Wn,{size:18})," Fecha: ",new Date(W.fecha_consulta).toLocaleDateString()]}),o.jsxs("p",{className:"mb-2",children:[o.jsx("strong",{className:"text-gray-300",children:"Motivo:"})," ",W.motivo_consulta]}),o.jsxs("p",{className:"mb-2",children:[o.jsx("strong",{className:"text-gray-300",children:"Diagnóstico:"})," ",W.diagnostico]}),o.jsxs("p",{className:"mb-2",children:[o.jsx("strong",{className:"text-gray-300",children:"Tratamiento General:"})," ",W.tratamiento]}),W.observaciones&&o.jsxs("p",{className:"mb-2",children:[o.jsx("strong",{className:"text-gray-300",children:"Observaciones:"})," ",W.observaciones]}),M.filter(I=>I.id_historial===W.id_historial).length>0&&o.jsxs("div",{className:"mt-4 border-t border-gray-500 pt-4",children:[o.jsxs("h6",{className:"text-md font-semibold text-indigo-200 mb-2 flex items-center gap-1",children:[o.jsx(Yl,{size:16})," Tratamientos Específicos:"]}),o.jsx("ul",{className:"list-disc list-inside text-gray-300 space-y-1",children:M.filter(I=>I.id_historial===W.id_historial).map((I,G)=>o.jsxs("li",{children:[o.jsxs("strong",{className:"text-gray-200",children:[I.nombre_tratamiento,":"]})," ",I.descripcion||"Sin descripción"," (",new Date(I.fecha_inicio).toLocaleDateString()," ",I.fecha_fin?` - ${new Date(I.fecha_fin).toLocaleDateString()}`:"",")"]},G))})]})]},W.id_historial))})]})]})]})})]})},Fbe=()=>{var ue,be;const[e,t]=S.useState([]),[r,n]=S.useState([]),[i,a]=S.useState(!0),[s,l]=S.useState(null),[c,u]=S.useState(null),[d,f]=S.useState(!1),[h,m]=S.useState(!1),[x,g]=S.useState(!1),[v,p]=S.useState({id_user:"",nombre:"",email:"",telefono:"",password:"",id_rol:"",especialidad:"",activo:!0}),[y,b]=S.useState(null),[_,w]=S.useState(""),[j,N]=S.useState(""),[k,E]=S.useState(1),M=10,C=S.useCallback(U=>{u(U),l(null),setTimeout(()=>u(null),5e3)},[]),O=S.useCallback(U=>{l(U),u(null),setTimeout(()=>l(null),8e3)},[]),L=S.useCallback(()=>{u(null),l(null)},[]),$=S.useCallback(async()=>{const{data:U,error:se}=await T.from("roles").select("id_rol, nombre").neq("nombre","cliente");se?(console.error("Error fetching roles:",se.message),O("Error al cargar los roles disponibles.")):n(U||[])},[O]),B=S.useCallback(async()=>{a(!0),L();try{const{data:U,error:se}=await T.from("roles").select("id_rol, nombre").in("nombre",["administrador","asistente","veterinario"]);if(se)throw se;const W=U.map(ae=>ae.id_rol),I=new Map(U.map(ae=>[ae.id_rol,ae.nombre])),{data:G,error:ee}=await T.from("user_roles").select("id_user, id_rol").in("id_rol",W);if(ee)throw ee;const de=G.map(ae=>ae.id_user),J=new Map(G.map(ae=>[ae.id_user,ae.id_rol])),{data:A,error:P}=await T.from("users").select("*").in("id_user",de);if(P)throw P;const{data:q,error:oe}=await T.from("veterinarios").select("id_user, especialidad");if(oe)throw oe;const re=new Map(q.map(ae=>[ae.id_user,ae.especialidad])),le=A.map(ae=>{const Se=J.get(ae.id_user)||0,Pe=I.get(Se)||"Desconocido",$e=Pe==="veterinario"?re.get(ae.id_user):null;return{...ae,id_rol:Se,nombre_rol:Pe,especialidad:$e}});t(le)}catch(U){console.error("Error fetching employees:",U.message),O("Error al cargar la lista de empleados: "+U.message)}finally{a(!1)}},[O,L]);S.useEffect(()=>{$(),B();const U=T.channel("public:users").on("postgres_changes",{event:"*",schema:"public",table:"users"},()=>{console.log("Realtime change in public.users"),B()}).subscribe(),se=T.channel("public:user_roles").on("postgres_changes",{event:"*",schema:"public",table:"user_roles"},()=>{console.log("Realtime change in public.user_roles"),B()}).subscribe(),W=T.channel("public:veterinarios").on("postgres_changes",{event:"*",schema:"public",table:"veterinarios"},()=>{console.log("Realtime change in public.veterinarios"),B()}).subscribe();return()=>{T.removeChannel(U),T.removeChannel(se),T.removeChannel(W),console.log("Unsubscribed from employee management channels.")}},[$,B]);const Y=U=>{const{name:se,value:W,type:I}=U.target;if(p(I==="checkbox"?G=>({...G,[se]:U.target.checked}):G=>({...G,[se]:W})),se==="id_rol"){const G=r.find(ee=>ee.id_rol.toString()===W);(G==null?void 0:G.nombre.toLowerCase())!=="veterinario"&&p(ee=>({...ee,especialidad:""}))}},F=()=>{p({id_user:"",nombre:"",email:"",telefono:"",password:"",id_rol:"",especialidad:"",activo:!0}),L(),f(!0)},R=U=>{b(U),p({id_user:U.id_user,nombre:U.nombre,email:U.email,telefono:U.telefono||"",password:"",id_rol:U.id_rol.toString(),especialidad:U.especialidad||"",activo:U.activo}),L(),m(!0)},D=U=>{b(U),L(),g(!0)},X=async U=>{var A;U.preventDefault(),L(),a(!0);const{nombre:se,email:W,telefono:I,password:G,id_rol:ee,especialidad:de}=v;if(!se||!W||!G||!ee){O("Por favor, rellena todos los campos obligatorios: Nombre, Email, Contraseña y Rol."),a(!1);return}const J=(A=r.find(P=>P.id_rol.toString()===ee))==null?void 0:A.nombre.toLowerCase();if(J==="veterinario"&&!de){O("Si el rol es veterinario, la especialidad es obligatoria."),a(!1);return}try{const{data:P,error:q}=await T.auth.admin.createUser({email:W,password:G,email_confirm:!0,user_metadata:{nombre:se,telefono:I,rol_id:ee,rol_nombre:J}});if(q||!(P!=null&&P.user))throw new Error((q==null?void 0:q.message)||"Error al crear usuario en autenticación.");const oe=P.user.id,{error:re}=await T.from("users").insert({id_user:oe,nombre:se,email:W,telefono:I||null,activo:!0,creado_en:new Date().toISOString()});if(re)throw await T.auth.admin.deleteUser(oe),new Error(re.message||"Error al guardar detalles del usuario. Usuario de auth revertido.");const{error:le}=await T.from("user_roles").insert({id_user:oe,id_rol:parseInt(ee)});if(le)throw console.error("Error al asignar rol, limpiando datos parciales..."),await T.from("users").delete().eq("id_user",oe),await T.auth.admin.deleteUser(oe),new Error(le.message||"Error al asignar el rol. Datos parciales revertidos.");if(J==="veterinario"){const{error:ae}=await T.from("veterinarios").insert({id_user:oe,nombre:se,especialidad:de,telefono:I||null,email:W});if(ae){console.warn("Advertencia: Error al insertar en veterinarios. El usuario se creó y se le asignó un rol, pero falta el detalle de veterinario."),O("Empleado creado, pero hubo un error al añadir los detalles de veterinario: "+ae.message),a(!1);return}}C("Empleado agregado exitosamente."),f(!1),B()}catch(P){console.error("Error adding employee:",P.message),O("No se pudo agregar al empleado: "+P.message)}finally{a(!1)}},ne=async U=>{var P;U.preventDefault(),L(),a(!0);const{id_user:se,nombre:W,email:I,telefono:G,id_rol:ee,especialidad:de,activo:J}=v;if(!y){O("No hay empleado seleccionado para editar."),a(!1);return}const A=(P=r.find(q=>q.id_rol.toString()===ee))==null?void 0:P.nombre.toLowerCase();if(A==="veterinario"&&!de){O("Si el rol es veterinario, la especialidad es obligatoria."),a(!1);return}try{const{error:q}=await T.from("users").update({nombre:W,email:I,telefono:G||null,activo:J}).eq("id_user",se);if(q)throw q;if(parseInt(ee)!==y.id_rol){const{error:oe}=await T.from("user_roles").update({id_rol:parseInt(ee)}).eq("id_user",se);if(oe)throw oe}if(A==="veterinario"){const{data:oe,error:re}=await T.from("veterinarios").select("id_veterinario").eq("id_user",se).single();if(re&&re.code!=="PGRST116")throw re;if(oe){const{error:le}=await T.from("veterinarios").update({nombre:W,especialidad:de,telefono:G||null,email:I}).eq("id_user",se);if(le)throw le}else{const{error:le}=await T.from("veterinarios").insert({id_user:se,nombre:W,especialidad:de,telefono:G||null,email:I});if(le)throw le}}else if(y.nombre_rol.toLowerCase()==="veterinario"){const{error:oe}=await T.from("veterinarios").delete().eq("id_user",se);if(oe)throw oe}if(I!==y.email){const{error:oe}=await T.auth.admin.updateUserById(se,{email:I});oe&&(console.warn("Advertencia: Email actualizado en public.users pero no en auth.users:",oe.message),O("Empleado actualizado, pero no se pudo actualizar el email de autenticación: "+oe.message))}C("Empleado actualizado exitosamente."),m(!1),B()}catch(q){console.error("Error updating employee:",q.message),O("No se pudo actualizar al empleado: "+q.message)}finally{a(!1)}},Q=async()=>{if(y){L(),a(!0);try{const U=y.id_user,{error:se}=await T.from("user_roles").delete().eq("id_user",U);if(se)throw se;if(y.nombre_rol.toLowerCase()==="veterinario"){const{error:G}=await T.from("veterinarios").delete().eq("id_user",U);if(G)throw G}const{error:W}=await T.from("users").delete().eq("id_user",U);if(W)throw W;const{error:I}=await T.auth.admin.deleteUser(U);if(I)throw console.error("Error al eliminar usuario de Supabase Auth:",I.message),new Error("Error al eliminar el usuario de autenticación. Es posible que deba eliminarse manualmente en el panel de Supabase.");C("Empleado eliminado exitosamente."),g(!1),b(null),B()}catch(U){console.error("Error deleting employee:",U.message),O("No se pudo eliminar al empleado: "+U.message)}finally{a(!1)}}},K=S.useMemo(()=>e.filter(U=>{var I;const se=_===""||U.nombre.toLowerCase().includes(_.toLowerCase())||U.email.toLowerCase().includes(_.toLowerCase())||((I=U.telefono)==null?void 0:I.toLowerCase().includes(_.toLowerCase())),W=j===""||U.id_rol.toString()===j;return se&&W}),[e,_,j]),ce=Math.ceil(K.length/M),me=S.useMemo(()=>{const U=(k-1)*M,se=U+M;return K.slice(U,se)},[K,k,M]),xe=U=>{U>0&&U<=ce&&E(U)};return i&&e.length===0?o.jsxs("div",{className:"flex items-center justify-center min-h-[60vh] bg-gray-950 text-white font-inter",children:[o.jsx(Fe,{className:"animate-spin mr-3 text-blue-400",size:36}),o.jsx("p",{className:"text-xl text-blue-400",children:"Cargando gestión de empleados..."})]}):o.jsxs("div",{className:"p-6 bg-gray-950 text-white min-h-screen font-inter",children:[o.jsxs("h2",{className:"text-3xl font-extrabold text-indigo-400 text-center mb-8 flex items-center justify-center gap-3",children:[o.jsx(tn,{size:28})," Gestión de Empleados"]}),s&&o.jsxs("div",{className:"bg-red-800 text-red-100 p-4 rounded-lg text-center border border-red-600 mb-6 flex items-center justify-between shadow-md animate-fade-in",children:[o.jsx(Yt,{size:24,className:"flex-shrink-0 mr-3"}),o.jsx("span",{className:"flex-grow",children:s}),o.jsx(Ve,{size:20,className:"cursor-pointer ml-3",onClick:()=>l(null)})]}),c&&o.jsxs("div",{className:"bg-green-800 text-green-100 p-4 rounded-lg text-center border border-green-600 mb-6 flex items-center justify-between shadow-md animate-fade-in",children:[o.jsx(oi,{size:24,className:"flex-shrink-0 mr-3"}),o.jsx("span",{className:"flex-grow",children:c}),o.jsx(Ve,{size:20,className:"cursor-pointer ml-3",onClick:()=>u(null)})]}),o.jsxs("div",{className:"bg-gray-900 p-6 rounded-xl shadow-lg border border-blue-800 mb-8 flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0 md:space-x-4",children:[o.jsxs("div",{className:"relative w-full md:w-1/2",children:[o.jsx(Pp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),o.jsx("input",{type:"text",placeholder:"Buscar por nombre, email o teléfono...",value:_,onChange:U=>{w(U.target.value),E(1)},className:"w-full pl-10 pr-4 py-2.5 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition"})]}),o.jsxs("select",{value:j,onChange:U=>{N(U.target.value),E(1)},className:"w-full md:w-1/4 px-4 py-2.5 bg-gray-800 border border-gray-600 rounded-lg text-white focus:ring-blue-500 focus:border-blue-500 transition",children:[o.jsx("option",{value:"",children:"Todos los roles"}),r.map(U=>o.jsx("option",{value:U.id_rol,children:U.nombre.charAt(0).toUpperCase()+U.nombre.slice(1)},U.id_rol))]}),o.jsxs("button",{onClick:F,className:"w-full md:w-auto px-6 py-2.5 bg-green-700 hover:bg-green-600 rounded-lg text-white font-semibold flex items-center justify-center transition shadow-md",children:[o.jsx(sh,{size:20,className:"mr-2"}),"Agregar Empleado"]})]}),o.jsxs("div",{className:"bg-gray-900 p-6 rounded-xl shadow-lg border border-blue-800",children:[me.length===0&&!i?o.jsx("p",{className:"text-gray-400 text-center py-8",children:"No hay empleados que coincidan con la búsqueda o filtro."}):o.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-700",children:o.jsxs("table",{className:"min-w-full table-auto divide-y divide-gray-700 text-sm",children:[o.jsx("thead",{className:"bg-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tn,{size:14})," Nombre"]})}),o.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:"Email"}),o.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:"Teléfono"}),o.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(SF,{size:14})," Rol"]})}),o.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Yl,{size:14})," Especialidad"]})}),o.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:"Estado"}),o.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-gray-300 font-semibold text-xs uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-gray-900 divide-y divide-gray-700",children:me.map(U=>o.jsxs("tr",{className:"hover:bg-gray-800 transition-colors duration-200",children:[o.jsx("td",{className:"px-4 py-3 font-medium text-white whitespace-nowrap",children:U.nombre}),o.jsx("td",{className:"px-4 py-3 text-gray-300 whitespace-nowrap",children:U.email}),o.jsx("td",{className:"px-4 py-3 text-gray-300 whitespace-nowrap",children:U.telefono||"N/A"}),o.jsx("td",{className:"px-4 py-3 capitalize text-blue-400 whitespace-nowrap",children:U.nombre_rol}),o.jsx("td",{className:"px-4 py-3 text-gray-300 whitespace-nowrap",children:U.especialidad||"N/A"}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:U.activo?o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[o.jsx(oi,{size:12,className:"mr-1"})," Activo"]}):o.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[o.jsx(bF,{size:12,className:"mr-1"})," Inactivo"]})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx("button",{onClick:()=>R(U),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-200",title:"Editar Empleado",children:o.jsx(_n,{size:18})}),o.jsx("button",{onClick:()=>D(U),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-200",title:"Eliminar Empleado",children:o.jsx(wr,{size:18})})]})})]},U.id_user))})]})}),K.length>M&&o.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[o.jsx("button",{onClick:()=>xe(k-1),disabled:k===1||i,className:"p-2 rounded-lg bg-gray-800 hover:bg-gray-700 text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition",children:o.jsx(GA,{size:20})}),o.jsxs("span",{className:"text-gray-300",children:["Página ",k," de ",ce]}),o.jsx("button",{onClick:()=>xe(k+1),disabled:k===ce||i,className:"p-2 rounded-lg bg-gray-800 hover:bg-gray-700 text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition",children:o.jsx(KA,{size:20})})]})]}),d&&o.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center p-4 z-50 animate-fade-in",children:o.jsxs("div",{className:"bg-gray-800 p-8 rounded-xl shadow-2xl w-full max-w-md space-y-6 border border-blue-700 transform scale-100 animate-scale-in",children:[o.jsxs("h3",{className:"text-2xl font-bold text-blue-400 text-center flex items-center justify-center gap-2",children:[o.jsx(sh,{size:24})," Agregar Nuevo Empleado"]}),s&&o.jsx("p",{className:"bg-red-700 text-red-100 p-3 rounded text-sm mb-4",children:s}),o.jsxs("form",{onSubmit:X,className:"space-y-4",children:[o.jsx("input",{name:"nombre",placeholder:"Nombre completo",value:v.nombre,onChange:Y,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition",required:!0}),o.jsx("input",{name:"email",type:"email",placeholder:"Correo electrónico",value:v.email,onChange:Y,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition",required:!0}),o.jsx("input",{name:"telefono",placeholder:"Teléfono (opcional)",value:v.telefono,onChange:Y,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition"}),o.jsx("input",{name:"password",type:"password",placeholder:"Contraseña inicial",value:v.password,onChange:Y,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition",required:!0}),o.jsxs("select",{name:"id_rol",value:v.id_rol,onChange:Y,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-blue-500 focus:border-blue-500 transition",required:!0,children:[o.jsx("option",{value:"",children:"Selecciona el rol"}),r.map(U=>o.jsx("option",{value:U.id_rol,children:U.nombre.charAt(0).toUpperCase()+U.nombre.slice(1)},U.id_rol))]}),((ue=r.find(U=>U.id_rol.toString()===v.id_rol))==null?void 0:ue.nombre.toLowerCase())==="veterinario"&&o.jsx("input",{name:"especialidad",placeholder:"Especialidad del veterinario",value:v.especialidad,onChange:Y,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition",required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-5 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold transition shadow-md",disabled:i,children:"Cancelar"}),o.jsxs("button",{type:"submit",className:"px-6 py-2 bg-indigo-700 hover:bg-indigo-600 text-white rounded-lg font-semibold transition shadow-md flex items-center justify-center",disabled:i,children:[i?o.jsx(Fe,{className:"animate-spin mr-2",size:20}):o.jsx(sh,{size:20,className:"mr-2"}),i?"Creando...":"Crear Empleado"]})]})]})]})}),h&&y&&o.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center p-4 z-50 animate-fade-in",children:o.jsxs("div",{className:"bg-gray-800 p-8 rounded-xl shadow-2xl w-full max-w-md space-y-6 border border-blue-700 transform scale-100 animate-scale-in",children:[o.jsxs("h3",{className:"text-2xl font-bold text-blue-400 text-center flex items-center justify-center gap-2",children:[o.jsx(_n,{size:24})," Editar Empleado"]}),s&&o.jsx("p",{className:"bg-red-700 text-red-100 p-3 rounded text-sm mb-4",children:s}),o.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[o.jsx("input",{name:"nombre",placeholder:"Nombre completo",value:v.nombre,onChange:Y,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition",required:!0}),o.jsx("input",{name:"email",type:"email",placeholder:"Correo electrónico",value:v.email,onChange:Y,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition",required:!0}),o.jsx("input",{name:"telefono",placeholder:"Teléfono (opcional)",value:v.telefono,onChange:Y,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition"}),o.jsxs("select",{name:"id_rol",value:v.id_rol,onChange:Y,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-blue-500 focus:border-blue-500 transition",required:!0,children:[o.jsx("option",{value:"",children:"Selecciona el rol"}),r.map(U=>o.jsx("option",{value:U.id_rol,children:U.nombre.charAt(0).toUpperCase()+U.nombre.slice(1)},U.id_rol))]}),((be=r.find(U=>U.id_rol.toString()===v.id_rol))==null?void 0:be.nombre.toLowerCase())==="veterinario"&&o.jsx("input",{name:"especialidad",placeholder:"Especialidad del veterinario",value:v.especialidad,onChange:Y,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition",required:!0}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"activo",name:"activo",checked:v.activo,onChange:Y,className:"form-checkbox h-5 w-5 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"activo",className:"text-gray-300",children:"Usuario Activo"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-5 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold transition shadow-md",disabled:i,children:"Cancelar"}),o.jsxs("button",{type:"submit",className:"px-6 py-2 bg-blue-700 hover:bg-blue-600 text-white rounded-lg font-semibold transition shadow-md flex items-center justify-center",disabled:i,children:[i?o.jsx(Fe,{className:"animate-spin mr-2",size:20}):o.jsx(_n,{size:20,className:"mr-2"}),i?"Guardando...":"Guardar Cambios"]})]})]})]})}),x&&y&&o.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center p-4 z-50 animate-fade-in",children:o.jsxs("div",{className:"bg-gray-800 p-8 rounded-xl shadow-2xl w-full max-w-md space-y-6 border border-red-700 transform scale-100 animate-scale-in",children:[o.jsxs("h3",{className:"text-2xl font-bold text-red-400 text-center flex items-center justify-center gap-2",children:[o.jsx(wr,{size:24})," Confirmar Eliminación"]}),o.jsxs("p",{className:"text-gray-300 text-center",children:["¿Estás seguro de que quieres eliminar al empleado ",o.jsx("span",{className:"font-semibold text-white",children:y.nombre})," (",y.nombre_rol,")?"]}),o.jsx("p",{className:"text-sm text-gray-400 text-center",children:"Esta acción eliminará permanentemente al usuario de todos los registros del sistema, incluyendo la autenticación."}),s&&o.jsx("p",{className:"bg-red-700 text-red-100 p-3 rounded text-sm mb-4",children:s}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-5 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold transition shadow-md",disabled:i,children:"Cancelar"}),o.jsxs("button",{type:"button",onClick:Q,className:"px-6 py-2 bg-red-700 hover:bg-red-600 text-white rounded-lg font-semibold transition shadow-md flex items-center justify-center",disabled:i,children:[i?o.jsx(Fe,{className:"animate-spin mr-2",size:20}):o.jsx(wr,{size:20,className:"mr-2"}),i?"Eliminando...":"Eliminar"]})]})]})})]})},GE=()=>{const e=dr(),{user:t,loading:r}=gi(),[n,i]=S.useState("Administrador"),[a,s]=S.useState({pendingPublicAppointments:0,totalClients:0,totalPets:0,totalVeterinarios:0,totalCitasConfirmadasHoy:0}),[l,c]=S.useState(!0),u=async()=>{if(!window.confirm("¿Estás seguro de que quieres cerrar tu sesión y regresar a la página principal?"))return;const{error:f}=await T.auth.signOut();f?console.error("Error al cerrar sesión:",f.message):e("/")},d=S.useCallback(async()=>{if(r||!t){c(!1);return}c(!0);try{const{data:f,error:h}=await T.from("users").select("nombre").eq("id_user",t.id).single();h&&h.code!=="PGRST116"?console.error("Error al obtener el nombre del usuario:",h.message):f&&i(f.nombre||"Administrador");const{count:m,error:x}=await T.from("citas_publicas").select("*",{count:"exact",head:!0}).eq("estado","pendiente");if(x)throw x;const{count:g,error:v}=await T.from("clientes").select("*",{count:"exact",head:!0});if(v)throw v;const{count:p,error:y}=await T.from("mascotas").select("*",{count:"exact",head:!0});if(y)throw y;const{count:b,error:_}=await T.from("veterinarios").select("*",{count:"exact",head:!0});if(_)throw _;const w=new Date,j=new Date(w.getFullYear(),w.getMonth(),w.getDate(),0,0,0).toISOString(),N=new Date(w.getFullYear(),w.getMonth(),w.getDate(),23,59,59).toISOString(),{count:k,error:E}=await T.from("citas").select("*",{count:"exact",head:!0}).eq("estado","confirmada").gte("fecha",j).lte("fecha",N);if(E)throw E;s({pendingPublicAppointments:m||0,totalClients:g||0,totalPets:p||0,totalVeterinarios:b||0,totalCitasConfirmadasHoy:k||0})}catch(f){console.error("Error al cargar datos del admin o métricas:",f.message)}finally{c(!1)}},[t,r]);return S.useEffect(()=>{d()},[d]),o.jsxs("div",{className:"flex min-h-screen bg-gray-950 text-white font-inter",children:[o.jsxs("aside",{className:"w-64 bg-gray-900 p-6 flex flex-col justify-between shadow-lg border-r border-gray-800",children:[o.jsxs("div",{children:[o.jsx("div",{onClick:u,className:"cursor-pointer block text-3xl font-extrabold tracking-tight mb-10 text-blue-400 hover:text-blue-300 transition-colors duration-200",role:"button","aria-label":"Regresar a la página principal y cerrar sesión",children:"Max's Groomer"}),o.jsxs("nav",{className:"flex flex-col gap-3 text-lg",children:[" ",o.jsxs(Xr,{to:"/admin-dashboard",end:!0,className:({isActive:f})=>`flex items-center p-3 rounded-md transition-colors duration-200 ease-in-out 
                ${f?"bg-indigo-700 text-white shadow-inner font-semibold":"hover:bg-gray-800 text-gray-300"}`,children:[o.jsx(ZA,{size:20,className:"mr-3"})," Panel"]}),o.jsxs(Xr,{to:"/admin-dashboard/agregar-usuario",className:({isActive:f})=>`flex items-center p-3 rounded-md transition-colors duration-200 ease-in-out 
                ${f?"bg-indigo-700 text-white shadow-inner font-semibold":"hover:bg-gray-800 text-gray-300"}`,children:[o.jsx(sh,{size:20,className:"mr-3"})," Gestion de empleados"]}),o.jsxs(Xr,{to:"/admin-dashboard/admin-citas-module",className:({isActive:f})=>`flex items-center p-3 rounded-md transition-colors duration-200 ease-in-out 
                ${f?"bg-indigo-700 text-white shadow-inner font-semibold":"hover:bg-gray-800 text-gray-300"}`,children:[o.jsx(Wn,{size:20,className:"mr-3"})," Gestión de Citas"]}),o.jsxs(Xr,{to:"/admin-dashboard/gestion-mascotas",className:({isActive:f})=>`flex items-center p-3 rounded-md transition-colors duration-200 ease-in-out 
                ${f?"bg-indigo-700 text-white shadow-inner font-semibold":"hover:bg-gray-800 text-gray-300"}`,children:[o.jsx(yt,{size:20,className:"mr-3"})," Gestión de Mascotas"]}),o.jsxs(Xr,{to:"/admin-dashboard/inventario",className:({isActive:f})=>`flex items-center p-3 rounded-md transition-colors duration-200 ease-in-out 
                ${f?"bg-indigo-700 text-white shadow-inner font-semibold":"hover:bg-gray-800 text-gray-300"}`,children:[o.jsx(hl,{size:20,className:"mr-3"})," Inventario"]}),o.jsxs(Xr,{to:"/admin-dashboard/proveedores-compras",className:({isActive:f})=>`flex items-center p-3 rounded-md transition-colors duration-200 ease-in-out 
                ${f?"bg-indigo-700 text-white shadow-inner font-semibold":"hover:bg-gray-800 text-gray-300"}`,children:[o.jsx(Is,{size:20,className:"mr-3"})," Proveedores"]}),o.jsxs(Xr,{to:"/admin-dashboard/historial-clinico",className:({isActive:f})=>`flex items-center p-3 rounded-md transition-colors duration-200 ease-in-out 
                ${f?"bg-indigo-700 text-white shadow-inner font-semibold":"hover:bg-gray-800 text-gray-300"}`,children:[o.jsx(Iu,{size:20,className:"mr-3"})," Historial Clínico"]})]})]}),o.jsx("div",{className:"mt-auto pt-6 border-t border-gray-700",children:o.jsxs("button",{onClick:u,className:"flex items-center w-full p-3 rounded-md text-red-400 hover:bg-red-500 hover:text-white transition-colors duration-200 ease-in-out font-semibold shadow-sm",children:[o.jsx(Dw,{size:20,className:"mr-3"})," Cerrar Sesión"]})})]}),o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsxs("section",{className:"relative h-64 text-white flex flex-col items-center justify-center text-center p-6",style:{backgroundImage:`url(${Y1})`,backgroundSize:"cover",backgroundPosition:"center"},children:[o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60"}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("h2",{className:"text-4xl font-bold mb-2 drop-shadow-lg",children:["¡Hola, ",n,"!"]}),o.jsx("p",{className:"text-lg text-gray-200 drop-shadow",children:"Bienvenido al Panel Administrativo de Max's Groomer"})]})]}),o.jsx("section",{className:"bg-gray-950 p-6 -mt-8 relative z-20",children:l?o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx(Fe,{className:"animate-spin mr-2 text-blue-400",size:28}),o.jsx("p",{className:"text-xl text-blue-400",children:"Cargando métricas..."})]}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:[o.jsxs("div",{className:"bg-gray-800 p-5 rounded-lg shadow-xl border border-blue-700 flex items-center justify-between transition-transform transform hover:scale-105",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-1",children:"Solicitudes Pendientes"}),o.jsx("p",{className:"text-4xl font-bold text-yellow-400",children:a.pendingPublicAppointments})]}),o.jsx(Cp,{size:48,className:"text-yellow-600 opacity-30"})]}),o.jsxs("div",{className:"bg-gray-800 p-5 rounded-lg shadow-xl border border-blue-700 flex items-center justify-between transition-transform transform hover:scale-105",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-1",children:"Citas Confirmadas Hoy"}),o.jsx("p",{className:"text-4xl font-bold text-green-400",children:a.totalCitasConfirmadasHoy})]}),o.jsx(Wn,{size:48,className:"text-green-600 opacity-30"})]}),o.jsxs("div",{className:"bg-gray-800 p-5 rounded-lg shadow-xl border border-blue-700 flex items-center justify-between transition-transform transform hover:scale-105",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-1",children:"Total Clientes"}),o.jsx("p",{className:"text-4xl font-bold text-blue-400",children:a.totalClients})]}),o.jsx(Iw,{size:48,className:"text-blue-600 opacity-30"})]}),o.jsxs("div",{className:"bg-gray-800 p-5 rounded-lg shadow-xl border border-blue-700 flex items-center justify-between transition-transform transform hover:scale-105",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-1",children:"Total Mascotas"}),o.jsx("p",{className:"text-4xl font-bold text-purple-400",children:a.totalPets})]}),o.jsx(yt,{size:48,className:"text-purple-600 opacity-30"})]}),o.jsxs("div",{className:"bg-gray-800 p-5 rounded-lg shadow-xl border border-blue-700 flex items-center justify-between transition-transform transform hover:scale-105",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-1",children:"Total Veterinarios"}),o.jsx("p",{className:"text-4xl font-bold text-teal-400",children:a.totalVeterinarios})]}),o.jsx(Yl,{size:48,className:"text-teal-600 opacity-30"})]})]})}),o.jsx("main",{className:"flex-1 bg-gray-950 text-white p-6 pt-0",children:o.jsx(Cw,{})})]})]})},Ube=()=>{const e=dr(),[t,r]=S.useState([]),[n,i]=S.useState(""),[a,s]=S.useState(!0),[l,c]=S.useState(null),[u,d]=S.useState(!1),[f,h]=S.useState(null),m=S.useCallback(async()=>{s(!0),c(null);try{const{data:p,error:y}=await T.from("users").select("id_user, nombre, email, telefono, creado_en");if(y)throw y;const{data:b,error:_}=await T.from("user_roles").select(`
          id_user,
          roles (nombre)
        `);if(_)throw _;const w=new Map;b==null||b.forEach(D=>{let X=null;Array.isArray(D.roles)&&D.roles.length>0?X=D.roles[0].nombre:D.roles&&typeof D.roles=="object"&&"nombre"in D.roles&&(X=D.roles.nombre),w.set(D.id_user,X||"Sin rol")});const{data:j,error:N}=await T.from("veterinarios").select("id_veterinario, id_user, especialidad");if(N)throw N;const k=new Map;j==null||j.forEach(D=>{D.id_user&&k.set(D.id_user,{id_veterinario:D.id_veterinario,especialidad:D.especialidad})});const{data:E,error:M}=await T.from("clientes").select("id_cliente, id_user");if(M)throw M;const C=new Map;E==null||E.forEach(D=>{D.id_user&&C.set(D.id_user,{id_cliente_db:D.id_cliente})});const{data:O,error:L}=await T.from("citas").select("id_veterinario");if(L)throw L;const $=new Map;O==null||O.forEach(D=>{D.id_veterinario&&$.set(D.id_veterinario,($.get(D.id_veterinario)||0)+1)});const{data:B,error:Y}=await T.from("mascotas").select("id_cliente");if(Y)throw Y;const F=new Map;B==null||B.forEach(D=>{D.id_cliente&&F.set(D.id_cliente,(F.get(D.id_cliente)||0)+1)});const R=p.map(D=>{const X=w.get(D.id_user)||"Sin rol",ne={id_user:D.id_user,nombre:D.nombre,email:D.email,telefono:D.telefono,creado_en:D.creado_en,rol:X};if(X.toLowerCase()==="veterinario"){const Q=k.get(D.id_user);Q&&(ne.veterinarioInfo={id_veterinario:Q.id_veterinario,especialidad:Q.especialidad,totalCitasAsignadas:$.get(Q.id_veterinario)||0})}else if(X.toLowerCase()==="cliente"){const Q=C.get(D.id_user);Q&&(ne.clienteInfo={id_cliente_db:Q.id_cliente_db,totalMascotasRegistradas:F.get(Q.id_cliente_db)||0})}return ne});r(R)}catch(p){console.error("Error al cargar usuarios:",p.message),c("Error al cargar la lista de usuarios: "+p.message)}finally{s(!1)}},[]);S.useEffect(()=>{m();const p=T.channel("users_changes").on("postgres_changes",{event:"*",schema:"public",table:"users"},()=>m()).subscribe(),y=T.channel("user_roles_changes").on("postgres_changes",{event:"*",schema:"public",table:"user_roles"},()=>m()).subscribe(),b=T.channel("roles_changes").on("postgres_changes",{event:"*",schema:"public",table:"roles"},()=>m()).subscribe(),_=T.channel("veterinarios_changes").on("postgres_changes",{event:"*",schema:"public",table:"veterinarios"},()=>m()).subscribe(),w=T.channel("clientes_changes").on("postgres_changes",{event:"*",schema:"public",table:"clientes"},()=>m()).subscribe(),j=T.channel("citas_changes").on("postgres_changes",{event:"*",schema:"public",table:"citas"},()=>m()).subscribe(),N=T.channel("mascotas_changes").on("postgres_changes",{event:"*",schema:"public",table:"mascotas"},()=>m()).subscribe();return()=>{T.removeChannel(p),T.removeChannel(y),T.removeChannel(b),T.removeChannel(_),T.removeChannel(w),T.removeChannel(j),T.removeChannel(N),console.log("Unsubscribed from all user-related channels.")}},[m]);const x=n?t.filter(p=>p.rol.toLowerCase()===n.toLowerCase()):t,g=p=>{h(p),d(!0)},v=()=>{h(null),d(!1)};return a?o.jsxs("div",{className:"flex items-center justify-center min-h-[60vh] bg-gray-950 text-white",children:[o.jsx(Fe,{className:"animate-spin mr-3 text-blue-400",size:36}),o.jsx("p",{className:"text-xl text-blue-400",children:"Cargando usuarios y roles..."})]}):o.jsxs("div",{className:"p-6 bg-gray-950 text-white min-h-screen font-inter",children:[o.jsxs("h2",{className:"text-3xl font-extrabold text-blue-400 mb-8 flex items-center gap-3",children:[o.jsx(Iw,{size:28})," Gestión de Usuarios del Sistema"]}),l&&o.jsxs("div",{className:"bg-red-800 text-red-100 p-4 rounded-lg text-center border border-red-600 mb-6 flex items-center justify-between shadow-md animate-fade-in",children:[o.jsx(Yt,{size:24,className:"flex-shrink-0 mr-3"}),o.jsx("span",{className:"flex-grow",children:l}),o.jsx(Ve,{size:20,className:"cursor-pointer ml-3",onClick:()=>c(null)})]}),o.jsxs("div",{className:"mb-6 flex items-center gap-4 bg-gray-900 p-4 rounded-lg shadow-lg border border-blue-800",children:[o.jsx("label",{htmlFor:"filtroRol",className:"text-lg font-medium text-gray-300",children:"Filtrar por Rol:"}),o.jsxs("select",{id:"filtroRol",className:"bg-gray-800 text-white border border-gray-600 px-4 py-2 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition",value:n,onChange:p=>i(p.target.value),children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"admin",children:"Administradores"}),o.jsx("option",{value:"veterinario",children:"Veterinarios"}),o.jsx("option",{value:"asistente",children:"Asistentes"}),o.jsx("option",{value:"cliente",children:"Clientes"})]}),o.jsxs("button",{onClick:()=>e("/admin-dashboard/agregar-usuario"),className:"ml-auto px-5 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold transition shadow-md flex items-center gap-2",title:"Agregar Nuevo Usuario",children:[o.jsx(tn,{size:20})," Agregar Usuario"]})]}),o.jsxs("div",{className:"bg-gray-900 p-6 rounded-xl shadow-lg border border-blue-800",children:[o.jsxs("h3",{className:"text-2xl font-bold text-blue-400 mb-5 flex items-center gap-2",children:[o.jsx(Ov,{size:22})," Listado Detallado"]}),x.length===0?o.jsx("p",{className:"text-gray-400 text-center py-4",children:"No hay usuarios registrados con este filtro."}):o.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-700",children:o.jsxs("table",{className:"min-w-full table-auto divide-y divide-gray-700 text-sm",children:[o.jsx("thead",{className:"bg-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tn,{size:14}),"Nombre"]})}),o.jsx("th",{className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(CF,{size:14}),"Correo"]})}),o.jsx("th",{className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(OF,{size:14}),"Teléfono"]})}),o.jsx("th",{className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Op,{size:14}),"Rol"]})}),o.jsx("th",{className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Wn,{size:14}),"Creado El"]})}),o.jsx("th",{className:"px-4 py-3 text-right text-gray-300 font-semibold text-xs uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-gray-900 divide-y divide-gray-700",children:x.map(p=>o.jsxs("tr",{className:"hover:bg-gray-800 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:p.nombre}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:p.email}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:p.telefono||"N/A"}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:o.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full capitalize
                        ${p.rol.toLowerCase()==="admin"?"bg-purple-600 text-purple-100":p.rol.toLowerCase()==="veterinario"?"bg-blue-600 text-blue-100":p.rol.toLowerCase()==="asistente"?"bg-teal-600 text-teal-100":p.rol.toLowerCase()==="cliente"?"bg-green-600 text-green-100":"bg-gray-600 text-gray-200"}`,children:p.rol})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:new Date(p.creado_en).toLocaleDateString("es-ES")}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:o.jsx("button",{onClick:()=>g(p),className:"text-indigo-400 hover:text-indigo-600 p-2 rounded-md transition-colors",title:"Ver Detalles",children:o.jsx(Ov,{size:16})})})]},p.id_user))})]})})]}),u&&f&&o.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center p-4 z-50 animate-fade-in",children:o.jsxs("div",{className:"bg-gray-800 p-8 rounded-xl shadow-2xl w-full max-w-lg space-y-6 border border-blue-700 transform scale-100 animate-scale-in",children:[o.jsxs("h3",{className:"text-2xl font-bold text-blue-400 text-center flex items-center justify-center gap-2",children:[o.jsx(tn,{size:24})," Detalles de ",f.nombre]}),o.jsxs("div",{className:"text-gray-300 space-y-3",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold text-white",children:"Email:"})," ",f.email]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold text-white",children:"Teléfono:"})," ",f.telefono||"N/A"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold text-white",children:"Rol:"})," ",o.jsx("span",{className:"capitalize",children:f.rol})]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold text-white",children:"Fecha de Creación:"})," ",new Date(f.creado_en).toLocaleDateString("es-ES")]}),f.rol.toLowerCase()==="veterinario"&&f.veterinarioInfo&&o.jsxs("div",{className:"bg-gray-700 p-4 rounded-md border border-gray-600 mt-4 space-y-2",children:[o.jsxs("h4",{className:"text-lg font-bold text-indigo-300 flex items-center gap-2",children:[o.jsx(Yl,{size:18})," Información de Veterinario:"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold text-white",children:"ID Veterinario:"})," ",f.veterinarioInfo.id_veterinario]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold text-white",children:"Especialidad:"})," ",f.veterinarioInfo.especialidad||"No especificado"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold text-white",children:"Citas Asignadas:"})," ",f.veterinarioInfo.totalCitasAsignadas]})]}),f.rol.toLowerCase()==="cliente"&&f.clienteInfo&&o.jsxs("div",{className:"bg-gray-700 p-4 rounded-md border border-gray-600 mt-4 space-y-2",children:[o.jsxs("h4",{className:"text-lg font-bold text-indigo-300 flex items-center gap-2",children:[o.jsx(yt,{size:18})," Información de Cliente:"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold text-white",children:"ID Cliente (DB):"})," ",f.clienteInfo.id_cliente_db]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold text-white",children:"Mascotas Registradas:"})," ",f.clienteInfo.totalMascotasRegistradas]})]})]}),o.jsx("div",{className:"flex justify-center mt-6",children:o.jsx("button",{onClick:v,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition shadow-md",children:"Cerrar"})})]})})]})},Bbe=()=>{const[e,t]=S.useState([]);S.useEffect(()=>{(async()=>{const{data:a,error:s}=await T.from("mascotas").select("*");s?console.error("Error al obtener mascotas:",s):t(a)})()},[]);const r=i=>{console.log("Editar mascota con ID:",i)},n=async i=>{const{error:a}=await T.from("mascotas").delete().eq("id_mascota",i);a?console.error("Error al eliminar mascota:",a):t(e.filter(s=>s.id_mascota!==i))};return o.jsxs("div",{className:"p-6 bg-gray-900 text-white rounded-lg shadow",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-indigo-400",children:"Gestión de Mascotas"}),o.jsxs("table",{className:"min-w-full bg-gray-800 rounded-lg overflow-hidden",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left",children:"Nombre"}),o.jsx("th",{className:"px-4 py-2 text-left",children:"Especie"}),o.jsx("th",{className:"px-4 py-2 text-left",children:"Raza"}),o.jsx("th",{className:"px-4 py-2 text-left",children:"Edad"}),o.jsx("th",{className:"px-4 py-2 text-left",children:"Peso"}),o.jsx("th",{className:"px-4 py-2 text-left",children:"Acciones"})]})}),o.jsx("tbody",{children:e.map(i=>o.jsxs("tr",{className:"border-b border-gray-700",children:[o.jsx("td",{className:"px-4 py-2",children:i.nombre}),o.jsx("td",{className:"px-4 py-2",children:i.especie}),o.jsx("td",{className:"px-4 py-2",children:i.raza}),o.jsx("td",{className:"px-4 py-2",children:i.edad}),o.jsx("td",{className:"px-4 py-2",children:i.peso}),o.jsxs("td",{className:"px-4 py-2 flex space-x-2",children:[o.jsx("button",{onClick:()=>r(i.id_mascota),className:"text-indigo-400 hover:text-indigo-600",children:o.jsx(Ep,{})}),o.jsx("button",{onClick:()=>n(i.id_mascota),className:"text-red-400 hover:text-red-600",children:o.jsx(wr,{})})]})]},i.id_mascota))})]})]})},Hf={nombre:"",especie:"",raza:"",edad:null,peso:null,id_cliente:null},jy=()=>{const[e,t]=S.useState([]),[r,n]=S.useState([]),[i,a]=S.useState(null),[s,l]=S.useState(Hf),[c,u]=S.useState(!0),[d,f]=S.useState(!1),[h,m]=S.useState(null),[x,g]=S.useState(null),[v,p]=S.useState(!1),[y,b]=S.useState(null),_=S.useCallback(async()=>{u(!0),m(null),g(null);try{const{data:C,error:O}=await T.from("mascotas").select("*").order("nombre",{ascending:!0}),{data:L,error:$}=await T.from("clientes").select("id_cliente, nombre").order("nombre",{ascending:!0});if(O)throw O;if($)throw $;t(C||[]),n(L||[])}catch(C){console.error("Error al cargar datos:",C.message),m("Error al cargar la información: "+C.message)}finally{u(!1)}},[]);S.useEffect(()=>(_(),()=>{}),[_]);const w=C=>{const{name:O,value:L}=C.target;l($=>{let B=L;return O==="edad"?(B=L===""?null:parseInt(L,10),isNaN(B)&&(B=null)):O==="peso"?(B=L===""?null:parseFloat(L),isNaN(B)&&(B=null)):O==="id_cliente"?(B=L==="0"?null:parseInt(L,10),isNaN(B)&&(B=null)):O==="raza"&&L.trim()===""&&(B=null),{...$,[O]:B}})},j=C=>{a(C),l({nombre:C.nombre,especie:C.especie,raza:C.raza||"",edad:C.edad,peso:C.peso,id_cliente:C.id_cliente}),m(null),g(null)},N=()=>{a(null),l(Hf),m(null),g(null)},k=C=>{b(C),p(!0)},E=async()=>{if(y!==null){m(null),g(null),f(!0);try{const{error:C}=await T.from("mascotas").delete().eq("id_mascota",y);if(C)throw C;g("Mascota eliminada correctamente."),_()}catch(C){console.error("Error al eliminar mascota:",C.message),m("Error al eliminar la mascota: "+C.message)}finally{f(!1),p(!1),b(null)}}},M=async C=>{var L;C.preventDefault(),m(null),g(null),f(!0);const O={nombre:s.nombre.trim(),especie:s.especie.trim(),raza:((L=s.raza)==null?void 0:L.trim())||null,edad:s.edad,peso:s.peso,id_cliente:s.id_cliente};if(!O.nombre||!O.especie){m("Los campos Nombre y Especie son obligatorios."),f(!1);return}O.id_cliente===0&&(O.id_cliente=null);try{if(i){const{error:$}=await T.from("mascotas").update(O).eq("id_mascota",i.id_mascota);if($)throw $;g("Mascota actualizada correctamente."),a(null),l(Hf),_()}else{const{error:$}=await T.from("mascotas").insert([O]);if($)throw $;g("Mascota agregada correctamente."),l(Hf),_()}}catch($){console.error("Error al guardar mascota:",$.message),m("Error al guardar la mascota: "+$.message)}finally{f(!1)}};return c?o.jsxs("div",{className:"flex items-center justify-center min-h-[60vh] bg-gray-900 text-white",children:[o.jsx(Fe,{className:"animate-spin mr-2 text-indigo-400",size:32}),o.jsx("p",{className:"text-xl text-indigo-400",children:"Cargando datos de mascotas..."})]}):o.jsxs("div",{className:"p-6 bg-gray-950 text-white rounded-lg shadow-xl space-y-8 font-inter",children:[o.jsxs("h2",{className:"text-3xl font-extrabold text-blue-400 mb-8 flex items-center gap-3",children:[o.jsx(yt,{size:28})," Gestión de Mascotas"]}),h&&o.jsxs("div",{className:`bg-red-800 text-red-100 p-4 rounded-lg text-center\r
          border border-red-600 mb-6 flex items-center justify-between shadow-md animate-fade-in`,children:[o.jsx(Yt,{size:24,className:"flex-shrink-0 mr-3"}),o.jsx("span",{className:"flex-grow",children:h}),o.jsx(Ve,{size:20,className:"cursor-pointer ml-3",onClick:()=>m(null)})]}),x&&o.jsxs("div",{className:`bg-green-800 text-green-100 p-4 rounded-lg text-\r
          center border border-green-600 mb-6 flex items-center justify-between\r
          shadow-md animate-fade-in`,children:[o.jsx(oi,{size:24,className:"flex-shrink-0 mr-3"}),o.jsx("span",{className:"flex-grow",children:x}),o.jsx(Ve,{size:20,className:"cursor-pointer ml-3",onClick:()=>g(null)})]}),o.jsxs("div",{className:"bg-gray-900 p-6 rounded-xl shadow-lg border border-blue-800",children:[o.jsxs("h3",{className:"text-2xl font-bold text-indigo-400 mb-5 flex items-center gap-2",children:[o.jsx(Wt,{size:22})," ",i?"Editar Mascota":"Agregar Nueva Mascota"]}),o.jsxs("form",{onSubmit:M,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 text-base",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"nombre",className:"block mb-1 text-gray-300",children:"Nombre"}),o.jsx("input",{id:"nombre",name:"nombre",value:s.nombre,onChange:w,className:`w-full p-2.5 bg-gray-700 border border-gray-600\r
                rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition`,placeholder:"Nombre de la mascota",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"especie",className:"block mb-1 text-gray-300",children:"Especie"}),o.jsx("input",{id:"especie",name:"especie",value:s.especie,onChange:w,className:`w-full p-2.5 bg-gray-700 border border-gray-600\r
                rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition`,placeholder:"Ej: Perro, Gato",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"raza",className:"block mb-1 text-gray-300",children:"Raza (Opcional)"}),o.jsx("input",{id:"raza",name:"raza",value:s.raza||"",onChange:w,className:`w-full p-2.5 bg-gray-700 border border-gray-600\r
                rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition`,placeholder:"Ej: Labrador, Siames"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"edad",className:"block mb-1 text-gray-300",children:"Edad (años, Opcional)"}),o.jsx("input",{id:"edad",name:"edad",type:"number",value:s.edad??"",onChange:w,className:`w-full p-2.5 bg-gray-700 border border-gray-600\r
                rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition`,placeholder:"Ej: 3",min:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"peso",className:"block mb-1 text-gray-300",children:"Peso (kg, Opcional)"}),o.jsx("input",{id:"peso",name:"peso",type:"number",step:"0.01",value:s.peso??"",onChange:w,className:`w-full p-2.5 bg-gray-700 border border-gray-600\r
                rounded-lg text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 transition`,placeholder:"Ej: 5.2",min:"0"})]}),o.jsxs("div",{className:"lg:col-span-3",children:[" ",o.jsx("label",{htmlFor:"id_cliente",className:"block mb-1 text-gray-300",children:"Cliente (Asignar a, Opcional)"}),o.jsxs("select",{id:"id_cliente",name:"id_cliente",value:s.id_cliente??0,onChange:w,className:`w-full p-2.5 bg-gray-700 border border-gray-600\r
                rounded-lg text-white focus:ring-blue-500 focus:border-blue-500 transition`,children:[o.jsx("option",{value:0,children:"-- Sin asignar cliente (invitado) --"}),r.map(C=>o.jsxs("option",{value:C.id_cliente,children:[C.nombre," (ID: ",C.id_cliente,")"]},C.id_cliente))]})]}),o.jsxs("div",{className:"col-span-1 md:col-span-2 lg:col-span-3 flex justify-end space-x-3 mt-4",children:[i&&o.jsx("button",{type:"button",onClick:N,className:"px-5 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold transition shadow-md",children:"Cancelar Edición"}),o.jsx("button",{type:"submit",className:`px-6 py-2 bg-indigo-700 hover:bg-indigo-600 text-white rounded-lg font-semibold transition shadow-md flex items-center\r
                justify-center`,disabled:d,children:d?o.jsxs(o.Fragment,{children:[o.jsx(Fe,{className:"animate-spin mr-2",size:20}),"Guardando..."]}):i?"Actualizar Mascota":"Agregar Mascota"})]})]})]}),o.jsxs("div",{className:"bg-gray-900 p-6 rounded-xl shadow-lg border border-blue-800",children:[o.jsx("h3",{className:"text-2xl font-bold text-blue-400 mb-5 flex items-center gap-2",children:"Listado de Mascotas"}),o.jsx("div",{className:"mb-4 text-right",children:o.jsxs("button",{onClick:_,className:"px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 transition shadow-md flex items-center justify-end ml-auto",disabled:c,children:[c?o.jsx(Fe,{className:"animate-spin mr-2",size:18}):o.jsx(tT,{className:"mr-2",size:18}),"Actualizar Tabla"]})}),e.length===0?o.jsx("p",{className:"text-gray-400 text-center py-4",children:"No hay mascotas registradas."}):o.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-700",children:o.jsxs("table",{className:"min-w-full table-auto divide-y divide-gray-700 text-sm",children:[o.jsx("thead",{className:"bg-gray-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(yt,{size:14}),"Nombre"]})}),o.jsx("th",{className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Op,{size:14}),"Especie"]})}),o.jsx("th",{className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:"Raza"}),o.jsx("th",{className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Fi,{size:14}),"Edad"]})}),o.jsx("th",{className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(LF,{size:14}),"Peso (kg)"]})}),o.jsx("th",{className:"px-4 py-3 text-left text-gray-300 font-semibold text-xs uppercase tracking-wider",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tn,{size:14}),"Cliente Asignado"]})}),o.jsx("th",{className:"px-4 py-3 text-right text-gray-300 font-semibold text-xs uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-gray-900 divide-y divide-gray-700",children:e.map(C=>{var O;return o.jsxs("tr",{className:"hover:bg-gray-800 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:C.nombre}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:C.especie}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:C.raza||"N/A"}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:C.edad??"N/A"}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:C.peso??"N/A"}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:C.id_cliente?((O=r.find(L=>L.id_cliente===C.id_cliente))==null?void 0:O.nombre)||"Cliente Desconocido":"No Asignado"}),o.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-right space-x-2",children:[o.jsx("button",{onClick:()=>j(C),className:"text-blue-400 hover:text-blue-500 p-2 rounded-md transition-colors",title:"Editar Mascota",children:o.jsx(Ep,{size:16})}),o.jsx("button",{onClick:()=>k(C.id_mascota),className:"text-red-400 hover:text-red-500 p-2 rounded-md transition-colors",title:"Eliminar Mascota",children:o.jsx(wr,{size:16})})]})]},C.id_mascota)})})]})})]}),v&&o.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center p-4 z-50 animate-fade-in",children:o.jsxs("div",{className:"bg-gray-800 p-8 rounded-xl shadow-2xl w-full max-w-sm space-y-6 border border-red-700 transform scale-100 animate-scale-in",children:[o.jsxs("h3",{className:`text-2xl font-bold text-red-400 text-center flex\r
              items-center justify-center gap-2`,children:[o.jsx(Yt,{size:24})," Confirmar Eliminación"]}),o.jsx("p",{className:"text-gray-300 text-center",children:"¿Estás seguro de que quieres eliminar esta mascota? Esta acción no se puede deshacer."}),o.jsxs("div",{className:"flex justify-center space-x-4 mt-6",children:[o.jsx("button",{onClick:()=>p(!1),className:"px-5 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold transition shadow-md",disabled:d,children:"Cancelar"}),o.jsx("button",{onClick:E,className:`px-6 py-2 bg-red-700 hover:bg-red-600 text-white\r
                  rounded-lg font-semibold transition shadow-md flex items-center justify-center`,disabled:d,children:d?o.jsxs(o.Fragment,{children:[o.jsx(Fe,{className:"animate-spin mr-2",size:20}),"Eliminando..."]}):"Eliminar"})]})]})})]})},Sy=15,KE=["09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00"],Vbe=()=>{const[e,t]=S.useState({nombre:"",email:"",telefono:"",fecha:"",motivo:"",nombre_mascota:"",recordatorio:!1,hora:""}),[r,n]=S.useState(null),[i,a]=S.useState(null),[s,l]=S.useState([]),[c,u]=S.useState(!1);dr();const d=()=>new Date().toISOString().split("T")[0],f=g=>{if(!g)return!1;const p=new Date(g).getDay();return p>=1&&p<=6},h=S.useCallback(async g=>{if(!g)return[];u(!0),a(null);const v=`${g}T00:00:00`,p=`${g}T23:59:59`,{data:y,error:b}=await T.from("citas_publicas").select("fecha").gte("fecha",v).lt("fecha",p);return u(!1),b?(console.error("Error al obtener solicitudes de citas existentes:",b),a("Error al cargar la disponibilidad de solicitudes. Por favor, intenta de nuevo más tarde."),[]):y.map(w=>new Date(w.fecha).toTimeString().substring(0,5))},[]);S.useEffect(()=>{(async()=>{if(!e.fecha){l([]),t(N=>({...N,hora:""}));return}if(f(e.fecha))a(null);else{l([]),a("Lo sentimos, las solicitudes de citas públicas solo están disponibles de lunes a sábado."),t(N=>({...N,hora:""}));return}const v=await h(e.fecha);if(v.length>=Sy){l([]),a(`No hay más solicitudes de citas disponibles para el ${e.fecha}. Se ha alcanzado el límite diario de solicitudes (${Sy}).`),t(N=>({...N,hora:""}));return}else a(null);const y=new Set(v),b=new Date,_=new Date(e.fecha),w=_.toDateString()===b.toDateString(),j=KE.filter(N=>{const[k,E]=N.split(":").map(Number),M=new Date(_);return M.setHours(k,E,0,0),w&&M<=b?!1:!y.has(N)});l(j),j.includes(e.hora)||t(N=>({...N,hora:j.length>0?j[0]:""}))})()},[e.fecha,h,e.hora]);const m=g=>{const{name:v,value:p,type:y}=g.target,b=y==="checkbox",_=b?g.target.checked:void 0;t(w=>({...w,[v]:b?_:p}))},x=async g=>{if(g.preventDefault(),a(null),n(null),!e.nombre||!e.telefono||!e.fecha||!e.hora||!e.motivo||!e.nombre_mascota){a("Por favor, completa todos los campos requeridos: Tu nombre, teléfono, la fecha y hora de la cita, el motivo y el nombre de tu mascota.");return}if(!f(e.fecha)){a("La fecha seleccionada no es válida. Las solicitudes de citas públicas solo están disponibles de lunes a sábado.");return}const v=`${e.fecha}T${e.hora}:00`;u(!0);const p=await h(e.fecha),y=p.length;if(u(!1),y>=Sy||p.includes(e.hora)){a("La franja horaria seleccionada ya no está disponible o la capacidad diaria de solicitudes ha sido alcanzada. Por favor, elige otra hora o fecha.");const _=new Set(p),w=new Date,j=new Date(e.fecha),N=j.toDateString()===w.toDateString(),k=KE.filter(E=>{const[M,C]=E.split(":").map(Number),O=new Date(j);return O.setHours(M,C,0,0),N&&O<=w?!1:!_.has(E)});l(k),t(E=>({...E,hora:k.length>0?k[0]:""}));return}const{error:b}=await T.from("citas_publicas").insert({nombre:e.nombre,email:e.email||null,telefono:e.telefono,fecha:v,motivo:e.motivo,nombre_mascota:e.nombre_mascota,recordatorio:e.recordatorio,estado:"pendiente",id_cita_final:null});b?(console.error("Error al guardar la solicitud de cita:",b),a("Hubo un error al enviar tu solicitud de cita: "+b.message)):(n("¡Solicitud de cita enviada correctamente! Nos pondremos en contacto contigo pronto para confirmarla. Las citas de Grooming pueden requerir una confirmación adicional debido a su duración y la disponibilidad de nuestros especialistas."),t({nombre:"",email:"",telefono:"",fecha:"",motivo:"",nombre_mascota:"",recordatorio:!1,hora:""}),l([]))};return o.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center px-4 py-8",children:[" ",o.jsxs("div",{className:"max-w-2xl w-full bg-gray-800 p-8 rounded-2xl shadow-2xl space-y-6 border border-indigo-700",children:[" ",o.jsx("h2",{className:"text-3xl font-bold text-center text-indigo-400",children:"Solicitar una Cita Pública"}),o.jsxs("p",{className:"text-center text-gray-400",children:["Llena el siguiente formulario para que nuestro equipo se comunique contigo y confirme tu cita.",o.jsx("br",{}),o.jsx("span",{className:"font-semibold text-indigo-300",children:'Importante: Esta es una *solicitud* de cita. Especialmente para "Grooming", la confirmación final de la hora y fecha está sujeta a la disponibilidad de nuestros especialistas y recursos dedicados.'})]}),i&&o.jsx("div",{className:"bg-red-800 text-red-200 p-3 rounded text-center border border-red-600",children:i})," ",r&&o.jsx("div",{className:"bg-green-800 text-green-200 p-3 rounded text-center border border-green-600",children:r})," ",o.jsxs("form",{onSubmit:x,className:"space-y-4 text-sm",children:[o.jsx("input",{name:"nombre",type:"text",placeholder:"Tu nombre completo",value:e.nombre,onChange:m,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-md focus:ring-2 focus:ring-indigo-500 text-white placeholder-gray-400",required:!0}),o.jsx("input",{name:"email",type:"email",placeholder:"Correo electrónico (Opcional)",value:e.email,onChange:m,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-md focus:ring-2 focus:ring-indigo-500 text-white placeholder-gray-400"}),o.jsx("input",{name:"telefono",type:"tel",placeholder:"Teléfono",value:e.telefono,onChange:m,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-md focus:ring-2 focus:ring-indigo-500 text-white placeholder-gray-400",required:!0}),o.jsx("input",{name:"nombre_mascota",type:"text",placeholder:"Nombre de la Mascota",value:e.nombre_mascota,onChange:m,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-md focus:ring-2 focus:ring-indigo-500 text-white placeholder-gray-400",required:!0}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"fecha",className:"block text-sm font-medium text-gray-300 mb-1",children:"Fecha de la Cita"}),o.jsx("input",{name:"fecha",type:"date",value:e.fecha,onChange:m,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-md focus:ring-2 focus:ring-indigo-500 text-white",min:d(),required:!0}),!f(e.fecha)&&e.fecha&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Las solicitudes de citas solo están disponibles de lunes a sábado."})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"motivo",className:"block text-sm font-medium text-gray-300 mb-1",children:"Motivo de la Cita"}),o.jsxs("select",{name:"motivo",value:e.motivo,onChange:m,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-md focus:ring-2 focus:ring-indigo-500 text-white",required:!0,children:[o.jsx("option",{value:"",children:"Selecciona un motivo"}),o.jsx("option",{value:"Grooming",children:"Grooming"}),o.jsx("option",{value:"Revision-Consulta",children:"Revisión/Consulta"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"hora",className:"block text-sm font-medium text-gray-300 mb-1",children:"Hora de la Cita"}),o.jsxs("select",{name:"hora",value:e.hora,onChange:m,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-md focus:ring-2 focus:ring-indigo-500 text-white",required:!0,disabled:c||!e.fecha||s.length===0||!f(e.fecha),children:[o.jsx("option",{value:"",children:c?"Cargando disponibilidad...":e.fecha?f(e.fecha)?s.length===0?"No hay horas disponibles para esta fecha":"Selecciona una hora":"Selecciona un día hábil (Lun-Sab)":"Selecciona una fecha primero"}),s.map(g=>o.jsx("option",{value:g,children:g},g))]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{name:"recordatorio",type:"checkbox",checked:e.recordatorio,onChange:m,className:"h-4 w-4 text-indigo-500 focus:ring-indigo-400 border-gray-600 rounded bg-gray-700"}),o.jsx("label",{htmlFor:"recordatorio",className:"text-gray-300",children:"Quiero recibir recordatorio por correo"})]}),o.jsx("button",{type:"submit",className:"w-full py-3 px-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 transition-all shadow-md",disabled:c||s.length===0||!e.hora||!f(e.fecha),children:c?"Verificando disponibilidad...":"Solicitar Cita"})]})]})]})},XE=()=>{const[e,t]=S.useState([]),[r,n]=S.useState([]),[i,a]=S.useState([]),[s,l]=S.useState(null),[c,u]=S.useState({motivo:"",fecha:"",estado:"pendiente",tipo:"",id_cliente:0,id_mascota:0}),d=async()=>{const{data:g}=await T.from("citas").select("*"),{data:v}=await T.from("clientes").select("id_cliente, nombre"),{data:p}=await T.from("mascotas").select("id_mascota, nombre, id_cliente");g&&t(g),v&&n(v),p&&a(p)};S.useEffect(()=>{d()},[]);const f=g=>{const{name:v,value:p}=g.target;u(y=>({...y,[v]:v==="id_cliente"||v==="id_mascota"?Number(p):p}))},h=g=>{l(g),u({motivo:g.motivo,fecha:g.fecha.slice(0,16),estado:g.estado,tipo:g.tipo,id_cliente:g.id_cliente,id_mascota:g.id_mascota})},m=async g=>{await T.from("citas").delete().eq("id_cita",g),d()},x=async g=>{g.preventDefault(),s?await T.from("citas").update(c).eq("id_cita",s.id_cita):await T.from("citas").insert([c]),u({motivo:"",fecha:"",estado:"pendiente",tipo:"",id_cliente:0,id_mascota:0}),l(null),d()};return o.jsxs("div",{className:"p-6 bg-gray-900 text-white rounded-lg shadow space-y-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-indigo-400",children:"Gestión de Citas"}),o.jsxs("form",{onSubmit:x,className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1",children:"Cliente"}),o.jsxs("select",{name:"id_cliente",value:c.id_cliente,onChange:f,className:"w-full p-2 bg-gray-800 border border-gray-600 rounded",required:!0,children:[o.jsx("option",{value:"",children:"Selecciona"}),r.map(g=>o.jsx("option",{value:g.id_cliente,children:g.nombre},g.id_cliente))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1",children:"Mascota"}),o.jsxs("select",{name:"id_mascota",value:c.id_mascota,onChange:f,className:"w-full p-2 bg-gray-800 border border-gray-600 rounded",required:!0,children:[o.jsx("option",{value:"",children:"Selecciona"}),i.filter(g=>g.id_cliente===c.id_cliente).map(g=>o.jsx("option",{value:g.id_mascota,children:g.nombre},g.id_mascota))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1",children:"Fecha"}),o.jsx("input",{type:"datetime-local",name:"fecha",value:c.fecha,onChange:f,className:"w-full p-2 bg-gray-800 border border-gray-600 rounded",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1",children:"Motivo"}),o.jsx("input",{name:"motivo",value:c.motivo,onChange:f,className:"w-full p-2 bg-gray-800 border border-gray-600 rounded",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1",children:"Tipo"}),o.jsxs("select",{name:"tipo",value:c.tipo,onChange:f,className:"w-full p-2 bg-gray-800 border border-gray-600 rounded",required:!0,children:[o.jsx("option",{value:"",children:"Selecciona"}),o.jsx("option",{value:"veterinaria",children:"Veterinaria"}),o.jsx("option",{value:"grooming",children:"Grooming"})]})]}),o.jsx("div",{className:"md:col-span-3",children:o.jsx("button",{type:"submit",className:"w-full py-2 bg-indigo-700 hover:bg-indigo-600 rounded font-semibold",children:s?"Actualizar Cita":"Agregar Cita"})})]}),o.jsxs("table",{className:"w-full bg-gray-800 rounded-lg text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-2",children:"Cliente"}),o.jsx("th",{children:"Mascota"}),o.jsx("th",{children:"Fecha"}),o.jsx("th",{children:"Motivo"}),o.jsx("th",{children:"Tipo"}),o.jsx("th",{children:"Estado"}),o.jsx("th",{children:"Acciones"})]})}),o.jsx("tbody",{children:e.map(g=>{var v,p;return o.jsxs("tr",{className:"border-b border-gray-700",children:[o.jsx("td",{className:"p-2",children:((v=r.find(y=>y.id_cliente===g.id_cliente))==null?void 0:v.nombre)||"N/A"}),o.jsx("td",{children:((p=i.find(y=>y.id_mascota===g.id_mascota))==null?void 0:p.nombre)||"N/A"}),o.jsx("td",{children:new Date(g.fecha).toLocaleString()}),o.jsx("td",{children:g.motivo}),o.jsx("td",{children:g.tipo}),o.jsx("td",{children:g.estado}),o.jsxs("td",{className:"flex space-x-2 p-2",children:[o.jsx("button",{onClick:()=>h(g),className:"text-indigo-400 hover:text-indigo-600",children:o.jsx(Ep,{size:16})}),o.jsx("button",{onClick:()=>m(g.id_cita),className:"text-red-400 hover:text-red-600",children:o.jsx(wr,{size:16})})]})]},g.id_cita)})})]})]})},qbe=()=>{const[e,t]=S.useState([]),[r,n]=S.useState([]),[i,a]=S.useState([]),[s,l]=S.useState([]),[c,u]=S.useState(!0),[d,f]=S.useState(!1),[h,m]=S.useState(null),[x,g]=S.useState(null),[v,p]=S.useState(null),[y,b]=S.useState("compras"),[_,w]=S.useState(!1),[j,N]=S.useState({nombre_generico:"",nombre_comercial:null,principio_activo:null,presentacion:null,dosis_recomendada:null,fabricante:null,unidad_medida:null,precio_venta:null,categoria:null,sustancia_controlada:!1}),[k,E]=S.useState(!1),[M,C]=S.useState({nombre:"",descripcion:null,categoria:null,unidad_medida:null}),[O,L]=S.useState({nombre:"",telefono:"",email:"",direccion:""}),[$,B]=S.useState({id_proveedor:null,fecha_compra:new Date().toISOString().split("T")[0],detalles:[]}),[Y,F]=S.useState({tipo_item:"",id_referencia_item:null,cantidad:1,costo_unitario:0,lote_comprado:"",fecha_caducidad_comprado:""}),R=eo();S.useEffect(()=>{if(R.state&&R.state.itemToPurchase){const{type:J,id:A,name:P}=R.state.itemToPurchase;p(`¡Necesitas comprar "${P}" (${J==="medicamento"?"medicamento":"suministro"})! Añádelo a tu nueva compra.`),F(q=>({...q,tipo_item:J,id_referencia_item:A})),b("compras"),window.history.replaceState({},document.title,R.pathname),setTimeout(()=>p(null),1e4)}},[R.state]);const D=S.useCallback(J=>{g(J),m(null),p(null),setTimeout(()=>g(null),5e3)},[]),X=S.useCallback(J=>{m(J),g(null),p(null),setTimeout(()=>m(null),8e3)},[]),ne=S.useCallback(()=>{g(null),m(null),p(null)},[]),Q=S.useCallback(async()=>{u(!0),ne();try{const{data:J,error:A}=await T.from("proveedores").select("*").order("nombre",{ascending:!0});if(A)throw A;t(J||[]);const{data:P,error:q}=await T.from("medicamentos").select("*").order("nombre_generico",{ascending:!0});if(q)throw q;a(P||[]);const{data:oe,error:re}=await T.from("suministros").select("*").order("nombre",{ascending:!0});if(re)throw re;l(oe||[]);const{data:le,error:ae}=await T.from("compras").select("*").order("fecha_compra",{ascending:!1});if(ae)throw ae;const{data:Se,error:Pe}=await T.from("detalle_compras").select("*");if(Pe)throw Pe;const $e=(le||[]).map(ot=>{const He=(J||[]).find(Me=>Me.id_proveedor===ot.id_proveedor);return{...ot,nombre_proveedor:He?He.nombre:"Proveedor Desconocido",detalles:(Se||[]).filter(Me=>Me.id_compra===ot.id_compra).map(Me=>{let zt="Item Desconocido";if(Me.tipo_item==="medicamento"){const Mr=(P||[]).find(tt=>tt.id_medicamento===Me.id_referencia_item);zt=Mr?Mr.nombre_generico:"Medicamento Desconocido"}else if(Me.tipo_item==="suministro"){const Mr=(oe||[]).find(tt=>tt.id_suministro===Me.id_referencia_item);zt=Mr?Mr.nombre:"Suministro Desconocido"}return{...Me,nombre_item:zt}})}});n($e)}catch(J){console.error("Error al cargar datos:",J),X("Error al cargar datos: "+J.message+". Asegúrate de que las tablas estén configuradas y las políticas RLS adecuadas.")}finally{u(!1)}},[ne,X]);S.useEffect(()=>{Q();const J=T.channel("proveedores_changes").on("postgres_changes",{event:"*",schema:"public",table:"proveedores"},()=>{console.log("Realtime change for proveedores received."),Q()}).subscribe(),A=T.channel("compras_changes").on("postgres_changes",{event:"*",schema:"public",table:"compras"},()=>{console.log("Realtime change for compras received."),Q()}).subscribe(),P=T.channel("detalle_compras_changes").on("postgres_changes",{event:"*",schema:"public",table:"detalle_compras"},()=>{console.log("Realtime change for detalle_compras received."),Q()}).subscribe(),q=T.channel("inventario_stock_changes_compras").on("postgres_changes",{event:"*",schema:"public",table:"inventario_stock"},()=>{console.log("Realtime change for inventario_stock received in Compras page."),Q()}).subscribe(),oe=T.channel("medicamentos_changes_compras").on("postgres_changes",{event:"*",schema:"public",table:"medicamentos"},()=>{console.log("Realtime change for medicamentos received in Compras page."),Q()}).subscribe(),re=T.channel("suministros_changes_compras").on("postgres_changes",{event:"*",schema:"public",table:"suministros"},()=>{console.log("Realtime change for suministros received in Compras page."),Q()}).subscribe();return()=>{T.removeChannel(J),T.removeChannel(A),T.removeChannel(P),T.removeChannel(q),T.removeChannel(oe),T.removeChannel(re),console.log("Unsubscribed from all purchases-related channels.")}},[Q]);const K=J=>{const{name:A,value:P}=J.target;L(q=>({...q,[A]:P}))},ce=async J=>{if(J.preventDefault(),ne(),f(!0),!O.nombre){X("El nombre del proveedor es obligatorio."),f(!1);return}try{const{data:A,error:P}=await T.from("proveedores").insert([O]).select().single();if(P)throw P;D("Proveedor añadido exitosamente."),L({nombre:"",telefono:"",email:"",direccion:""})}catch(A){console.error("Error al añadir proveedor:",A),X("Error al añadir proveedor: "+A.message)}finally{f(!1)}},me=J=>{const{name:A,value:P}=J.target;B(q=>({...q,[A]:A==="id_proveedor"?parseInt(P):P}))},xe=J=>{const{name:A,value:P}=J.target;F(q=>({...q,[A]:A==="cantidad"||A==="costo_unitario"||A==="id_referencia_item"?parseFloat(P):P}))},ue=()=>{ne();const{tipo_item:J,id_referencia_item:A,cantidad:P,costo_unitario:q,lote_comprado:oe,fecha_caducidad_comprado:re}=Y;if(!J||A===null||P<=0||q<0){X("Por favor, completa los campos obligatorios del ítem de compra (Tipo, Ítem, Cantidad, Costo Unitario).");return}if(J==="medicamento"&&(!oe||!re)){X("Para medicamentos, el lote y la fecha de caducidad son obligatorios.");return}let le="Ítem Desconocido";if(J==="medicamento"){const ae=i.find(Se=>Se.id_medicamento===A);le=ae?ae.nombre_generico:"Medicamento Desconocido"}else if(J==="suministro"){const ae=s.find(Se=>Se.id_suministro===A);le=ae?ae.nombre:"Suministro Desconocido"}B(ae=>({...ae,detalles:[...ae.detalles,{tipo_item:J,id_referencia_item:A,cantidad:P,costo_unitario:q,lote_comprado:J==="medicamento"?oe:null,fecha_caducidad_comprado:J==="medicamento"?re:null,nombre_item:le}]})),F({tipo_item:"",id_referencia_item:null,cantidad:1,costo_unitario:0,lote_comprado:"",fecha_caducidad_comprado:""}),D("Ítem añadido a la lista de compra.")},be=J=>{B(A=>({...A,detalles:A.detalles.filter((P,q)=>q!==J)})),D("Ítem eliminado de la lista de compra.")},U=S.useCallback(()=>$.detalles.reduce((J,A)=>J+A.cantidad*A.costo_unitario,0),[$.detalles]),se=async J=>{if(J.preventDefault(),ne(),f(!0),!$.id_proveedor){X("Por favor, selecciona un proveedor para la compra."),f(!1);return}if($.detalles.length===0){X("Añade al menos un ítem a la compra antes de registrarla."),f(!1);return}const A=U();try{const{data:P,error:q}=await T.from("compras").insert([{id_proveedor:$.id_proveedor,fecha_compra:$.fecha_compra,total_compra:A}]).select("id_compra").single();if(q)throw q;const oe=P.id_compra;for(const re of $.detalles){const{error:le}=await T.from("detalle_compras").insert([{id_compra:oe,tipo_item:re.tipo_item,id_referencia_item:re.id_referencia_item,cantidad:re.cantidad,costo_unitario:re.costo_unitario,lote_comprado:re.lote_comprado,fecha_caducidad_comprado:re.fecha_caducidad_comprado}]);if(le)throw le;if(re.tipo_item==="medicamento"){const{data:ae,error:Se}=await T.from("inventario_stock").select("id_stock, cantidad").eq("tipo_item","medicamento").eq("id_referencia_item",re.id_referencia_item).eq("lote",re.lote_comprado).single();if(Se&&Se.code!=="PGRST116")throw Se;if(ae){const{error:Pe}=await T.from("inventario_stock").update({cantidad:ae.cantidad+re.cantidad,ultima_actualizacion:new Date().toISOString()}).eq("id_stock",ae.id_stock);if(Pe)throw Pe}else{const{error:Pe}=await T.from("inventario_stock").insert([{tipo_item:"medicamento",id_referencia_item:re.id_referencia_item,cantidad:re.cantidad,lote:re.lote_comprado,fecha_caducidad_lote:re.fecha_caducidad_comprado,ubicacion:"Almacén Principal",ultima_actualizacion:new Date().toISOString()}]);if(Pe)throw Pe}}else if(re.tipo_item==="suministro"){const{data:ae,error:Se}=await T.from("inventario_stock").select("id_stock, cantidad").eq("tipo_item","suministro").eq("id_referencia_item",re.id_referencia_item).single();if(Se&&Se.code!=="PGRST116")throw Se;if(ae){const{error:Pe}=await T.from("inventario_stock").update({cantidad:ae.cantidad+re.cantidad,ultima_actualizacion:new Date().toISOString()}).eq("id_stock",ae.id_stock);if(Pe)throw Pe}else{const{error:Pe}=await T.from("inventario_stock").insert([{tipo_item:"suministro",id_referencia_item:re.id_referencia_item,cantidad:re.cantidad,lote:null,fecha_caducidad_lote:null,ubicacion:"Almacén Principal",ultima_actualizacion:new Date().toISOString()}]);if(Pe)throw Pe}}}B({id_proveedor:null,fecha_compra:new Date().toISOString().split("T")[0],detalles:[]}),F({tipo_item:"",id_referencia_item:null,cantidad:1,costo_unitario:0,lote_comprado:"",fecha_caducidad_comprado:""}),D("Compra registrada y inventario actualizado exitosamente.")}catch(P){console.error("Error al registrar compra o actualizar inventario:",P),X("Error al registrar compra o actualizar inventario: "+P.message)}finally{f(!1)}},W=()=>{if(r.length===0){X("No hay compras para exportar.");return}const J=";",A=["ID Compra","Proveedor","Fecha Compra","Total Compra","Tipo Item","Nombre Item","Cantidad","Costo Unitario","Lote","Fecha Caducidad Lote"],P=le=>{if(le==null)return"";let ae=String(le);return ae.includes(J)||ae.includes('"')||ae.includes(`
`)?(ae=ae.replace(/"/g,'""'),`"${ae}"`):ae};let q="\uFEFF"+A.map(P).join(J)+`
`;r.forEach(le=>{if(le.detalles&&le.detalles.length>0)le.detalles.forEach(ae=>{const Se=[P(le.id_compra),P(le.nombre_proveedor),P(new Date(le.fecha_compra).toLocaleDateString("es-ES")),P(le.total_compra.toFixed(2)),P(ae.tipo_item),P(ae.nombre_item),P(ae.cantidad),P(ae.costo_unitario.toFixed(2)),P(ae.lote_comprado||"N/A"),P(ae.fecha_caducidad_comprado?new Date(ae.fecha_caducidad_comprado+"T00:00:00").toLocaleDateString("es-ES"):"N/A")];q+=Se.join(J)+`
`});else{const ae=[P(le.id_compra),P(le.nombre_proveedor),P(new Date(le.fecha_compra).toLocaleDateString("es-ES")),P(le.total_compra.toFixed(2)),P("N/A"),P("N/A"),P("N/A"),P("N/A"),P("N/A"),P("N/A")];q+=ae.join(J)+`
`}});const oe=new Blob([q],{type:"text/csv;charset=utf-8;"}),re=document.createElement("a");if(re.download!==void 0){const le=URL.createObjectURL(oe);re.setAttribute("href",le),re.setAttribute("download",`historial_compras_${new Date().toISOString().split("T")[0]}.csv`),re.style.visibility="hidden",document.body.appendChild(re),re.click(),document.body.removeChild(re),URL.revokeObjectURL(le),D("Historial de compras exportado a CSV.")}else X("Tu navegador no soporta la descarga de archivos CSV directamente.")},I=J=>{const{name:A,value:P,type:q,checked:oe}=J.target;N(re=>({...re,[A]:q==="checkbox"?oe:P}))},G=async J=>{if(J.preventDefault(),ne(),f(!0),!j.nombre_generico){X("El nombre genérico del medicamento es obligatorio."),f(!1);return}try{const{data:A,error:P}=await T.from("medicamentos").insert([j]).select().single();if(P)throw P;D(`Medicamento "${A.nombre_generico}" añadido exitosamente al catálogo.`),N({nombre_generico:"",nombre_comercial:null,principio_activo:null,presentacion:null,dosis_recomendada:null,fabricante:null,unidad_medida:null,precio_venta:null,categoria:null,sustancia_controlada:!1}),w(!1)}catch(A){console.error("Error al añadir medicamento:",A),X("Error al añadir medicamento: "+A.message)}finally{f(!1)}},ee=J=>{const{name:A,value:P}=J.target;C(q=>({...q,[A]:P}))},de=async J=>{if(J.preventDefault(),ne(),f(!0),!M.nombre){X("El nombre del suministro es obligatorio."),f(!1);return}try{const{data:A,error:P}=await T.from("suministros").insert([M]).select().single();if(P)throw P;D(`Suministro "${A.nombre}" añadido exitosamente al catálogo.`),C({nombre:"",descripcion:null,categoria:null,unidad_medida:null}),E(!1)}catch(A){console.error("Error al añadir suministro:",A),X("Error al añadir suministro: "+A.message)}finally{f(!1)}};return c?o.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-950 text-white font-inter",children:[o.jsx(Fe,{className:"animate-spin mr-3 text-blue-400",size:36}),o.jsx("p",{className:"text-xl text-indigo-400",children:"Cargando datos de proveedores y compras..."})]}):o.jsxs("div",{className:"p-6 bg-gray-950 text-white space-y-12 min-h-screen font-inter",children:[o.jsxs("h2",{className:"text-3xl font-extrabold text-indigo-400 text-center mb-8 flex items-center justify-center gap-2",children:[o.jsx(Is,{size:30})," Gestión de Proveedores y Compras"]}),h&&o.jsxs("div",{className:"bg-red-800 text-red-100 p-4 rounded-lg text-center border border-red-600 mb-6 flex items-center justify-between shadow-md animate-fade-in",children:[o.jsx(Yt,{size:24,className:"flex-shrink-0 mr-3"}),o.jsx("span",{className:"flex-grow",children:h}),o.jsx(Ve,{size:20,className:"cursor-pointer ml-3",onClick:()=>m(null)})]}),x&&o.jsxs("div",{className:"bg-green-800 text-green-100 p-4 rounded-lg text-center border border-green-600 mb-6 flex items-center justify-between shadow-md animate-fade-in",children:[o.jsx(oi,{size:24,className:"flex-shrink-0 mr-3"}),o.jsx("span",{className:"flex-grow",children:x}),o.jsx(Ve,{size:20,className:"cursor-pointer ml-3",onClick:()=>g(null)})]}),v&&o.jsxs("div",{className:"bg-blue-800 text-blue-100 p-4 rounded-lg text-center border border-blue-600 mb-6 flex items-center justify-between shadow-md animate-fade-in",children:[o.jsx(Oa,{size:24,className:"flex-shrink-0 mr-3"}),o.jsx("span",{className:"flex-grow",children:v}),o.jsx(Ve,{size:20,className:"cursor-pointer ml-3",onClick:()=>p(null)})]}),o.jsxs("div",{className:"flex justify-center mb-8",children:[o.jsx("button",{onClick:()=>b("proveedores"),className:`px-6 py-3 rounded-t-lg font-semibold transition ${y==="proveedores"?"bg-indigo-700 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Proveedores"}),o.jsx("button",{onClick:()=>b("compras"),className:`px-6 py-3 rounded-t-lg font-semibold transition ${y==="compras"?"bg-indigo-700 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Compras"})]}),y==="proveedores"&&o.jsxs("section",{className:"bg-gray-800 p-6 rounded-xl shadow-lg border border-blue-800",children:[o.jsxs("h3",{className:"text-2xl text-indigo-300 mb-6 font-semibold flex items-center gap-2",children:[o.jsx(Oa,{size:24})," Listado de Proveedores"]}),o.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-700 mb-8",children:o.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[o.jsx("thead",{className:"text-xs text-gray-200 uppercase bg-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Nombre"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Teléfono"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Email"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Dirección"})]})}),o.jsx("tbody",{children:e.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:"No hay proveedores registrados."})}):e.map(J=>o.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700 hover:bg-gray-700 transition-colors duration-200",children:[o.jsx("td",{className:"px-6 py-4 font-medium text-white",children:J.nombre}),o.jsx("td",{className:"px-6 py-4",children:J.telefono||"N/A"}),o.jsx("td",{className:"px-6 py-4",children:J.email||"N/A"}),o.jsx("td",{className:"px-6 py-4",children:J.direccion||"N/A"})]},J.id_proveedor))})]})}),o.jsxs("h3",{className:"text-2xl text-indigo-300 mb-4 font-semibold flex items-center gap-2",children:[o.jsx(Wt,{size:24})," Añadir Nuevo Proveedor"]}),o.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"nombre_prov",className:"block text-sm font-medium text-gray-300",children:"Nombre:"}),o.jsx("input",{type:"text",id:"nombre_prov",name:"nombre",value:O.nombre,onChange:K,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"telefono_prov",className:"block text-sm font-medium text-gray-300",children:"Teléfono:"}),o.jsx("input",{type:"text",id:"telefono_prov",name:"telefono",value:O.telefono||"",onChange:K,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email_prov",className:"block text-sm font-medium text-gray-300",children:"Email:"}),o.jsx("input",{type:"email",id:"email_prov",name:"email",value:O.email||"",onChange:K,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"direccion_prov",className:"block text-sm font-medium text-gray-300",children:"Dirección:"}),o.jsx("input",{type:"text",id:"direccion_prov",name:"direccion",value:O.direccion||"",onChange:K,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsx("button",{type:"submit",className:"w-full flex items-center justify-center px-4 py-2.5 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition shadow-md",disabled:d,children:d?o.jsx(Fe,{className:"animate-spin mr-2",size:20}):"Añadir Proveedor"})]})]}),y==="compras"&&o.jsxs("section",{className:"bg-gray-800 p-6 rounded-xl shadow-lg border border-blue-800",children:[o.jsxs("h3",{className:"text-2xl text-indigo-300 mb-6 font-semibold flex items-center gap-2",children:[o.jsx(kS,{size:24})," Registrar Nueva Compra"]}),o.jsxs("form",{onSubmit:se,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"id_proveedor",className:"block text-sm font-medium text-gray-300",children:"Proveedor:"}),o.jsxs("select",{id:"id_proveedor",name:"id_proveedor",value:$.id_proveedor||"",onChange:me,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[o.jsx("option",{value:"",children:"Selecciona un proveedor"}),e.map(J=>o.jsx("option",{value:J.id_proveedor,children:J.nombre},J.id_proveedor))]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"fecha_compra",className:"block text-sm font-medium text-gray-300",children:"Fecha de Compra:"}),o.jsx("input",{type:"date",id:"fecha_compra",name:"fecha_compra",value:$.fecha_compra,onChange:me,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500",required:!0})]})]}),o.jsxs("div",{className:"border-t border-gray-700 pt-6 mt-6",children:[o.jsxs("h4",{className:"text-xl font-semibold text-indigo-400 mb-4 flex items-center gap-2",children:[o.jsx(hl,{size:20})," Añadir Ítems a la Compra"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"tipo_item",className:"block text-sm font-medium text-gray-300",children:"Tipo de Ítem:"}),o.jsxs("select",{id:"tipo_item",name:"tipo_item",value:Y.tipo_item,onChange:xe,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[o.jsx("option",{value:"",children:"Selecciona tipo"}),o.jsx("option",{value:"medicamento",children:"Medicamento"}),o.jsx("option",{value:"suministro",children:"Suministro"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"id_referencia_item",className:"block text-sm font-medium text-gray-300",children:"Seleccionar Ítem:"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsxs("select",{id:"id_referencia_item",name:"id_referencia_item",value:Y.id_referencia_item||"",onChange:xe,className:"block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500",required:!0,disabled:!Y.tipo_item,children:[o.jsx("option",{value:"",children:"Selecciona un ítem"}),Y.tipo_item==="medicamento"&&i.map(J=>o.jsxs("option",{value:J.id_medicamento,children:[J.nombre_generico," (",J.nombre_comercial||"N/A",")"]},J.id_medicamento)),Y.tipo_item==="suministro"&&s.map(J=>o.jsxs("option",{value:J.id_suministro,children:[J.nombre," (",J.unidad_medida||"N/A",")"]},J.id_suministro))]}),Y.tipo_item==="medicamento"&&o.jsx("button",{type:"button",onClick:()=>w(!0),className:"p-2.5 bg-purple-600 rounded-md hover:bg-purple-700 text-white flex items-center justify-center transition-colors",title:"Registrar Nuevo Medicamento al Catálogo",children:o.jsx(Wh,{size:20})}),Y.tipo_item==="suministro"&&o.jsx("button",{type:"button",onClick:()=>E(!0),className:"p-2.5 bg-purple-600 rounded-md hover:bg-purple-700 text-white flex items-center justify-center transition-colors",title:"Registrar Nuevo Suministro al Catálogo",children:o.jsx(Hh,{size:20})})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"cantidad",className:"block text-sm font-medium text-gray-300",children:"Cantidad:"}),o.jsx("input",{type:"number",id:"cantidad",name:"cantidad",value:Y.cantidad,onChange:xe,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500",min:"1",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"costo_unitario",className:"block text-sm font-medium text-gray-300",children:"Costo Unitario:"}),o.jsx("input",{type:"number",id:"costo_unitario",name:"costo_unitario",value:Y.costo_unitario,onChange:xe,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500",step:"0.01",min:"0",required:!0})]}),Y.tipo_item==="medicamento"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lote_comprado",className:"block text-sm font-medium text-gray-300",children:"Lote:"}),o.jsx("input",{type:"text",id:"lote_comprado",name:"lote_comprado",value:Y.lote_comprado,onChange:xe,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500",required:Y.tipo_item==="medicamento"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"fecha_caducidad_comprado",className:"block text-sm font-medium text-gray-300",children:"Fecha Caducidad Lote:"}),o.jsx("input",{type:"date",id:"fecha_caducidad_comprado",name:"fecha_caducidad_comprado",value:Y.fecha_caducidad_comprado,onChange:xe,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500",required:Y.tipo_item==="medicamento"})]})]})]}),o.jsxs("button",{type:"button",onClick:ue,className:"w-full flex items-center justify-center px-4 py-2.5 bg-indigo-500 text-white rounded-md hover:bg-indigo-600 transition shadow-md mt-4",disabled:d,children:[o.jsx(Wt,{size:16,className:"mr-2"})," Añadir Ítem a la Lista"]})]}),$.detalles.length>0&&o.jsxs("div",{className:"border-t border-gray-700 pt-6 mt-6",children:[o.jsx("h4",{className:"text-xl font-semibold text-indigo-400 mb-4",children:"Ítems en esta Compra:"}),o.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-700",children:o.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[o.jsx("thead",{className:"text-xs text-gray-200 uppercase bg-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ítem"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tipo"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Cantidad"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Costo Unitario"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Lote"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Caducidad Lote"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Subtotal"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Acciones"})]})}),o.jsxs("tbody",{children:[$.detalles.map((J,A)=>o.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[o.jsx("td",{className:"px-6 py-4 font-medium text-white",children:J.nombre_item}),o.jsx("td",{className:"px-6 py-4 capitalize",children:J.tipo_item}),o.jsx("td",{className:"px-6 py-4",children:J.cantidad}),o.jsxs("td",{className:"px-6 py-4",children:["$",J.costo_unitario.toFixed(2)]}),o.jsx("td",{className:"px-6 py-4",children:J.lote_comprado||"N/A"}),o.jsx("td",{className:"px-6 py-4",children:J.fecha_caducidad_comprado?new Date(J.fecha_caducidad_comprado).toLocaleDateString("es-ES"):"N/A"}),o.jsxs("td",{className:"px-6 py-4",children:["$",(J.cantidad*J.costo_unitario).toFixed(2)]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("button",{type:"button",onClick:()=>be(A),className:"text-red-400 hover:text-red-500 transition",children:o.jsx(Ve,{size:18})})})]},A)),o.jsxs("tr",{className:"bg-gray-700 font-bold text-white",children:[o.jsx("td",{colSpan:6,className:"px-6 py-4 text-right",children:"Total de la Compra:"}),o.jsxs("td",{className:"px-6 py-4",children:["$",U().toFixed(2)]}),o.jsx("td",{})]})]})]})})]}),o.jsx("button",{type:"submit",className:"w-full flex items-center justify-center px-4 py-2.5 bg-green-600 text-white rounded-md hover:bg-green-700 transition shadow-md mt-6",disabled:d||!$.id_proveedor||$.detalles.length===0,children:d?o.jsx(Fe,{className:"animate-spin mr-2",size:20}):"Registrar Compra"})]}),o.jsxs("h3",{className:"text-2xl text-indigo-300 mb-6 mt-12 font-semibold flex items-center gap-2",children:[o.jsx(kS,{size:24})," Historial de Compras"]}),o.jsx("div",{className:"flex justify-end mb-4",children:o.jsxs("button",{onClick:W,className:"px-5 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md font-semibold flex items-center transition shadow-md",disabled:r.length===0||d,children:[o.jsx(Iu,{size:20,className:"mr-2"})," Exportar a CSV"]})}),o.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-700",children:o.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[o.jsx("thead",{className:"text-xs text-gray-200 uppercase bg-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3",children:"ID Compra"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Proveedor"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Fecha"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Total"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Detalles"})]})}),o.jsx("tbody",{children:r.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"No hay compras registradas."})}):r.map(J=>o.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700 hover:bg-gray-700 transition-colors duration-200",children:[o.jsx("td",{className:"px-6 py-4 font-medium text-white",children:J.id_compra}),o.jsx("td",{className:"px-6 py-4",children:J.nombre_proveedor}),o.jsx("td",{className:"px-6 py-4",children:new Date(J.fecha_compra).toLocaleDateString("es-ES")}),o.jsxs("td",{className:"px-6 py-4",children:["$",J.total_compra.toFixed(2)]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("ul",{className:"list-disc list-inside text-gray-300",children:J.detalles&&J.detalles.map((A,P)=>o.jsxs("li",{children:[A.nombre_item," (",A.cantidad," x $",A.costo_unitario.toFixed(2),")",A.lote_comprado&&` Lote: ${A.lote_comprado}`,A.fecha_caducidad_comprado&&` Vence: ${new Date(A.fecha_caducidad_comprado).toLocaleDateString("es-ES")}`]},P))})})]},J.id_compra))})]})})]}),_&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 animate-fade-in",children:o.jsxs("div",{className:"bg-gray-800 p-8 rounded-lg shadow-xl w-full max-w-2xl border border-indigo-700",children:[o.jsxs("h3",{className:"text-2xl font-bold text-indigo-400 mb-6 flex items-center gap-2",children:[o.jsx(Wh,{size:24})," Registrar Nuevo Medicamento"]}),o.jsxs("form",{onSubmit:G,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"med_nombre_generico",className:"block text-sm font-medium text-gray-300",children:"Nombre Genérico:"}),o.jsx("input",{type:"text",id:"med_nombre_generico",name:"nombre_generico",value:j.nombre_generico,onChange:I,required:!0,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"med_nombre_comercial",className:"block text-sm font-medium text-gray-300",children:"Nombre Comercial (opcional):"}),o.jsx("input",{type:"text",id:"med_nombre_comercial",name:"nombre_comercial",value:j.nombre_comercial||"",onChange:I,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"med_unidad_medida",className:"block text-sm font-medium text-gray-300",children:"Unidad de Medida:"}),o.jsx("input",{type:"text",id:"med_unidad_medida",name:"unidad_medida",value:j.unidad_medida||"",onChange:I,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"med_precio_venta",className:"block text-sm font-medium text-gray-300",children:"Precio de Venta:"}),o.jsx("input",{type:"number",id:"med_precio_venta",name:"precio_venta",value:j.precio_venta||"",onChange:I,step:"0.01",min:"0",className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"med_categoria",className:"block text-sm font-medium text-gray-300",children:"Categoría:"}),o.jsx("input",{type:"text",id:"med_categoria",name:"categoria",value:j.categoria||"",onChange:I,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{className:"flex items-center mt-6",children:[o.jsx("input",{type:"checkbox",id:"med_sustancia_controlada",name:"sustancia_controlada",checked:j.sustancia_controlada||!1,onChange:I,className:"h-5 w-5 text-indigo-600 focus:ring-indigo-500 border-gray-600 rounded"}),o.jsx("label",{htmlFor:"med_sustancia_controlada",className:"ml-2 block text-sm text-gray-300",children:"Sustancia Controlada"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"med_principio_activo",className:"block text-sm font-medium text-gray-300",children:"Principio Activo:"}),o.jsx("textarea",{id:"med_principio_activo",name:"principio_activo",value:j.principio_activo||"",onChange:I,rows:2,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500 resize-y"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"med_presentacion",className:"block text-sm font-medium text-gray-300",children:"Presentación:"}),o.jsx("input",{type:"text",id:"med_presentacion",name:"presentacion",value:j.presentacion||"",onChange:I,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"med_dosis_recomendada",className:"block text-sm font-medium text-gray-300",children:"Dosis Recomendada:"}),o.jsx("input",{type:"text",id:"med_dosis_recomendada",name:"dosis_recomendada",value:j.dosis_recomendada||"",onChange:I,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"med_fabricante",className:"block text-sm font-medium text-gray-300",children:"Fabricante:"}),o.jsx("input",{type:"text",id:"med_fabricante",name:"fabricante",value:j.fabricante||"",onChange:I,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-5 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold transition shadow-md",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-semibold transition shadow-md",disabled:d,children:d?o.jsx(Fe,{className:"animate-spin mr-2",size:20}):"Guardar Medicamento"})]})]})]})}),k&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 animate-fade-in",children:o.jsxs("div",{className:"bg-gray-800 p-8 rounded-lg shadow-xl w-full max-w-xl border border-indigo-700",children:[o.jsxs("h3",{className:"text-2xl font-bold text-indigo-400 mb-6 flex items-center gap-2",children:[o.jsx(Hh,{size:24})," Registrar Nuevo Suministro"]}),o.jsxs("form",{onSubmit:de,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"sum_nombre",className:"block text-sm font-medium text-gray-300",children:"Nombre:"}),o.jsx("input",{type:"text",id:"sum_nombre",name:"nombre",value:M.nombre,onChange:ee,required:!0,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"sum_descripcion",className:"block text-sm font-medium text-gray-300",children:"Descripción (opcional):"}),o.jsx("textarea",{id:"sum_descripcion",name:"descripcion",value:M.descripcion||"",onChange:ee,rows:3,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500 resize-y"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"sum_unidad_medida",className:"block text-sm font-medium text-gray-300",children:"Unidad de Medida (opcional):"}),o.jsx("input",{type:"text",id:"sum_unidad_medida",name:"unidad_medida",value:M.unidad_medida||"",onChange:ee,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"sum_categoria",className:"block text-sm font-medium text-gray-300",children:"Categoría (opcional):"}),o.jsx("input",{type:"text",id:"sum_categoria",name:"categoria",value:M.categoria||"",onChange:ee,className:"mt-1 block w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>E(!1),className:"px-5 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold transition shadow-md",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-semibold transition shadow-md",disabled:d,children:d?o.jsx(Fe,{className:"animate-spin mr-2",size:20}):"Guardar Suministro"})]})]})]})})]})},Wbe=()=>{const e=dr(),t=async()=>{await T.auth.signOut(),e("/login")};return o.jsxs("div",{className:"flex min-h-screen bg-black text-white font-inter",children:[o.jsx("aside",{className:"w-64 bg-gray-900 p-6 flex flex-col justify-between shadow-lg",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-green-400 mb-8",children:"Panel Veterinario"}),o.jsxs("nav",{className:"flex flex-col gap-4 text-lg",children:[o.jsxs(Xr,{to:"/veterinario-dashboard",end:!0,className:({isActive:r})=>r?"text-green-300 font-semibold flex items-center p-2 rounded-md bg-gray-800":"hover:text-green-300 flex items-center p-2 rounded-md hover:bg-gray-800 transition-colors",children:[o.jsx(JA,{className:"mr-3",size:20})," Dashboard"]}),o.jsxs(Xr,{to:"/veterinario-dashboard/gestionar-citas",className:({isActive:r})=>r?"text-green-300 font-semibold flex items-center p-2 rounded-md bg-gray-800":"hover:text-green-300 flex items-center p-2 rounded-md hover:bg-gray-800 transition-colors",children:[o.jsx(Fi,{className:"mr-3",size:20})," Gestionar Citas"]}),o.jsxs(Xr,{to:"/veterinario-dashboard/gestionar-mascotas",className:({isActive:r})=>r?"text-green-300 font-semibold flex items-center p-2 rounded-md bg-gray-800":"hover:text-green-300 flex items-center p-2 rounded-md hover:bg-gray-800 transition-colors",children:[o.jsx(yt,{className:"mr-3",size:20})," Gestionar Mascotas"]})]})]})}),o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsxs("header",{className:"relative h-24 text-white flex items-center justify-between px-8 py-4",style:{backgroundImage:`url(${Y1})`,backgroundSize:"cover",backgroundPosition:"center"},children:[o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 grayscale"}),o.jsxs("div",{className:"relative z-10 flex items-center justify-between w-full",children:[o.jsx(Jr,{to:"/",className:"text-3xl font-extrabold text-green-400 hover:text-green-300 transition-colors cursor-pointer",children:"Max Groomer"}),o.jsxs("button",{onClick:t,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors shadow-md flex items-center font-semibold",children:[o.jsx(Dw,{className:"mr-2",size:18})," Cerrar Sesión"]})]})]}),o.jsxs("main",{className:"flex-1 bg-black text-white p-6",children:[o.jsx(Cw,{})," "]})]})]})},vI=({isOpen:e,message:t,onConfirm:r,onCancel:n,title:i="Confirmación",confirmButtonText:a="Confirmar",cancelButtonText:s="Cancelar"})=>e?o.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 font-inter animate-fade-in",children:o.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-xl max-w-sm w-full border border-indigo-600 transform scale-100 animate-scale-in",children:[o.jsx("h3",{className:"text-xl font-semibold text-indigo-400 mb-4",children:i}),o.jsx("p",{className:"text-white mb-6",children:t}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition shadow-md",children:s}),o.jsx("button",{onClick:r,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition shadow-md",children:a})]})]})}):null,Hbe=()=>{const{user:e,loading:t}=gi(),[r,n]=S.useState(!0),[i,a]=S.useState(null),[s,l]=S.useState([]),[c,u]=S.useState([]),[d,f]=S.useState(null),[h,m]=S.useState(!1),[x,g]=S.useState(null),v=S.useCallback(async _=>{try{const{data:w,error:j}=await T.from("veterinarios").select("id_veterinario, nombre, especialidad, email, telefono, id_user").eq("id_user",_).single();if(j)throw j.code==="PGRST116"?new Error("No se encontró un perfil de veterinario para tuusuario. Asegúrate de que tu cuenta esté asociada a un veterinario."):j;return w}catch(w){console.error("Error al obtener el perfil del veterinario:",w.message)}return null},[]),p=S.useCallback(async()=>{if(n(!0),a(null),!e){n(!1);return}try{const _=await v(e.id);if(!_)throw new Error("Perfil de veterinario no encontrado o no autorizado.");f(_);const[{data:w,error:j},{data:N,error:k}]=await Promise.all([T.from("clientes").select("id_cliente, nombre, email, telefono"),T.from("mascotas").select("id_mascota, id_cliente, nombre, especie, raza, edad, peso")]);if(j)throw j;if(k)throw k;const E=w||[],M=N||[],{data:C,error:O}=await T.from("citas").select(`
          id_cita,
          id_mascota,
          id_cliente,
          fecha,
          motivo,
          estado,
          tipo,
          id_veterinario,
          nombre_cliente_invitado,
          nombre_mascota_invitada
        `).order("fecha",{ascending:!0});if(O)throw O;const L=(C||[]).map(F=>{const R=F.id_cliente?E.find(X=>X.id_cliente===F.id_cliente):null,D=F.id_mascota?M.find(X=>X.id_mascota===F.id_mascota):null;return{id_cita:F.id_cita,id_mascota:F.id_mascota,id_cliente:F.id_cliente,fecha:F.fecha,motivo:F.motivo,estado:F.estado,tipo:F.tipo,id_veterinario:F.id_veterinario,nombre_cliente_invitado:F.nombre_cliente_invitado,nombre_mascota_invitada:F.nombre_mascota_invitada,mascota_nombre:D==null?void 0:D.nombre,mascota_especie:D==null?void 0:D.especie,cliente_nombre:R==null?void 0:R.nombre,cliente_email:R==null?void 0:R.email,cliente_telefono:R==null?void 0:R.telefono}}),$=new Date;$.setHours(0,0,0,0);const B=L.filter(F=>F.id_veterinario===_.id_veterinario&&F.estado.toLowerCase()==="programada"&&new Date(F.fecha)>=$).slice(0,5),Y=L.filter(F=>F.id_veterinario===null&&F.estado.toLowerCase()==="pendiente"&&new Date(F.fecha)>=$).slice(0,5);l(B),u(Y)}catch(_){console.error("Error al cargar todos los datos del dashboard:",_.message),a("Error al cargar el dashboard: "+_.message)}finally{n(!1)}},[e,v]);S.useEffect(()=>{let _,w,j;return!t&&e?p():!t&&!e&&n(!1),e&&(_=T.channel("vet_dashboard_citas_changes").on("postgres_changes",{event:"*",schema:"public",table:"citas"},()=>{console.log("Realtime: Cambio en citas, recargando todos los datos del dashboard..."),p()}).subscribe((N,k)=>{N==="CHANNEL_ERROR"&&console.error("Error Realtime citas:",(k==null?void 0:k.message)||k)}),w=T.channel("vet_dashboard_clientes_changes").on("postgres_changes",{event:"*",schema:"public",table:"clientes"},()=>{console.log("Realtime: Cambio en clientes, recargando todos los datos del dashboard..."),p()}).subscribe((N,k)=>{N==="CHANNEL_ERROR"&&console.error("Error Realtime clientes:",(k==null?void 0:k.message)||k)}),j=T.channel("vet_dashboard_mascotas_changes").on("postgres_changes",{event:"*",schema:"public",table:"mascotas"},()=>{console.log("Realtime: Cambio en mascotas, recargando todos los datos del dashboard..."),p()}).subscribe((N,k)=>{N==="CHANNEL_ERROR"&&console.error("Error Realtime mascotas:",(k==null?void 0:k.message)||k)})),()=>{console.log("Desuscribiendo de los canales del VeterinarioHome.tsx"),_&&T.removeChannel(_),w&&T.removeChannel(w),j&&T.removeChannel(j)}},[t,e,p]);const y=_=>{g(_),m(!0)},b=async()=>{if(!(!x||!d)){n(!0);try{const{error:_}=await T.from("citas").update({id_veterinario:d.id_veterinario,estado:"programada"}).eq("id_cita",x.id_cita);if(_)throw new Error(`Error de Supabase al asignar cita: ${_.message} (Código: ${_.code})`)}catch(_){console.error("Error al asignar la cita:",_.message),a(`No se pudo asignar la cita: ${_.message}`)}finally{m(!1),g(null),n(!1)}}};return t||r?o.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white font-inter",children:[o.jsx(Fe,{className:"animate-spin h-8 w-8 text-green-400"}),o.jsx("p",{className:"ml-3 text-lg",children:"Cargando dashboard de veterinario..."})]}):i?o.jsxs("div",{className:"p-6 bg-gray-900 text-white min-h-screen font-inter",children:[o.jsxs("div",{className:`bg-red-800 p-4 rounded-md text-red-100 mb-4 flex\r
          items-center`,children:[o.jsx(Bh,{className:"h-6 w-6 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold",children:"Error: "}),o.jsx("p",{children:i}),o.jsx("p",{className:"text-sm mt-2",children:"Por favor, verifica tu conexión, las políticas de RLS en Supabase y que tu cuenta de usuario esté correctamente asociada a un perfil de veterinario."})]})]}),o.jsx("button",{onClick:()=>window.location.reload(),className:`px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-\r
            gray-600 transition shadow-md mt-4`,children:"Reintentar Carga"})]}):o.jsxs("div",{className:"space-y-10 p-6 bg-gray-900 text-white min-h-screen font-inter",children:[o.jsxs("h2",{className:`text-3xl font-extrabold text-green-400 text-center mb-8\r
        flex items-center justify-center gap-3`,children:[o.jsx(Yl,{className:"h-8 w-8"}),"¡Bienvenido, Dr. ",d==null?void 0:d.nombre,"!"]}),d&&o.jsxs("div",{className:`bg-gray-800 p-6 rounded-lg shadow-lg mb-8 border\r
          border-gray-700`,children:[o.jsxs("h3",{className:`text-2xl font-semibold mb-4 text-white flex items-\r
            center gap-2`,children:[o.jsx(tn,{size:24})," Tu Perfil"]}),o.jsxs("p",{className:"text-gray-400 mb-2",children:["Email: ",o.jsx("span",{className:`font-\r
            medium text-green-200`,children:d.email})]}),o.jsxs("p",{className:"text-gray-400 mb-2",children:["Teléfono: ",o.jsx("span",{className:`font-\r
            medium text-green-200`,children:d.telefono})]}),o.jsxs("p",{className:"text-gray-400 mb-2",children:["Especialidad: ",o.jsx("span",{className:"font-medium text-green-200",children:d.especialidad||"No especificada"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:`bg-gray-800 p-6 rounded-lg shadow-lg border border-\r
          gray-700`,children:[o.jsxs("h3",{className:`text-2xl text-green-300 mb-4 font-semibold flex\r
            items-center gap-2`,children:[o.jsx(Pv,{size:24})," Tus Próximas Citas Asignadas (",s.length,")"]}),s.length===0?o.jsx("p",{className:"text-gray-400",children:"No tienes citas próximas asignadas."}):o.jsx("div",{className:"space-y-3",children:s.map(_=>o.jsxs("div",{className:`bg-gray-700 p-3 rounded-\r
                  md border border-gray-600`,children:[o.jsxs("p",{className:"text-lg font-semibold text-white mb-1",children:[o.jsx(Ui,{size:16,className:`inline-block mr-2 text-\r
                      green-200`}),new Date(_.fecha).toLocaleString("es-ES",{dateStyle:"medium",timeStyle:"short"})," - ",_.motivo," (",_.tipo||"N/A",")"]}),o.jsxs("p",{className:"text-gray-300 text-sm mb-1",children:[o.jsx(yt,{size:14,className:`inline-block mr-2 text-\r
                      green-200`}),"Mascota: ",o.jsxs("span",{className:`font-\r
                      medium`,children:[_.mascota_nombre||_.nombre_mascota_invitada||"N/A","(",_.mascota_especie||"N/A",")"]})]}),o.jsxs("p",{className:"text-gray-300 text-sm",children:[o.jsx(tn,{size:14,className:`inline-block mr-2 text-\r
                      green-200`}),"Cliente: ",o.jsxs("span",{className:`font-\r
                      medium`,children:[_.cliente_nombre||_.nombre_cliente_invitado||"N/A","(",_.cliente_telefono||"N/A",")"]})]}),_.id_mascota&&o.jsxs(Jr,{to:`/veterinario-dashboard/historial-clinico/${_.id_mascota}`,className:`mt-4 px-4 py-2 bg-indigo-600 text-white\r
                        rounded-md hover:bg-indigo-700 transition duration-200 inline-flex items-\r
                        center shadow-md text-sm`,children:[o.jsx($w,{size:16,className:"mr-2"})," Ver Historial"]})]},_.id_cita))}),o.jsx(Jr,{to:"/veterinario-dashboard/gestionar-citas",className:`mt-6 w-full flex items-center justify-center px-4 py-\r
              3 bg-green-700 text-white rounded-md hover:bg-green-600 transition shadow-md\r
              text-lg font-semibold`,children:"Ver Todas Mis Citas"})]}),o.jsxs("div",{className:`bg-gray-800 p-6 rounded-lg shadow-lg border border-\r
          gray-700`,children:[o.jsxs("h3",{className:`text-2xl text-yellow-300 mb-4 font-semibold flex\r
            items-center gap-2`,children:[o.jsx(Ui,{size:24})," Citas Nuevas / Sin Asignar (",c.length,")"]}),c.length===0?o.jsx("p",{className:"text-gray-400",children:"No hay citas pendientes de asignación en este momento."}):o.jsx("div",{className:"space-y-3",children:c.map(_=>o.jsxs("div",{className:`bg-gray-700 p-3 rounded-\r
                  md border border-gray-600`,children:[o.jsxs("p",{className:"text-lg font-semibold text-white mb-1",children:[o.jsx(Ui,{size:16,className:`inline-block mr-2 text-\r
                      yellow-200`}),new Date(_.fecha).toLocaleString("es-ES",{dateStyle:"medium",timeStyle:"short"})," - ",_.motivo," (",_.tipo||"N/A",")"]}),o.jsxs("p",{className:"text-gray-300 text-sm mb-1",children:[o.jsx(yt,{size:14,className:`inline-block mr-2 text-\r
                      yellow-200`}),"Mascota: ",o.jsxs("span",{className:`font-\r
                      medium`,children:[_.mascota_nombre||_.nombre_mascota_invitada||"N/A","(",_.mascota_especie||"N/A",")"]})]}),o.jsxs("p",{className:"text-gray-300 text-sm",children:[o.jsx(tn,{size:14,className:`inline-block mr-2 text-\r
                      yellow-200`}),"Cliente: ",o.jsxs("span",{className:`font-\r
                      medium`,children:[_.cliente_nombre||_.nombre_cliente_invitado||"N/A","(",_.cliente_telefono||"N/A",")"]})]}),o.jsxs("button",{onClick:()=>y(_),className:`mt-4 px-4 py-2 bg-green-600 text-white\r
                      rounded-md hover:bg-green-700 transition duration-200 inline-flex items-\r
                      center shadow-md text-sm`,children:[o.jsx(Vh,{size:16,className:"mr-2"})," Participar"]})]},_.id_cita))}),o.jsx(Jr,{to:"/veterinario-dashboard/gestionar-citas",className:`mt-6 w-full flex items-center justify-center px-4 py-\r
              3 bg-yellow-700 text-white rounded-md hover:bg-yellow-600 transition shadow-\r
              md text-lg font-semibold`,children:"Ver Todas las Citas Nuevas"})]})]}),o.jsxs("section",{className:`bg-gray-800 p-6 rounded-lg shadow-lg border\r
        border-gray-700`,children:[o.jsxs("h3",{className:`text-2xl text-green-300 mb-6 font-semibold flex\r
          items-center gap-2`,children:[o.jsx(Cp,{size:24})," Acciones Rápidas"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(Jr,{to:"/veterinario-dashboard/gestionar-citas",className:`flex items-center justify-center px-4 py-3 bg-indigo-\r
              600 text-white rounded-md hover:bg-indigo-700 transition shadow-md text-lg\r
              font-semibold transform hover:scale-105`,children:[o.jsx(Pv,{size:20,className:"mr-2"})," Gestionar Citas"]}),o.jsxs(Jr,{to:"/veterinario-dashboard/gestionar-mascotas",className:`flex items-center justify-center px-4 py-3 bg-purple-\r
              600 text-white rounded-md hover:bg-purple-700 transition shadow-md text-lg\r
              font-semibold transform hover:scale-105`,children:[o.jsx(yt,{size:20,className:"mr-2"})," Gestionar Mascotas"]})]})]}),o.jsx(vI,{isOpen:h,title:"Confirmar Asignación de Cita",message:`¿Estás seguro de que quieres asignarte la cita para 
          ${(x==null?void 0:x.mascota_nombre)||(x==null?void 0:x.nombre_mascota_invitada)||"la mascota"} 
          (${(x==null?void 0:x.mascota_especie)||"N/A"}) el 
          ${x!=null&&x.fecha?new Date(x.fecha).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit"}):""} a las 
          ${x!=null&&x.fecha?new Date(x.fecha).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):""}? Esta cita pasará a estado 'programada'.`,onConfirm:b,onCancel:()=>{m(!1),g(null)},confirmButtonText:"Sí, Asignar Cita",cancelButtonText:"No, Cancelar"})]})},Yf={id_cliente:"",id_mascota:"",fecha:new Date().toISOString().slice(0,16),motivo:"",tipo:"",nombre_cliente_invitado:"",nombre_mascota_invitada:""},Ybe=({isOpen:e,cita:t,onClose:r,allVeterinarios:n})=>{if(!e||!t)return null;const i=n.find(a=>a.id_veterinario===t.id_veterinario);return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 animate-fade-in",children:o.jsxs("div",{className:"bg-gray-800 p-8 rounded-lg shadow-xl max-w-lg w-full border border-blue-700 relative",children:[o.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-400 hover:text-white",title:"Cerrar Detalles",children:o.jsx(Ve,{size:24})}),o.jsxs("h3",{className:"text-2xl font-bold text-blue-400 mb-6 text-center flex items-center justify-center gap-2",children:[o.jsx(Oa,{size:24})," Detalles de la Cita"]}),o.jsxs("div",{className:"space-y-3 text-gray-200",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Fecha y Hora:"})," ",ge(t.fecha).format("DD/MM/YYYY HH:mm [hrs]")]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Mascota:"})," ",t.mascota_nombre||t.nombre_mascota_invitada||"N/A"," (",t.mascota_especie||"Desconocida",")"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Cliente:"})," ",t.cliente_nombre||t.nombre_cliente_invitado||"N/A"]}),t.cliente_email&&o.jsxs("p",{children:[o.jsx("strong",{children:"Email Cliente:"})," ",t.cliente_email]}),t.cliente_telefono&&o.jsxs("p",{children:[o.jsx("strong",{children:"Teléfono Cliente:"})," ",t.cliente_telefono]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Motivo:"})," ",t.motivo]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Tipo:"})," ",t.tipo||"General"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Estado:"})," ",o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold
            ${t.estado.toLowerCase()==="pendiente"?"bg-yellow-100 text-yellow-800":""}
            ${t.estado.toLowerCase()==="aprobada"?"bg-green-100 text-green-800":""}
            ${t.estado.toLowerCase()==="programada"?"bg-purple-100 text-purple-800":""}
            ${t.estado.toLowerCase()==="realizada"?"bg-blue-100 text-blue-800":""}
            ${t.estado.toLowerCase()==="cancelada"?"bg-red-100 text-red-800":""}
            `,children:t.estado})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Veterinario Asignado:"})," ",i?i.nombre:"No asignado"]})]}),o.jsx("div",{className:"mt-8 flex justify-center",children:o.jsx("button",{onClick:r,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition shadow-md",children:"Cerrar"})})]})})},Gbe=()=>{const{user:e,loading:t}=gi(),[r,n]=S.useState(!0),[i,a]=S.useState(null),[s,l]=S.useState(null),[c,u]=S.useState([]),[d,f]=S.useState(null),[h,m]=S.useState([]),[x,g]=S.useState([]),[v,p]=S.useState([]),[y,b]=S.useState(""),[_,w]=S.useState("todas"),[j,N]=S.useState("todos"),[k,E]=S.useState(""),[M,C]=S.useState(!1),[O,L]=S.useState(null),[$,B]=S.useState(null),[Y,F]=S.useState(!1),[R,D]=S.useState(Yf),[X,ne]=S.useState([]),[Q,K]=S.useState(!1),[ce,me]=S.useState(null),[xe,ue]=S.useState(!1),be=S.useCallback(async P=>{try{const{data:q,error:oe}=await T.from("veterinarios").select("id_veterinario, nombre, especialidad, email, telefono, id_user").eq("id_user",P).single();if(oe)throw oe.code==="PGRST116"?new Error("No se encontró un perfil de veterinario para tuusuario. Asegúrate de que tu cuenta esté asociada a un veterinario."):oe;return q}catch(q){console.error("Error al obtener el perfil del veterinario:",q.message)}return null},[]),U=S.useCallback(async()=>{try{const{data:P,error:q}=await T.from("veterinarios").select("id_veterinario, nombre, especialidad, email, telefono, id_user");if(q)throw q;m(P||[])}catch(P){console.error("Error al cargar la lista de veterinarios:",P.message)}},[]),se=S.useCallback(async()=>{if(n(!0),a(null),l(null),!e){n(!1);return}try{const[P]=await Promise.all([be(e.id),U()]);if(!P)throw new Error("Perfil de veterinario no encontrado o no autorizado.");f(P);const[{data:q,error:oe},{data:re,error:le}]=await Promise.all([T.from("clientes").select("id_cliente, nombre, email, telefono"),T.from("mascotas").select("id_mascota, id_cliente, nombre, especie, raza, edad, peso")]);if(oe)throw oe;if(g(q||[]),le)throw le;p(re||[]);const{data:ae,error:Se}=await T.from("citas").select(`
          id_cita,
          id_mascota,
          id_cliente,
          fecha,
          motivo,
          estado,
          tipo,
          id_veterinario,
          nombre_cliente_invitado,
          nombre_mascota_invitada
        `).order("fecha",{ascending:!0});if(Se)throw Se;const Pe=(ae||[]).map($e=>{const ot=$e.id_cliente?(q||[]).find(Me=>Me.id_cliente===$e.id_cliente):null,He=$e.id_mascota?(re||[]).find(Me=>Me.id_mascota===$e.id_mascota):null;return{id_cita:$e.id_cita,id_mascota:$e.id_mascota,id_cliente:$e.id_cliente,fecha:$e.fecha,motivo:$e.motivo,estado:$e.estado,tipo:$e.tipo,id_veterinario:$e.id_veterinario,nombre_cliente_invitado:$e.nombre_cliente_invitado,nombre_mascota_invitada:$e.nombre_mascota_invitada,mascota_nombre:He==null?void 0:He.nombre,mascota_especie:He==null?void 0:He.especie,cliente_nombre:ot==null?void 0:ot.nombre,cliente_email:ot==null?void 0:ot.email,cliente_telefono:ot==null?void 0:ot.telefono}});u(Pe)}catch(P){console.error("Error al cargar todos los datos de citas:",P.message),a("Error al cargar citas: "+P.message)}finally{n(!1)}},[e,be,U]);S.useEffect(()=>(se(),()=>{}),[t,e,se]);const W=S.useCallback(async(P,q,oe=null)=>{n(!0),a(null),l(null);try{const re={estado:q};if(q==="programada"&&oe!==null)re.id_veterinario=oe,l("¡Cita asignada y programada correctamente!");else if(q==="revertir"){const ae=c.find(Se=>Se.id_cita===P);(ae==null?void 0:ae.id_veterinario)!==null?(re.estado="programada",re.id_veterinario=ae==null?void 0:ae.id_veterinario,l("¡Cita revertida a Programada correctamente!")):(re.estado="pendiente",re.id_veterinario=null,l("¡Cita revertida a Pendiente correctamente!"))}else q==="realizada"?l("¡Cita marcada como REALIZADA correctamente!"):q==="cancelada"&&l("¡Cita CANCELADA correctamente!");const{error:le}=await T.from("citas").update(re).eq("id_cita",P);if(le)throw new Error(`Error de Supabase al actualizar cita: ${le.message}`);se()}catch(re){console.error("Error al actualizar cita:",re.message),a(`No se pudo actualizar la cita: ${re.message}`)}finally{n(!1),C(!1),B(null),L(null)}},[se,c]),I=(P,q)=>{B(P),L(q),C(!0)},G=()=>{!$||!d||!O||(O==="asignar"?W($.id_cita,"programada",d.id_veterinario):O==="completar"?W($.id_cita,"realizada"):O==="cancelar"?W($.id_cita,"cancelada"):O==="revertir"&&W($.id_cita,"revertir"))},ee=S.useMemo(()=>{let P=c;if(_!=="todas"&&(P=P.filter(q=>q.estado.toLowerCase()===_)),j!=="todos"&&(P=P.filter(q=>{var oe;return((oe=q.tipo)==null?void 0:oe.toLowerCase())===j})),k&&(P=P.filter(q=>ge(q.fecha).format("YYYY-MM-DD")===k)),y){const q=y.toLowerCase();P=P.filter(oe=>{var re,le,ae,Se,Pe;return((re=oe.mascota_nombre)==null?void 0:re.toLowerCase().includes(q))||((le=oe.nombre_mascota_invitada)==null?void 0:le.toLowerCase().includes(q))||((ae=oe.cliente_nombre)==null?void 0:ae.toLowerCase().includes(q))||((Se=oe.nombre_cliente_invitado)==null?void 0:Se.toLowerCase().includes(q))||oe.motivo.toLowerCase().includes(q)||oe.estado.toLowerCase().includes(q)||((Pe=oe.tipo)==null?void 0:Pe.toLowerCase().includes(q))})}return P},[c,_,j,k,y]),de=P=>{const{name:q,value:oe}=P.target;if(D(re=>({...re,[q]:oe})),q==="id_cliente"){const re=oe?parseInt(oe):null;re?(ne(v.filter(le=>le.id_cliente===re)),D(le=>({...le,id_mascota:""}))):(ne([]),D(le=>({...le,id_mascota:""})))}},J=async P=>{if(P.preventDefault(),K(!0),a(null),l(null),!d){a("El perfil del veterinario no se ha cargado. No se puede añadir la cita."),K(!1);return}if(!R.fecha||!R.motivo||!R.tipo){a("Fecha, motivo y tipo son campos obligatorios."),K(!1);return}const q=R.id_cliente&&R.id_mascota,oe=R.nombre_cliente_invitado&&R.nombre_mascota_invitada;if(!q&&!oe){a("Por favor, selecciona un cliente y una mascota registrados, o proporciona nombres para una cita de invitado."),K(!1);return}try{const re={fecha:R.fecha,motivo:R.motivo,tipo:R.tipo,estado:"programada",id_veterinario:d.id_veterinario,id_cliente:q?parseInt(R.id_cliente):null,id_mascota:q?parseInt(R.id_mascota):null,nombre_cliente_invitado:oe?R.nombre_cliente_invitado:null,nombre_mascota_invitada:oe?R.nombre_mascota_invitada:null},{error:le}=await T.from("citas").insert([re]);if(le)throw new Error(`Error de Supabase al insertar la cita: ${le.message}`);l("¡Cita añadida correctamente y asignada a ti!"),D(Yf),ne([]),F(!1),se()}catch(re){console.error("Error al añadir nueva cita:",re.message),a(`No se pudo añadir la cita: ${re.message}`)}finally{K(!1)}},A=P=>{me(P),ue(!0)};return t||r?o.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white font-inter",children:[o.jsx(Fe,{className:"animate-spin h-8 w-8 text-green-400"}),o.jsx("p",{className:"ml-3 text-lg",children:"Cargando gestión de citas..."})]}):i?o.jsxs("div",{className:"p-6 bg-gray-900 text-white min-h-screen font-inter",children:[o.jsxs("div",{className:`bg-red-800 p-4 rounded-md text-red-100 mb-4 flex\r
          items-center`,children:[o.jsx(Bh,{className:"h-6 w-6 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold",children:"Error:"}),o.jsx("p",{children:i}),o.jsx("p",{className:"text-sm mt-2",children:"Por favor, verifica tu conexión y las políticas de RLS en Supabase. Asegúrate de que el veterinario tenga permisos para leer clientes, mascotas y citas, y para ACTUALIZAR/INSERTAR el estado/asignación de citas."})]})]}),o.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition shadow-md mt-4",children:"Reintentar Carga"})]}):o.jsxs("div",{className:"bg-gray-900 text-white min-h-screen font-inter py-6",children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("h2",{className:"text-3xl font-extrabold text-indigo-400 text-center mb-8 flex items-center justify-center gap-3",children:[o.jsx(Pv,{className:"h-8 w-8"}),"Gestión de Citas"]}),s&&o.jsxs("div",{className:`bg-green-700 p-4 rounded-md text-green-100 mb-4 flex\r
            items-center justify-between shadow-md`,children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Vh,{className:"h-6 w-6 mr-3"}),o.jsx("p",{className:"font-semibold",children:s})]}),o.jsx("button",{onClick:()=>l(null),className:"text-green-100 hover:text-white",children:o.jsx(Ve,{size:20})})]}),o.jsxs("div",{className:`bg-gray-800 p-6 rounded-lg shadow-lg mb-8 border\r
          border-gray-700 w-full`,children:[" ",o.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\r
            mb-4`,children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"search",className:`block text-gray-300 text-sm\r
                font-medium mb-1`,children:"Buscar (Mascota/Cliente/Motivo)"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Pp,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:"text",id:"search",className:`w-full pl-10 pr-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:ring-indigo-500\r
                    focus:border-indigo-500`,placeholder:"Buscar citas...",value:y,onChange:P=>b(P.target.value)})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"statusFilter",className:`block text-gray-300\r
                text-sm font-medium mb-1`,children:"Filtrar por Estado"}),o.jsxs("select",{id:"statusFilter",className:`w-full p-2.5 bg-gray-700 border border-gray-600\r
                  rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500`,value:_,onChange:P=>w(P.target.value),children:[o.jsx("option",{value:"todas",children:"Todas"}),o.jsx("option",{value:"pendiente",children:"Pendiente"}),o.jsx("option",{value:"aprobada",children:"Aprobada (Cliente)"}),o.jsx("option",{value:"programada",children:"Programada (Veterinario)"}),o.jsx("option",{value:"realizada",children:"Realizada"}),o.jsx("option",{value:"cancelada",children:"Cancelada"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"typeFilter",className:"block text-gray-300 text-sm font-medium mb-1",children:"Filtrar por Tipo"}),o.jsxs("select",{id:"typeFilter",className:`w-full p-2.5 bg-gray-700 border border-gray-600\r
                  rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500`,value:j,onChange:P=>N(P.target.value),children:[o.jsx("option",{value:"todos",children:"Todos"}),o.jsx("option",{value:"chequeo",children:"Chequeo"}),o.jsx("option",{value:"vacunacion",children:"Vacunación"}),o.jsx("option",{value:"grooming",children:"Grooming"}),o.jsx("option",{value:"emergencia",children:"Emergencia"}),o.jsx("option",{value:"cirugia",children:"Cirugía"}),o.jsx("option",{value:"revision-consulta",children:"Revisión/Consulta"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"dateFilter",className:"block text-gray-300 text-sm font-medium mb-1",children:"Filtrar por Fecha"}),o.jsx("input",{type:"date",id:"dateFilter",className:`w-full p-2.5 bg-gray-700 border border-gray-600\r
                  rounded-md text-white placeholder-gray-400 focus:ring-indigo-500\r
                  focus:border-indigo-500`,value:k,onChange:P=>E(P.target.value)})]})]})]}),o.jsx("div",{className:"mb-6 text-right",children:o.jsxs("button",{onClick:()=>F(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition shadow-md flex items-center justify-center ml-auto",title:"Añadir Nueva Cita",children:[o.jsx(Wt,{size:20,className:"mr-2"})," Añadir Nueva Cita"]})}),o.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700 w-full",children:[o.jsx("div",{className:"mb-4 text-right",children:o.jsxs("button",{onClick:se,className:"px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 transition shadow-md flex items-center justify-end ml-auto",disabled:r,children:[r?o.jsx(Fe,{className:"animate-spin mr-2",size:18}):o.jsx(tT,{className:"mr-2",size:18}),"Actualizar Tabla"]})}),ee.length===0?o.jsx("div",{className:"text-center text-gray-400 py-4",children:o.jsx("p",{children:"No se encontraron citas que coincidan con los filtros aplicados."})}):o.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-700",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[o.jsx("thead",{className:"bg-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:`px-6 py-3 text-left text-xs\r
                      font-medium text-gray-300 uppercase tracking-wider`,children:"Fecha & Hora"}),o.jsx("th",{scope:"col",className:`px-6 py-3 text-left text-xs\r
                      font-medium text-gray-300 uppercase tracking-wider`,children:"Mascota"}),o.jsx("th",{scope:"col",className:`px-6 py-3 text-left text-xs\r
                      font-medium text-gray-300 uppercase tracking-wider`,children:"Cliente"}),o.jsx("th",{scope:"col",className:`px-6 py-3 text-left text-xs\r
                      font-medium text-gray-300 uppercase tracking-wider`,children:"Motivo & Tipo"}),o.jsx("th",{scope:"col",className:`px-6 py-3 text-left text-xs\r
                      font-medium text-gray-300 uppercase tracking-wider`,children:"Estado"}),o.jsx("th",{scope:"col",className:`px-6 py-3 text-center text-xs\r
                      font-medium text-gray-300 uppercase tracking-wider`,children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:ee.map(P=>o.jsxs("tr",{className:"hover:bg-gray-700 transition-colors duration-200 cursor-pointer",onClick:()=>A(P),children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm font-medium text-white",children:ge(P.fecha).format("DD/MM/YYYY")}),o.jsx("div",{className:"text-xs text-gray-400",children:ge(P.fecha).format("HH:mm [hrs]")})]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsxs("div",{className:"text-sm text-white",children:[o.jsx(yt,{size:14,className:`inline-block mr-1\r
                            text-green-300`}),P.mascota_nombre||P.nombre_mascota_invitada||"N/A"]}),o.jsxs("div",{className:"text-xs text-gray-400",children:["(",P.mascota_especie||"Desconocida",")"]})]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsxs("div",{className:"text-sm text-white",children:[o.jsx(tn,{size:14,className:`inline-block mr-1\r
                            text-blue-300`}),P.cliente_nombre||P.nombre_cliente_invitado||"N/A"]}),o.jsx("div",{className:"text-xs text-gray-400",children:P.cliente_telefono||"N/A"})]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm font-medium text-white",children:P.motivo}),o.jsxs("div",{className:"text-xs text-gray-400",children:["(",P.tipo||"General",")"]})]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("span",{className:`px-2 inline-flex text-xs leading-5
                          font-semibold rounded-full
                          ${P.estado.toLowerCase()==="pendiente"?"bg-yellow-100 text-yellow-800":""}
                          ${P.estado.toLowerCase()==="aprobada"?"bg-green-100 text-green-800":""}
                          ${P.estado.toLowerCase()==="programada"?"bg-purple-100 text-purple-800":""}
                          ${P.estado.toLowerCase()==="realizada"?"bg-blue-100 text-blue-800":""}
                          ${P.estado.toLowerCase()==="cancelada"?"bg-red-100 text-red-800":""}
                          `,children:P.estado}),P.id_veterinario===(d==null?void 0:d.id_veterinario)&&o.jsx("div",{className:"text-xs text-green-400 mt-1",children:"(Tu cita)"}),P.id_veterinario!==null&&P.id_veterinario!==(d==null?void 0:d.id_veterinario)&&o.jsx("div",{className:"text-xs text-red-400 mt-1",children:"(Asignada a otro vet)"})]}),o.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-center\r
                        text-sm font-medium`,children:o.jsxs("div",{className:"flex justify-center space-x-2",children:[P.id_veterinario===null&&P.estado.toLowerCase()==="pendiente"&&o.jsx("button",{onClick:q=>{q.stopPropagation(),I(P,"asignar")},className:"p-2 rounded-full bg-green-600 text-white hover:bg-green-700 transition shadow-md",title:"Asignarme Cita",children:o.jsx(HA,{size:18})}),P.id_veterinario===(d==null?void 0:d.id_veterinario)&&P.estado.toLowerCase()==="programada"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:q=>{q.stopPropagation(),I(P,"completar")},className:"p-2 rounded-full bg-blue-600 text-white hover:bg-blue-700 transition shadow-md",title:"Marcar como Realizada",children:o.jsx(Vh,{size:18})}),o.jsx("button",{onClick:q=>{q.stopPropagation(),I(P,"cancelar")},className:"p-2 rounded-full bg-red-600 text-white hover:bg-red-700 transition shadow-md",title:"Cancelar Cita",children:o.jsx(Ve,{size:18})})]}),P.estado.toLowerCase()==="cancelada"&&o.jsx("button",{onClick:q=>{q.stopPropagation(),I(P,"revertir")},className:"p-2 rounded-full bg-orange-600 text-white hover:bg-orange-700 transition shadow-md",title:"Revertir Cita",children:o.jsx(XA,{size:18})})]})})]},P.id_cita))})]})})]})]})," ",o.jsx(vI,{isOpen:M,title:O==="asignar"?"Confirmar Asignación de Cita":O==="completar"?"Confirmar Cita Realizada":O==="cancelar"?"Confirmar Cancelación de Cita":O==="revertir"?"Confirmar Revertir Cita":"",message:O==="asignar"?`¿Estás seguro de que quieres asignarte la cita para ${($==null?void 0:$.mascota_nombre)||($==null?void 0:$.nombre_mascota_invitada)||"la mascota"} (${($==null?void 0:$.mascota_especie)||"N/A"}) el ${$!=null&&$.fecha?ge($.fecha).format("DD/MM/YYYY HH:mm"):""}?`:O==="completar"?`¿Estás seguro de que quieres marcar la cita para ${($==null?void 0:$.mascota_nombre)||($==null?void 0:$.nombre_mascota_invitada)||"la mascota"} como REALIZADA? Esta acción no se puede deshacer.`:O==="cancelar"?`¿Estás seguro de que quieres CANCELAR la cita para ${($==null?void 0:$.mascota_nombre)||($==null?void 0:$.nombre_mascota_invitada)||"la mascota"}? Esta acción no se puede deshacer.`:O==="revertir"?`¿Estás seguro de que quieres REVERTIR la cancelación de la cita para ${($==null?void 0:$.mascota_nombre)||($==null?void 0:$.nombre_mascota_invitada)||"la mascota"}?`:"",onConfirm:G,onCancel:()=>{C(!1),B(null),L(null)},confirmButtonText:O==="asignar"?"Sí, Asignar":O==="completar"?"Sí, Realizada":O==="cancelar"?"Sí, Cancelar":O==="revertir"?"Sí, Revertir":"",cancelButtonText:"No, Mantener"}),Y&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 font-inter",children:o.jsxs("div",{className:"bg-gray-800 p-8 rounded-lg shadow-xl max-w-2xl w-full border border-gray-700 relative",children:[o.jsx("button",{onClick:()=>{F(!1),D(Yf),ne([]),a(null)},className:"absolute top-4 right-4 text-gray-400 hover:text-white",title:"Cerrar",children:o.jsx(Ve,{size:24})}),o.jsx("h3",{className:"text-2xl font-bold text-blue-400 mb-6 text-center",children:"Añadir Nueva Cita"}),i&&o.jsxs("div",{className:`bg-red-800 p-3 rounded-md text-red-100 mb-4\r
                flex items-center`,children:[o.jsx(Bh,{className:"h-5 w-5 mr-2"}),o.jsx("p",{children:i})]}),o.jsxs("form",{onSubmit:J,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"id_cliente",className:`block text-gray-300\r
                    text-sm font-medium mb-1`,children:"Cliente Registrado (Opcional)"}),o.jsxs("select",{id:"id_cliente",name:"id_cliente",value:R.id_cliente,onChange:de,className:"w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"",children:"Selecciona un cliente"}),x.map(P=>o.jsxs("option",{value:P.id_cliente,children:[P.nombre," (",P.email||P.telefono,")"]},P.id_cliente))]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Déjalo en blanco para un cliente invitado."})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"id_mascota",className:`block text-gray-300\r
                    text-sm font-medium mb-1`,children:"Mascota Registrada (Opcional)"}),o.jsxs("select",{id:"id_mascota",name:"id_mascota",value:R.id_mascota,onChange:de,className:"w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500",disabled:!R.id_cliente,children:[o.jsx("option",{value:"",children:"Selecciona una mascota"}),X.map(P=>o.jsxs("option",{value:P.id_mascota,children:[P.nombre," (",P.especie||"Desconocida",")"]},P.id_mascota))]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Selecciona después de elegir un cliente."})]})]}),o.jsx("div",{className:"text-center text-gray-400 my-2",children:"-- O --"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"nombre_cliente_invitado",className:`block\r
                    text-gray-300 text-sm font-medium mb-1`,children:"Nombre Cliente Invitado (Opcional)"}),o.jsx("input",{type:"text",id:"nombre_cliente_invitado",name:"nombre_cliente_invitado",value:R.nombre_cliente_invitado,onChange:de,className:`w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:ring-blue-500\r
                      focus:border-blue-500`,placeholder:"Ej: Juan Pérez"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"nombre_mascota_invitada",className:`block\r
                    text-gray-300 text-sm font-medium mb-1`,children:"Nombre Mascota Invitada (Opcional)"}),o.jsx("input",{type:"text",id:"nombre_mascota_invitada",name:"nombre_mascota_invitada",value:R.nombre_mascota_invitada,onChange:de,className:`w-full p-2.5 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500\r
                      focus:border-blue-500`,placeholder:"Ej: Buddy"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"fecha",className:"block text-gray-300 text-sm font-medium mb-1",children:"Fecha y Hora"}),o.jsx("input",{type:"datetime-local",id:"fecha",name:"fecha",value:R.fecha,onChange:de,className:`w-full p-2.5 bg-gray-700 border border-gray-600\r
                    rounded-md text-white focus:ring-blue-500 focus:border-blue-500`,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"motivo",className:"block text-gray-300 text-sm font-medium mb-1",children:"Motivo de la Cita"}),o.jsx("textarea",{id:"motivo",name:"motivo",value:R.motivo,onChange:de,rows:3,className:`w-full p-2.5 bg-gray-700 border border-gray-600\r
                    rounded-md text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500`,placeholder:"Describe el motivo de la cita",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"tipo",className:`block text-gray-300 text-sm\r
                  font-medium mb-1`,children:"Tipo de Cita"}),o.jsxs("select",{id:"tipo",name:"tipo",value:R.tipo,onChange:de,className:`w-full p-2.5 bg-gray-700 border border-gray-600\r
                    rounded-md text-white focus:ring-blue-500 focus:border-blue-500`,required:!0,children:[o.jsx("option",{value:"",children:"Selecciona un tipo"}),o.jsx("option",{value:"chequeo",children:"Chequeo"}),o.jsx("option",{value:"vacunacion",children:"Vacunación"}),o.jsx("option",{value:"grooming",children:"Grooming"}),o.jsx("option",{value:"emergencia",children:"Emergencia"}),o.jsx("option",{value:"cirugia",children:"Cirugía"}),o.jsx("option",{value:"revision-consulta",children:"Revisión/Consulta"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>{F(!1),D(Yf),ne([]),a(null)},className:`px-5 py-2 bg-gray-600 text-white rounded-md\r
                    hover:bg-gray-700 transition`,children:"Cancelar"}),o.jsx("button",{type:"submit",className:`px-5 py-2 bg-blue-600 text-white rounded-md\r
                    hover:bg-blue-700 transition flex items-center justify-center`,disabled:Q,children:Q?o.jsxs(o.Fragment,{children:[o.jsx(Fe,{className:"animate-spin h-5 w-5 mr-2"}),"Guardando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Wt,{className:"mr-2",size:20})," Añadir Cita"]})})]})]})]})}),o.jsx(Ybe,{isOpen:xe,cita:ce,onClose:()=>ue(!1),allVeterinarios:h})]})},ki=({children:e,allowedRoles:t})=>{const{isAuthenticated:r,loading:n,user:i}=gi();if(n)return o.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white",children:o.jsx("p",{className:"text-xl text-indigo-400",children:"Verificando autenticación..."})});if(!r)return o.jsx(gs,{to:"/login",replace:!0});if(t&&(i!=null&&i.role)&&!t.includes(i.role))switch(console.warn(`Acceso denegado. Rol del usuario: ${i.role}, Roles permitidos: ${t.join(", ")}`),i.role){case"cliente":return o.jsx(gs,{to:"/dashboard",replace:!0});case"admin":return o.jsx(gs,{to:"/admin-dashboard",replace:!0});case"veterinario":return o.jsx(gs,{to:"/veterinario-dashboard",replace:!0});case"asistente":return o.jsx(gs,{to:"/asistente-dashboard",replace:!0});default:return o.jsx(gs,{to:"/",replace:!0})}return o.jsx(o.Fragment,{children:e})},Kbe=()=>o.jsx(gF,{children:o.jsx(Y5,{children:o.jsxs(z5,{children:[o.jsx(Ie,{path:"/",element:o.jsx(Obe,{})}),o.jsx(Ie,{path:"/login",element:o.jsx(_H,{})}),o.jsx(Ie,{path:"/register",element:o.jsx(Mbe,{})}),o.jsx(Ie,{path:"/calculadora-alimentos",element:o.jsx(Tbe,{})}),o.jsx(Ie,{path:"/reset-password",element:o.jsx($be,{})}),o.jsx(Ie,{path:"/reset-password-confirm",element:o.jsx(Dbe,{})}),o.jsx(Ie,{path:"/create-appointment",element:o.jsx(Vbe,{})}),o.jsxs(Ie,{path:"/dashboard",element:o.jsx(ki,{allowedRoles:["cliente"],children:o.jsx(Ibe,{})}),children:[o.jsx(Ie,{index:!0,element:o.jsx(Rbe,{})}),o.jsx(Ie,{path:"citas",element:o.jsx(Lbe,{})}),o.jsx(Ie,{path:"mascotas",element:o.jsx(zbe,{})}),o.jsx(Ie,{path:"historial-clinico/:mascotaId?",element:o.jsx(E0,{})})]}),o.jsxs(Ie,{path:"/admin-dashboard",element:o.jsx(ki,{allowedRoles:["admin"],children:o.jsx(GE,{})}),children:[o.jsx(Ie,{index:!0,element:o.jsx(HE,{})}),o.jsx(Ie,{path:"agregar-usuario",element:o.jsx(Fbe,{})}),o.jsx(Ie,{path:"ver-usuarios",element:o.jsx(Ube,{})}),o.jsx(Ie,{path:"gestion-mascotas",element:o.jsx(jy,{})}),o.jsx(Ie,{path:"gestionar-citas",element:o.jsx(XE,{})}),o.jsx(Ie,{path:"ver-mascotas",element:o.jsx(Bbe,{})}),o.jsx(Ie,{path:"gestionar-citas-page",element:o.jsx(zF,{})}),o.jsx(Ie,{path:"admin-citas-module",element:o.jsx($0,{})}),o.jsx(Ie,{path:"historial-clinico/:mascotaId?",element:o.jsx(E0,{})}),o.jsx(Ie,{path:"inventario",element:o.jsx(rbe,{})}),o.jsx(Ie,{path:"proveedores-compras",element:o.jsx(qbe,{})})]}),o.jsxs(Ie,{path:"/veterinario-dashboard",element:o.jsx(ki,{allowedRoles:["veterinario"],children:o.jsx(Wbe,{})}),children:[o.jsx(Ie,{index:!0,element:o.jsx(Hbe,{})})," ",o.jsx(Ie,{path:"gestionar-citas",element:o.jsx(Gbe,{})}),o.jsx(Ie,{path:"admin-citas-module",element:o.jsx($0,{})}),o.jsx(Ie,{path:"gestion-mascotas",element:o.jsx(jy,{})}),o.jsx(Ie,{path:"historial-clinico/:mascotaId?",element:o.jsx(E0,{})})]}),o.jsxs(Ie,{path:"/asistente-dashboard",element:o.jsx(ki,{allowedRoles:["asistente"],children:o.jsx(GE,{})}),children:[o.jsx(Ie,{index:!0,element:o.jsx(HE,{})})," ",o.jsx(Ie,{path:"gestionar-citas",element:o.jsx(XE,{})}),o.jsx(Ie,{path:"admin-citas-module",element:o.jsx($0,{})}),o.jsx(Ie,{path:"gestion-mascotas",element:o.jsx(jy,{})})]}),o.jsx(Ie,{path:"/appointments",element:o.jsx(ki,{allowedRoles:["admin","veterinario","asistente"],children:o.jsx(AH,{})})}),o.jsx(Ie,{path:"/my-pets",element:o.jsx(ki,{allowedRoles:["cliente"],children:o.jsx(DH,{})})}),o.jsx(Ie,{path:"/patients",element:o.jsx(ki,{allowedRoles:["admin","veterinario","asistente"],children:o.jsx(RH,{})})}),o.jsx(Ie,{path:"/purchases",element:o.jsx(ki,{allowedRoles:["admin"],children:o.jsx(gbe,{})})}),o.jsx(Ie,{path:"/users",element:o.jsx(ki,{allowedRoles:["admin"],children:o.jsx(jbe,{})})}),o.jsx(Ie,{path:"*",element:o.jsx(gs,{to:"/",replace:!0})})]})})});cA(document.getElementById("root")).render(o.jsx(S.StrictMode,{children:o.jsx(Kbe,{})}));export{nt as g};
